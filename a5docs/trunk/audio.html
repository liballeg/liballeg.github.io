<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Audio addon</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <script type="text/javascript" src="autosuggest.js"></script>
  <script type="text/javascript" src="search_index.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="sidebar">
<div>
<ul>
<li><a href="index.html"><strong>Contents</strong></a></li>
<li><a href="config.html">Configuration files</a></li>
<li><a href="display.html">Display</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="file.html">File I/O</a></li>
<li><a href="fshook.html">Filesystem</a></li>
<li><a href="fixed.html">Fixed point math</a></li>
<li><a href="fullscreen_mode.html">Fullscreen modes</a></li>
<li><a href="graphics.html">Graphics</a></li>
<li><a href="haptic.html">Haptic</a></li>
<li><a href="joystick.html">Joystick</a></li>
<li><a href="keyboard.html">Keyboard</a></li>
<li><a href="memory.html">Memory</a></li>
<li><a href="monitor.html">Monitor</a></li>
<li><a href="mouse.html">Mouse</a></li>
<li><a href="path.html">Path</a></li>
<li><a href="shader.html">Shader</a></li>
<li><a href="state.html">State</a></li>
<li><a href="system.html">System</a></li>
<li><a href="threads.html">Threads</a></li>
<li><a href="time.html">Time</a></li>
<li><a href="timer.html">Timer</a></li>
<li><a href="touch.html">Touch input</a></li>
<li><a href="transformations.html">Transformations</a></li>
<li><a href="utf8.html">UTF-8</a></li>
<li><a href="misc.html">Miscellaneous</a></li>
<li><a href="platform.html">Platform-specific</a></li>
<li><a href="direct3d.html">Direct3D</a></li>
<li><a href="opengl.html">OpenGL</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index.html#addons"><strong>Addons</strong></a></li>
<li><a href="audio.html">Audio addon</a></li>
<li><a href="acodec.html">Audio codecs</a></li>
<li><a href="color.html">Color addon</a></li>
<li><a href="font.html">Font addons</a></li>
<li><a href="image.html">Image I/O addon</a></li>
<li><a href="main.html">Main addon</a></li>
<li><a href="memfile.html">Memfile addon</a></li>
<li><a href="native_dialog.html">Native dialogs addon</a></li>
<li><a href="physfs.html">PhysicsFS addon</a></li>
<li><a href="primitives.html">Primitives addon</a></li>
<li><a href="video.html">Video streaming addon</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index_all.html"><strong>Index</strong></a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div class="searchbox">
<script type="text/javascript">
function on_search(index, control) {
    // Note to self: the less-than sign must NOT converted to an entity!
    // SCRIPT elements are special.  The HTML validator gives bad advice.
    for (i = 0; i < search_index.length; i++) {
        if (search_index[i] == control.keywords[index]) {
            break;
        }
    }
    location.href = search_urls[i];
}
</script>
Search<br/>
<input type="text" name="q" id="q" size="15" autocomplete="off" placeholder="Press ‘S’ to search" /><br/>
<script type="text/javascript"> new autosuggest("q", search_index, null, on_search); </script>
</div>
</div>
<div class="content">
<header id="title-block-header">
<h1 class="title">Audio addon</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#basic-audio" id="toc-basic-audio">Basic Audio</a>
<ul>
<li><a href="#allegro_sample_id"
id="toc-allegro_sample_id">ALLEGRO_SAMPLE_ID</a></li>
<li><a href="#al_install_audio"
id="toc-al_install_audio">al_install_audio</a></li>
<li><a href="#al_uninstall_audio"
id="toc-al_uninstall_audio">al_uninstall_audio</a></li>
<li><a href="#al_is_audio_installed"
id="toc-al_is_audio_installed">al_is_audio_installed</a></li>
<li><a href="#al_reserve_samples"
id="toc-al_reserve_samples">al_reserve_samples</a></li>
<li><a href="#al_play_sample"
id="toc-al_play_sample">al_play_sample</a></li>
<li><a href="#al_stop_sample"
id="toc-al_stop_sample">al_stop_sample</a></li>
<li><a href="#al_stop_samples"
id="toc-al_stop_samples">al_stop_samples</a></li>
<li><a href="#al_lock_sample_id"
id="toc-al_lock_sample_id">al_lock_sample_id</a></li>
<li><a href="#al_unlock_sample_id"
id="toc-al_unlock_sample_id">al_unlock_sample_id</a></li>
<li><a href="#al_play_audio_stream"
id="toc-al_play_audio_stream">al_play_audio_stream</a></li>
<li><a href="#al_play_audio_stream_f"
id="toc-al_play_audio_stream_f">al_play_audio_stream_f</a></li>
</ul></li>
<li><a href="#samples" id="toc-samples">Samples</a>
<ul>
<li><a href="#allegro_sample"
id="toc-allegro_sample">ALLEGRO_SAMPLE</a></li>
<li><a href="#al_create_sample"
id="toc-al_create_sample">al_create_sample</a></li>
<li><a href="#al_load_sample"
id="toc-al_load_sample">al_load_sample</a></li>
<li><a href="#al_load_sample_f"
id="toc-al_load_sample_f">al_load_sample_f</a></li>
<li><a href="#al_save_sample"
id="toc-al_save_sample">al_save_sample</a></li>
<li><a href="#al_save_sample_f"
id="toc-al_save_sample_f">al_save_sample_f</a></li>
<li><a href="#al_destroy_sample"
id="toc-al_destroy_sample">al_destroy_sample</a></li>
<li><a href="#al_get_sample_channels"
id="toc-al_get_sample_channels">al_get_sample_channels</a></li>
<li><a href="#al_get_sample_depth"
id="toc-al_get_sample_depth">al_get_sample_depth</a></li>
<li><a href="#al_get_sample_frequency"
id="toc-al_get_sample_frequency">al_get_sample_frequency</a></li>
<li><a href="#al_get_sample_length"
id="toc-al_get_sample_length">al_get_sample_length</a></li>
<li><a href="#al_get_sample_data"
id="toc-al_get_sample_data">al_get_sample_data</a></li>
</ul></li>
<li><a href="#advanced-audio" id="toc-advanced-audio">Advanced
Audio</a></li>
<li><a href="#sample-instances" id="toc-sample-instances">Sample
instances</a>
<ul>
<li><a href="#allegro_sample_instance"
id="toc-allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a></li>
<li><a href="#al_create_sample_instance"
id="toc-al_create_sample_instance">al_create_sample_instance</a></li>
<li><a href="#al_destroy_sample_instance"
id="toc-al_destroy_sample_instance">al_destroy_sample_instance</a></li>
<li><a href="#al_play_sample_instance"
id="toc-al_play_sample_instance">al_play_sample_instance</a></li>
<li><a href="#al_stop_sample_instance"
id="toc-al_stop_sample_instance">al_stop_sample_instance</a></li>
<li><a href="#al_get_sample_instance_channels"
id="toc-al_get_sample_instance_channels">al_get_sample_instance_channels</a></li>
<li><a href="#al_get_sample_instance_depth"
id="toc-al_get_sample_instance_depth">al_get_sample_instance_depth</a></li>
<li><a href="#al_get_sample_instance_frequency"
id="toc-al_get_sample_instance_frequency">al_get_sample_instance_frequency</a></li>
<li><a href="#al_get_sample_instance_length"
id="toc-al_get_sample_instance_length">al_get_sample_instance_length</a></li>
<li><a href="#al_set_sample_instance_length"
id="toc-al_set_sample_instance_length">al_set_sample_instance_length</a></li>
<li><a href="#al_get_sample_instance_position"
id="toc-al_get_sample_instance_position">al_get_sample_instance_position</a></li>
<li><a href="#al_set_sample_instance_position"
id="toc-al_set_sample_instance_position">al_set_sample_instance_position</a></li>
<li><a href="#al_get_sample_instance_speed"
id="toc-al_get_sample_instance_speed">al_get_sample_instance_speed</a></li>
<li><a href="#al_set_sample_instance_speed"
id="toc-al_set_sample_instance_speed">al_set_sample_instance_speed</a></li>
<li><a href="#al_get_sample_instance_gain"
id="toc-al_get_sample_instance_gain">al_get_sample_instance_gain</a></li>
<li><a href="#al_set_sample_instance_gain"
id="toc-al_set_sample_instance_gain">al_set_sample_instance_gain</a></li>
<li><a href="#al_get_sample_instance_pan"
id="toc-al_get_sample_instance_pan">al_get_sample_instance_pan</a></li>
<li><a href="#al_set_sample_instance_pan"
id="toc-al_set_sample_instance_pan">al_set_sample_instance_pan</a></li>
<li><a href="#al_get_sample_instance_time"
id="toc-al_get_sample_instance_time">al_get_sample_instance_time</a></li>
<li><a href="#al_get_sample_instance_playmode"
id="toc-al_get_sample_instance_playmode">al_get_sample_instance_playmode</a></li>
<li><a href="#al_set_sample_instance_playmode"
id="toc-al_set_sample_instance_playmode">al_set_sample_instance_playmode</a></li>
<li><a href="#al_get_sample_instance_playing"
id="toc-al_get_sample_instance_playing">al_get_sample_instance_playing</a></li>
<li><a href="#al_set_sample_instance_playing"
id="toc-al_set_sample_instance_playing">al_set_sample_instance_playing</a></li>
<li><a href="#al_get_sample_instance_attached"
id="toc-al_get_sample_instance_attached">al_get_sample_instance_attached</a></li>
<li><a href="#al_detach_sample_instance"
id="toc-al_detach_sample_instance">al_detach_sample_instance</a></li>
<li><a href="#al_get_sample"
id="toc-al_get_sample">al_get_sample</a></li>
<li><a href="#al_set_sample"
id="toc-al_set_sample">al_set_sample</a></li>
<li><a href="#al_set_sample_instance_channel_matrix"
id="toc-al_set_sample_instance_channel_matrix">al_set_sample_instance_channel_matrix</a></li>
</ul></li>
<li><a href="#audio-streams" id="toc-audio-streams">Audio streams</a>
<ul>
<li><a href="#allegro_audio_stream"
id="toc-allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a></li>
<li><a href="#al_create_audio_stream"
id="toc-al_create_audio_stream">al_create_audio_stream</a></li>
<li><a href="#al_load_audio_stream"
id="toc-al_load_audio_stream">al_load_audio_stream</a></li>
<li><a href="#al_load_audio_stream_f"
id="toc-al_load_audio_stream_f">al_load_audio_stream_f</a></li>
<li><a href="#al_destroy_audio_stream"
id="toc-al_destroy_audio_stream">al_destroy_audio_stream</a></li>
<li><a href="#al_get_audio_stream_event_source"
id="toc-al_get_audio_stream_event_source">al_get_audio_stream_event_source</a></li>
<li><a href="#al_drain_audio_stream"
id="toc-al_drain_audio_stream">al_drain_audio_stream</a></li>
<li><a href="#al_rewind_audio_stream"
id="toc-al_rewind_audio_stream">al_rewind_audio_stream</a></li>
<li><a href="#al_get_audio_stream_frequency"
id="toc-al_get_audio_stream_frequency">al_get_audio_stream_frequency</a></li>
<li><a href="#al_get_audio_stream_channels"
id="toc-al_get_audio_stream_channels">al_get_audio_stream_channels</a></li>
<li><a href="#al_get_audio_stream_depth"
id="toc-al_get_audio_stream_depth">al_get_audio_stream_depth</a></li>
<li><a href="#al_get_audio_stream_length"
id="toc-al_get_audio_stream_length">al_get_audio_stream_length</a></li>
<li><a href="#al_get_audio_stream_speed"
id="toc-al_get_audio_stream_speed">al_get_audio_stream_speed</a></li>
<li><a href="#al_set_audio_stream_speed"
id="toc-al_set_audio_stream_speed">al_set_audio_stream_speed</a></li>
<li><a href="#al_get_audio_stream_gain"
id="toc-al_get_audio_stream_gain">al_get_audio_stream_gain</a></li>
<li><a href="#al_set_audio_stream_gain"
id="toc-al_set_audio_stream_gain">al_set_audio_stream_gain</a></li>
<li><a href="#al_get_audio_stream_pan"
id="toc-al_get_audio_stream_pan">al_get_audio_stream_pan</a></li>
<li><a href="#al_set_audio_stream_pan"
id="toc-al_set_audio_stream_pan">al_set_audio_stream_pan</a></li>
<li><a href="#al_get_audio_stream_playing"
id="toc-al_get_audio_stream_playing">al_get_audio_stream_playing</a></li>
<li><a href="#al_set_audio_stream_playing"
id="toc-al_set_audio_stream_playing">al_set_audio_stream_playing</a></li>
<li><a href="#al_get_audio_stream_playmode"
id="toc-al_get_audio_stream_playmode">al_get_audio_stream_playmode</a></li>
<li><a href="#al_set_audio_stream_playmode"
id="toc-al_set_audio_stream_playmode">al_set_audio_stream_playmode</a></li>
<li><a href="#al_get_audio_stream_attached"
id="toc-al_get_audio_stream_attached">al_get_audio_stream_attached</a></li>
<li><a href="#al_detach_audio_stream"
id="toc-al_detach_audio_stream">al_detach_audio_stream</a></li>
<li><a href="#al_get_audio_stream_played_samples"
id="toc-al_get_audio_stream_played_samples">al_get_audio_stream_played_samples</a></li>
<li><a href="#al_get_audio_stream_fragment"
id="toc-al_get_audio_stream_fragment">al_get_audio_stream_fragment</a></li>
<li><a href="#al_set_audio_stream_fragment"
id="toc-al_set_audio_stream_fragment">al_set_audio_stream_fragment</a></li>
<li><a href="#al_get_audio_stream_fragments"
id="toc-al_get_audio_stream_fragments">al_get_audio_stream_fragments</a></li>
<li><a href="#al_get_available_audio_stream_fragments"
id="toc-al_get_available_audio_stream_fragments">al_get_available_audio_stream_fragments</a></li>
<li><a href="#al_seek_audio_stream_secs"
id="toc-al_seek_audio_stream_secs">al_seek_audio_stream_secs</a></li>
<li><a href="#al_get_audio_stream_position_secs"
id="toc-al_get_audio_stream_position_secs">al_get_audio_stream_position_secs</a></li>
<li><a href="#al_get_audio_stream_length_secs"
id="toc-al_get_audio_stream_length_secs">al_get_audio_stream_length_secs</a></li>
<li><a href="#al_set_audio_stream_loop_secs"
id="toc-al_set_audio_stream_loop_secs">al_set_audio_stream_loop_secs</a></li>
<li><a href="#al_set_audio_stream_channel_matrix"
id="toc-al_set_audio_stream_channel_matrix">al_set_audio_stream_channel_matrix</a></li>
</ul></li>
<li><a href="#advanced-audio-file-io"
id="toc-advanced-audio-file-io">Advanced audio file I/O</a>
<ul>
<li><a href="#al_register_sample_loader"
id="toc-al_register_sample_loader">al_register_sample_loader</a></li>
<li><a href="#al_register_sample_loader_f"
id="toc-al_register_sample_loader_f">al_register_sample_loader_f</a></li>
<li><a href="#al_register_sample_saver"
id="toc-al_register_sample_saver">al_register_sample_saver</a></li>
<li><a href="#al_register_sample_saver_f"
id="toc-al_register_sample_saver_f">al_register_sample_saver_f</a></li>
<li><a href="#al_register_audio_stream_loader"
id="toc-al_register_audio_stream_loader">al_register_audio_stream_loader</a></li>
<li><a href="#al_register_audio_stream_loader_f"
id="toc-al_register_audio_stream_loader_f">al_register_audio_stream_loader_f</a></li>
<li><a href="#al_register_sample_identifier"
id="toc-al_register_sample_identifier">al_register_sample_identifier</a></li>
<li><a href="#al_identify_sample"
id="toc-al_identify_sample">al_identify_sample</a></li>
<li><a href="#al_identify_sample_f"
id="toc-al_identify_sample_f">al_identify_sample_f</a></li>
</ul></li>
<li><a href="#audio-recording" id="toc-audio-recording">Audio
recording</a>
<ul>
<li><a href="#allegro_audio_recorder"
id="toc-allegro_audio_recorder">ALLEGRO_AUDIO_RECORDER</a></li>
<li><a href="#allegro_audio_recorder_event"
id="toc-allegro_audio_recorder_event">ALLEGRO_AUDIO_RECORDER_EVENT</a></li>
<li><a href="#al_create_audio_recorder"
id="toc-al_create_audio_recorder">al_create_audio_recorder</a></li>
<li><a href="#al_start_audio_recorder"
id="toc-al_start_audio_recorder">al_start_audio_recorder</a></li>
<li><a href="#al_stop_audio_recorder"
id="toc-al_stop_audio_recorder">al_stop_audio_recorder</a></li>
<li><a href="#al_is_audio_recorder_recording"
id="toc-al_is_audio_recorder_recording">al_is_audio_recorder_recording</a></li>
<li><a href="#al_get_audio_recorder_event"
id="toc-al_get_audio_recorder_event">al_get_audio_recorder_event</a></li>
<li><a href="#al_get_audio_recorder_event_source"
id="toc-al_get_audio_recorder_event_source">al_get_audio_recorder_event_source</a></li>
<li><a href="#al_destroy_audio_recorder"
id="toc-al_destroy_audio_recorder">al_destroy_audio_recorder</a></li>
</ul></li>
<li><a href="#audio-devices" id="toc-audio-devices">Audio devices</a>
<ul>
<li><a href="#allegro_audio_device"
id="toc-allegro_audio_device">ALLEGRO_AUDIO_DEVICE</a></li>
<li><a href="#al_get_num_audio_output_devices"
id="toc-al_get_num_audio_output_devices">al_get_num_audio_output_devices</a></li>
<li><a href="#al_get_audio_output_device"
id="toc-al_get_audio_output_device">al_get_audio_output_device</a></li>
<li><a href="#al_get_audio_device_name"
id="toc-al_get_audio_device_name">al_get_audio_device_name</a></li>
</ul></li>
<li><a href="#voices" id="toc-voices">Voices</a>
<ul>
<li><a href="#allegro_voice"
id="toc-allegro_voice">ALLEGRO_VOICE</a></li>
<li><a href="#al_create_voice"
id="toc-al_create_voice">al_create_voice</a></li>
<li><a href="#al_destroy_voice"
id="toc-al_destroy_voice">al_destroy_voice</a></li>
<li><a href="#al_detach_voice"
id="toc-al_detach_voice">al_detach_voice</a></li>
<li><a href="#al_attach_audio_stream_to_voice"
id="toc-al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</a></li>
<li><a href="#al_attach_mixer_to_voice"
id="toc-al_attach_mixer_to_voice">al_attach_mixer_to_voice</a></li>
<li><a href="#al_attach_sample_instance_to_voice"
id="toc-al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a></li>
<li><a href="#al_get_voice_frequency"
id="toc-al_get_voice_frequency">al_get_voice_frequency</a></li>
<li><a href="#al_get_voice_channels"
id="toc-al_get_voice_channels">al_get_voice_channels</a></li>
<li><a href="#al_get_voice_depth"
id="toc-al_get_voice_depth">al_get_voice_depth</a></li>
<li><a href="#al_get_voice_playing"
id="toc-al_get_voice_playing">al_get_voice_playing</a></li>
<li><a href="#al_set_voice_playing"
id="toc-al_set_voice_playing">al_set_voice_playing</a></li>
<li><a href="#al_get_voice_position"
id="toc-al_get_voice_position">al_get_voice_position</a></li>
<li><a href="#al_set_voice_position"
id="toc-al_set_voice_position">al_set_voice_position</a></li>
<li><a href="#al_voice_has_attachments"
id="toc-al_voice_has_attachments">al_voice_has_attachments</a></li>
</ul></li>
<li><a href="#mixers" id="toc-mixers">Mixers</a>
<ul>
<li><a href="#allegro_mixer"
id="toc-allegro_mixer">ALLEGRO_MIXER</a></li>
<li><a href="#allegro_mixer_quality"
id="toc-allegro_mixer_quality">ALLEGRO_MIXER_QUALITY</a></li>
<li><a href="#al_create_mixer"
id="toc-al_create_mixer">al_create_mixer</a></li>
<li><a href="#al_destroy_mixer"
id="toc-al_destroy_mixer">al_destroy_mixer</a></li>
<li><a href="#al_get_default_mixer"
id="toc-al_get_default_mixer">al_get_default_mixer</a></li>
<li><a href="#al_set_default_mixer"
id="toc-al_set_default_mixer">al_set_default_mixer</a></li>
<li><a href="#al_restore_default_mixer"
id="toc-al_restore_default_mixer">al_restore_default_mixer</a></li>
<li><a href="#al_get_default_voice"
id="toc-al_get_default_voice">al_get_default_voice</a></li>
<li><a href="#al_set_default_voice"
id="toc-al_set_default_voice">al_set_default_voice</a></li>
<li><a href="#al_attach_mixer_to_mixer"
id="toc-al_attach_mixer_to_mixer">al_attach_mixer_to_mixer</a></li>
<li><a href="#al_attach_sample_instance_to_mixer"
id="toc-al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</a></li>
<li><a href="#al_attach_audio_stream_to_mixer"
id="toc-al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</a></li>
<li><a href="#al_get_mixer_frequency"
id="toc-al_get_mixer_frequency">al_get_mixer_frequency</a></li>
<li><a href="#al_set_mixer_frequency"
id="toc-al_set_mixer_frequency">al_set_mixer_frequency</a></li>
<li><a href="#al_get_mixer_channels"
id="toc-al_get_mixer_channels">al_get_mixer_channels</a></li>
<li><a href="#al_get_mixer_depth"
id="toc-al_get_mixer_depth">al_get_mixer_depth</a></li>
<li><a href="#al_get_mixer_gain"
id="toc-al_get_mixer_gain">al_get_mixer_gain</a></li>
<li><a href="#al_set_mixer_gain"
id="toc-al_set_mixer_gain">al_set_mixer_gain</a></li>
<li><a href="#al_get_mixer_quality"
id="toc-al_get_mixer_quality">al_get_mixer_quality</a></li>
<li><a href="#al_set_mixer_quality"
id="toc-al_set_mixer_quality">al_set_mixer_quality</a></li>
<li><a href="#al_get_mixer_playing"
id="toc-al_get_mixer_playing">al_get_mixer_playing</a></li>
<li><a href="#al_set_mixer_playing"
id="toc-al_set_mixer_playing">al_set_mixer_playing</a></li>
<li><a href="#al_get_mixer_attached"
id="toc-al_get_mixer_attached">al_get_mixer_attached</a></li>
<li><a href="#al_mixer_has_attachments"
id="toc-al_mixer_has_attachments">al_mixer_has_attachments</a></li>
<li><a href="#al_detach_mixer"
id="toc-al_detach_mixer">al_detach_mixer</a></li>
<li><a href="#al_set_mixer_postprocess_callback"
id="toc-al_set_mixer_postprocess_callback">al_set_mixer_postprocess_callback</a></li>
</ul></li>
<li><a href="#miscelaneous" id="toc-miscelaneous">Miscelaneous</a>
<ul>
<li><a href="#allegro_audio_depth"
id="toc-allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a></li>
<li><a href="#allegro_audio_pan_none"
id="toc-allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a></li>
<li><a href="#allegro_channel_conf"
id="toc-allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a></li>
<li><a href="#allegro_playmode"
id="toc-allegro_playmode">ALLEGRO_PLAYMODE</a></li>
<li><a href="#allegro_audio_event_type"
id="toc-allegro_audio_event_type">ALLEGRO_AUDIO_EVENT_TYPE</a>
<ul>
<li><a href="#allegro_event_audio_stream_fragment"
id="toc-allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a></li>
<li><a href="#allegro_event_audio_stream_finished"
id="toc-allegro_event_audio_stream_finished">ALLEGRO_EVENT_AUDIO_STREAM_FINISHED</a></li>
<li><a href="#allegro_event_audio_recorder_fragment"
id="toc-allegro_event_audio_recorder_fragment">ALLEGRO_EVENT_AUDIO_RECORDER_FRAGMENT</a></li>
</ul></li>
<li><a href="#al_get_allegro_audio_version"
id="toc-al_get_allegro_audio_version">al_get_allegro_audio_version</a></li>
<li><a href="#al_get_audio_depth_size"
id="toc-al_get_audio_depth_size">al_get_audio_depth_size</a></li>
<li><a href="#al_get_channel_count"
id="toc-al_get_channel_count">al_get_channel_count</a></li>
<li><a href="#al_fill_silence"
id="toc-al_fill_silence">al_fill_silence</a></li>
</ul></li>
</ul>
</nav>
<p>These functions are declared in the following header file. Link with
allegro_audio.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a> <span class="pp">#include </span><span class="im">&lt;allegro5/allegro_audio.h&gt;</span></span></code></pre></div>
<h1 id="basic-audio">Basic Audio</h1>
<p>In order to just play some sounds (called samples in Allegro) and
background music, here’s how to quick start with Allegro’s audio addon:
Call <a href="audio.html#al_reserve_samples">al_reserve_samples</a> with
the number of samples you’d like to be able to play simultaneously
(don’t forget to call <a
href="audio.html#al_install_audio">al_install_audio</a> beforehand). If
these succeed, you can now call <a
href="audio.html#al_play_sample">al_play_sample</a>, with data obtained
by <a href="audio.html#al_load_sample">al_load_sample</a>, for example
(don’t forget to <a href="acodec.html#al_init_acodec_addon">initialize
the acodec addon</a>). In order to stop samples, you can use the <a
href="audio.html#allegro_sample_id">ALLEGRO_SAMPLE_ID</a> that
al_play_sample returns.</p>
<p>If you want to play large audio files (e.g. background music) without
loading the whole file at once you can use <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a> (after
calling <a href="audio.html#al_reserve_samples">al_reserve_samples</a>).
This will load and play an <code>ALLEGRO_AUDIO_STREAM</code>. Note that
the basic API only supports one such audio stream playing at once.</p>
<h2 id="allegro_sample_id">ALLEGRO_SAMPLE_ID</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_SAMPLE_ID ALLEGRO_SAMPLE_ID<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L151">Source
Code</a></p>
<p>An ALLEGRO_SAMPLE_ID represents a sample being played via <a
href="audio.html#al_play_sample">al_play_sample</a>. It can be used to
later stop the sample with <a
href="audio.html#al_stop_sample">al_stop_sample</a>. The underlying
ALLEGRO_SAMPLE_INSTANCE can be extracted using <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L33">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_install_audio">al_install_audio</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_install_audio<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L422">Source
Code</a></p>
<p>Install the audio subsystem.</p>
<p>Returns true on success, false on failure.</p>
<blockquote>
<p>Note: most users will call <a
href="audio.html#al_reserve_samples">al_reserve_samples</a> and <a
href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a> after
this.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>, <a
href="audio.html#al_uninstall_audio">al_uninstall_audio</a>, <a
href="audio.html#al_is_audio_installed">al_is_audio_installed</a>, <a
href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_devices.c#L20">ex_audio_devices.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L95">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L53">ex_stream_file.c</a></li>
</ul>
<h2 id="al_uninstall_audio">al_uninstall_audio</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_uninstall_audio<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L441">Source
Code</a></p>
<p>Uninstalls the audio subsystem.</p>
<p>See also: <a
href="audio.html#al_install_audio">al_install_audio</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L123">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L133">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L134">ex_acodec_multi.c</a></li>
</ul>
<h2 id="al_is_audio_installed">al_is_audio_installed</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_audio_installed<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L456">Source
Code</a></p>
<p>Returns true if <a
href="audio.html#al_install_audio">al_install_audio</a> was called
previously and returned successfully.</p>
<h2 id="al_reserve_samples">al_reserve_samples</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_reserve_samples<span class="op">(</span><span class="dt">int</span> reserve_samples<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L207">Source
Code</a></p>
<p>Reserves a number of sample instances, attaching them to the default
mixer. If no default mixer is set when this function is called, then it
will create one and attach it to the default voice. If no default voice
has been set, it, too, will be created.</p>
<p>If you call this function a second time with a smaller number of
samples, then the excess internal sample instances will be destroyed
causing some sounds to stop and some instances returned by <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a> to be
invalidated.</p>
<p>This diagram illustrates the structures that are set up:</p>
<pre><code>                                      sample instance 1
                                    / sample instance 2
default voice &lt;-- default mixer &lt;---         .
                                    \        .
                                      sample instance N</code></pre>
<p>Returns true on success, false on error. <a
href="audio.html#al_install_audio">al_install_audio</a> must have been
called first.</p>
<p>See also: <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>, <a
href="audio.html#al_play_sample">al_play_sample</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L98">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L167">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L182">ex_resample_test.c</a></li>
</ul>
<h2 id="al_play_sample">al_play_sample</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_play_sample<span class="op">(</span>ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">float</span> gain<span class="op">,</span> <span class="dt">float</span> pan<span class="op">,</span> <span class="dt">float</span> speed<span class="op">,</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_PLAYMODE loop<span class="op">,</span> ALLEGRO_SAMPLE_ID <span class="op">*</span>ret_id<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L342">Source
Code</a></p>
<p>Plays a sample on one of the sample instances created by <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>. Returns
true on success, false on failure. Playback may fail because all the
reserved sample instances are currently used.</p>
<p>Parameters:</p>
<ul>
<li>gain - relative volume at which the sample is played; 1.0 is
normal.</li>
<li>pan - 0.0 is centred, -1.0 is left, 1.0 is right, or
ALLEGRO_AUDIO_PAN_NONE.</li>
<li>speed - relative speed at which the sample is played; 1.0 is
normal.</li>
<li>loop - ALLEGRO_PLAYMODE_ONCE, ALLEGRO_PLAYMODE_LOOP, or
ALLEGRO_PLAYMODE_BIDIR</li>
<li>ret_id - if non-NULL the variable which this points to will be
assigned an id representing the sample being played. If <a
href="audio.html#al_play_sample">al_play_sample</a> returns
<code>false</code>, then the contents of ret_id are invalid and must not
be used as argument to other functions.</li>
</ul>
<p>See also: <a href="audio.html#al_load_sample">al_load_sample</a>, <a
href="audio.html#allegro_playmode">ALLEGRO_PLAYMODE</a>, <a
href="audio.html#allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a>, <a
href="audio.html#allegro_sample_id">ALLEGRO_SAMPLE_ID</a>, <a
href="audio.html#al_stop_sample">al_stop_sample</a>, <a
href="audio.html#al_stop_samples">al_stop_samples</a>, <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L107">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L80">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L90">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_stop_sample">al_stop_sample</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_stop_sample<span class="op">(</span>ALLEGRO_SAMPLE_ID <span class="op">*</span>spl_id<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L401">Source
Code</a></p>
<p>Stop the sample started by <a
href="audio.html#al_play_sample">al_play_sample</a>.</p>
<p>See also: <a
href="audio.html#al_stop_samples">al_stop_samples</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L123">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L88">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L108">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_stop_samples">al_stop_samples</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_stop_samples<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L451">Source
Code</a></p>
<p>Stop all samples started by <a
href="audio.html#al_play_sample">al_play_sample</a>.</p>
<p>See also: <a href="audio.html#al_stop_sample">al_stop_sample</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L112">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_lock_sample_id">al_lock_sample_id</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE_INSTANCE<span class="op">*</span> al_lock_sample_id<span class="op">(</span>ALLEGRO_SAMPLE_ID <span class="op">*</span>spl_id<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L417">Source
Code</a></p>
<p>Locks a <a href="audio.html#allegro_sample_id">ALLEGRO_SAMPLE_ID</a>,
returning the underlying <a
href="audio.html#allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a>.
This allows you to adjust the various properties of the instance (such
as volume, pan, etc) while the sound is playing.</p>
<p>This function will return <code>NULL</code> if the sound
corresponding to the id is no longer playing.</p>
<p>While locked, <code>ALLEGRO_SAMPLE_ID</code> will be unavailable to
additional calls to <a
href="audio.html#al_play_sample">al_play_sample</a>, even if the sound
stops while locked. To put the <code>ALLEGRO_SAMPLE_ID</code> back into
the pool for reuse, make sure to call <code>al_unlock_sample_id</code>
when you’re done with the instance.</p>
<p>See also: <a href="audio.html#al_play_sample">al_play_sample</a>, <a
href="audio.html#al_unlock_sample_id">al_unlock_sample_id</a></p>
<p>Since: 5.2.3</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L142">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_unlock_sample_id">al_unlock_sample_id</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unlock_sample_id<span class="op">(</span>ALLEGRO_SAMPLE_ID <span class="op">*</span>spl_id<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L435">Source
Code</a></p>
<p>Unlocks a <a
href="audio.html#allegro_sample_id">ALLEGRO_SAMPLE_ID</a>, allowing
future calls to <a href="audio.html#al_play_sample">al_play_sample</a>
to reuse it if possible. Note that after the id is unlocked, the <a
href="audio.html#allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a>
that was previously returned by <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a> will possibly
be playing a different sound, so you should only use it after locking
the id again.</p>
<p>See also: <a href="audio.html#al_play_sample">al_play_sample</a>, <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a></p>
<p>Since: 5.2.3</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L145">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_play_audio_stream">al_play_audio_stream</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>al_play_audio_stream<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L410">Source
Code</a></p>
<p>Loads and plays an audio file, streaming from disk as it is needed.
This API can only play one audio stream at a time. This requires a
default mixer to be set, which is typically done via <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>, but can
also be done via <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>.</p>
<p>Returns the stream on success, NULL on failure. You must not destroy
the returned stream, it will be automatically destroyed when the addon
is shut down.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>, <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a></p>
<p>Since: 5.2.8</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L176">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_play_audio_stream_f">al_play_audio_stream_f</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>al_play_audio_stream_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L433">Source
Code</a></p>
<p>Loads and plays an audio file from <a
href="file.html#allegro_file">ALLEGRO_FILE</a> stream, streaming it is
needed. This API can only play one audio stream at a time. This requires
a default mixer to be set, which is typically done via <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>, but can
also be done via <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>.</p>
<p>The file type is determined by the passed ‘ident’ parameter, which is
a file name extension including the leading dot.</p>
<p>Returns the stream on success, NULL on failure. You must not destroy
the returned stream, it will be automatically destroyed when the addon
is shut down. On success the file should be considered owned by the
audio stream, and will be closed when the audio stream is destroyed. On
failure the file will be closed.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a></p>
<p>Since: 5.2.8</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<h1 id="samples">Samples</h1>
<h2 id="allegro_sample">ALLEGRO_SAMPLE</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_SAMPLE ALLEGRO_SAMPLE<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L146">Source
Code</a></p>
<p>An ALLEGRO_SAMPLE object stores the data necessary for playing
pre-defined digital audio. It holds a user-specified PCM data buffer and
information about its format (data length, depth, frequency, channel
configuration). You can have the same ALLEGRO_SAMPLE playing multiple
times simultaneously.</p>
<p>See also: <a
href="audio.html#allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_glext.c#L216">ex_glext.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L21">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L15">ex_kcm_direct.c</a></li>
</ul>
<h2 id="al_create_sample">al_create_sample</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE <span class="op">*</span>al_create_sample<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>buf<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">,</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">int</span> freq<span class="op">,</span> ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_CHANNEL_CONF chan_conf<span class="op">,</span> <span class="dt">bool</span> free_buf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L135">Source
Code</a></p>
<p>Create a sample data structure from the supplied buffer. If
<code>free_buf</code> is true then the buffer will be freed with <a
href="memory.html#al_free">al_free</a> when the sample data structure is
destroyed. For portability (especially Windows), the buffer should have
been allocated with <a href="memory.html#al_malloc">al_malloc</a>.
Otherwise you should free the sample data yourself.</p>
<p>A sample that is referred to by the <code>samples</code> parameter
refers to a sequence channel intensities. E.g. if you’re making a stereo
sample with the <code>samples</code> set to 4, then the layout of the
data in <code>buf</code> will be:</p>
<pre><code>LRLRLRLR</code></pre>
<p>Where L and R are the intensities for the left and right channels
respectively. A single sample, then, refers to the LR pair in this
example.</p>
<p>To allocate a buffer of the correct size, you can use something like
this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> sample_size <span class="op">=</span> al_get_channel_count<span class="op">(</span>chan_conf<span class="op">)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                  <span class="op">*</span> al_get_audio_depth_size<span class="op">(</span>depth<span class="op">);</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> bytes <span class="op">=</span> samples <span class="op">*</span> sample_size<span class="op">;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>buffer <span class="op">=</span> al_malloc<span class="op">(</span>bytes<span class="op">);</span></span></code></pre></div>
<p>See also: <a
href="audio.html#al_destroy_sample">al_destroy_sample</a>, <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>, <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L83">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L52">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L72">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_load_sample">al_load_sample</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE <span class="op">*</span>al_load_sample<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L306">Source
Code</a></p>
<p>Loads a few different audio file formats based on their
extension.</p>
<p>Note that this stores the entire file in memory at once, which may be
time consuming. To read the file as it is needed, use <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a> or <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>.</p>
<p>Returns the sample on success, NULL on failure.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_register_sample_loader">al_register_sample_loader</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L78">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L45">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L68">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_load_sample_f">al_load_sample_f</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE <span class="op">*</span>al_load_sample_f<span class="op">(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L336">Source
Code</a></p>
<p>Loads an audio file from an <a
href="file.html#allegro_file">ALLEGRO_FILE</a> stream into an <a
href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a>. The file type is
determined by the passed ‘ident’ parameter, which is a file name
extension including the leading dot.</p>
<p>Note that this stores the entire file in memory at once, which may be
time consuming. To read the file as it is needed, use <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>Returns the sample on success, NULL on failure. The file remains open
afterwards.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_register_sample_loader_f">al_register_sample_loader_f</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<h2 id="al_save_sample">al_save_sample</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_save_sample<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L457">Source
Code</a></p>
<p>Writes a sample into a file. Currently, wav is the only supported
format, and the extension must be “.wav”.</p>
<p>Returns true on success, false on error.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a href="audio.html#al_save_sample_f">al_save_sample_f</a>,
<a
href="audio.html#al_register_sample_saver">al_register_sample_saver</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<h2 id="al_save_sample_f">al_save_sample_f</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_save_sample_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">,</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L484">Source
Code</a></p>
<p>Writes a sample into a <a
href="file.html#allegro_file">ALLEGRO_FILE</a> filestream. Currently,
wav is the only supported format, and the extension must be “.wav”.</p>
<p>Returns true on success, false on error. The file remains open
afterwards.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a href="audio.html#al_save_sample">al_save_sample</a>, <a
href="audio.html#al_register_sample_saver_f">al_register_sample_saver_f</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<h2 id="al_destroy_sample">al_destroy_sample</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_sample<span class="op">(</span>ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L188">Source
Code</a></p>
<p>Free the sample data structure. If it was created with the
<code>free_buf</code> parameter set to true, then the buffer will be
freed with <a href="memory.html#al_free">al_free</a>.</p>
<p>This function will stop any sample instances which may be playing the
buffer referenced by the <a
href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a>.</p>
<p>See also: <a
href="audio.html#al_destroy_sample_instance">al_destroy_sample_instance</a>,
<a href="audio.html#al_stop_sample">al_stop_sample</a>, <a
href="audio.html#al_stop_samples">al_stop_samples</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L86">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L93">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L115">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_get_sample_channels">al_get_sample_channels</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_CHANNEL_CONF al_get_sample_channels<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L494">Source
Code</a></p>
<p>Return the channel configuration of the sample.</p>
<p>See also: <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>, <a
href="audio.html#al_get_sample_depth">al_get_sample_depth</a>, <a
href="audio.html#al_get_sample_frequency">al_get_sample_frequency</a>,
<a href="audio.html#al_get_sample_length">al_get_sample_length</a>, <a
href="audio.html#al_get_sample_data">al_get_sample_data</a></p>
<h2 id="al_get_sample_depth">al_get_sample_depth</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_DEPTH al_get_sample_depth<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L484">Source
Code</a></p>
<p>Return the audio depth of the sample.</p>
<p>See also: <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>, <a
href="audio.html#al_get_sample_channels">al_get_sample_channels</a>, <a
href="audio.html#al_get_sample_frequency">al_get_sample_frequency</a>,
<a href="audio.html#al_get_sample_length">al_get_sample_length</a>, <a
href="audio.html#al_get_sample_data">al_get_sample_data</a></p>
<h2 id="al_get_sample_frequency">al_get_sample_frequency</h2>
<div class="sourceCode" id="cb26"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_sample_frequency<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L464">Source
Code</a></p>
<p>Return the frequency (in Hz) of the sample.</p>
<p>See also: <a
href="audio.html#al_get_sample_channels">al_get_sample_channels</a>, <a
href="audio.html#al_get_sample_depth">al_get_sample_depth</a>, <a
href="audio.html#al_get_sample_length">al_get_sample_length</a>, <a
href="audio.html#al_get_sample_data">al_get_sample_data</a></p>
<h2 id="al_get_sample_length">al_get_sample_length</h2>
<div class="sourceCode" id="cb27"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_sample_length<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L474">Source
Code</a></p>
<p>Return the length of the sample in sample values.</p>
<p>See also: <a
href="audio.html#al_get_sample_channels">al_get_sample_channels</a>, <a
href="audio.html#al_get_sample_depth">al_get_sample_depth</a>, <a
href="audio.html#al_get_sample_frequency">al_get_sample_frequency</a>,
<a href="audio.html#al_get_sample_data">al_get_sample_data</a></p>
<h2 id="al_get_sample_data">al_get_sample_data</h2>
<div class="sourceCode" id="cb28"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>al_get_sample_data<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L504">Source
Code</a></p>
<p>Return a pointer to the raw sample data.</p>
<p>See also: <a
href="audio.html#al_get_sample_channels">al_get_sample_channels</a>, <a
href="audio.html#al_get_sample_depth">al_get_sample_depth</a>, <a
href="audio.html#al_get_sample_frequency">al_get_sample_frequency</a>,
<a href="audio.html#al_get_sample_length">al_get_sample_length</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_timer.c#L48">ex_audio_timer.c</a></li>
</ul>
<h1 id="advanced-audio">Advanced Audio</h1>
<p>For more fine-grained control over audio output, here’s a short
description of the basic concepts:</p>
<p>Voices represent audio devices on the system. Basically, every audio
output chain that you want to be heard needs to end up in a voice. As
voices are on the hardware/driver side of things, there is only limited
control over their parameters (frequency, sample format, channel
configuration). The number of available voices is limited as well.
Typically, you will only use one voice and attach a mixer to it. Calling
<a href="audio.html#al_reserve_samples">al_reserve_samples</a> will do
this for you by setting up a default voice and mixer; it can also be
achieved by calling <a
href="audio.html#al_restore_default_mixer">al_restore_default_mixer</a>.
Although you <em>can</em> attach sample instances and audio streams
directly to a voice without using a mixer, it is, as of now, not
recommended. In contrast to mixers, you can only attach a single object
to a voice anyway.</p>
<p>Mixers mix several sample instances and/or audio streams into a
single output buffer, converting sample data with differing formats
according to their output parameters (frequency, depth, channels) in the
process. In order to play several samples/streams at once reliably, you
will need at least one mixer. A mixer that is not (indirectly) attached
to a voice will remain silent. For most use cases, one (default) mixer
attached to a single voice will be sufficient. You may attach mixers to
other mixers in order to create complex audio chains.</p>
<p>Samples (<a href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a>) just
represent “passive” buffers for sample data in memory. In order to play
a sample, a sample instance (<a
href="audio.html#allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a>)
needs to be created and attached to a mixer (or voice). Sample instances
control <em>how</em> the underlying samples are played. Several playback
parameters (position, speed, gain, pan, playmode, playing/paused) can be
adjusted. Particularly, multiple instances may be created from the same
sample, e.g. with different parameters.</p>
<p>Audio streams (<a
href="audio.html#allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a>) are
similar to sample instances insofar as they respond to the same playback
parameters and have to be attached to mixers or voices. A single audio
stream can only be played once simultaneously.</p>
<p>For example, consider the following configuration of the audio
system.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VOICE<span class="op">*</span> voice <span class="op">=</span> al_create_voice<span class="op">(</span><span class="dv">44100</span><span class="op">,</span> ALLEGRO_AUDIO_DEPTH_INT16<span class="op">,</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    ALLEGRO_CHANNEL_CONF_2<span class="op">);</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>ALLEGRO_MIXER<span class="op">*</span> mixer_1 <span class="op">=</span> al_create_mixer<span class="op">(</span><span class="dv">44100</span><span class="op">,</span> ALLEGRO_AUDIO_DEPTH_FLOAT32<span class="op">,</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    ALLEGRO_CHANNEL_CONF_2<span class="op">);</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>ALLEGRO_MIXER<span class="op">*</span> mixer_2 <span class="op">=</span> al_create_mixer<span class="op">(</span><span class="dv">44100</span><span class="op">,</span> ALLEGRO_AUDIO_DEPTH_FLOAT32<span class="op">,</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    ALLEGRO_CHANNEL_CONF_2<span class="op">);</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">/* Load a stream, the stream starts in a playing state and just needs</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co"> * to be attached to actually output sound. */</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM<span class="op">*</span> stream <span class="op">=</span> al_load_audio_stream<span class="op">(</span><span class="st">&quot;music.ogg&quot;</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2048</span><span class="op">);</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">/* The sample needs sample instances to output sound. */</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE<span class="op">*</span> sample <span class="op">=</span> al_load_sample<span class="op">(</span><span class="st">&quot;sound.wav&quot;</span><span class="op">)</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE_INSTANCE<span class="op">*</span> instance_1 <span class="op">=</span> al_create_sample_instance<span class="op">(</span>sample<span class="op">);</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE_INSTANCE<span class="op">*</span> instance_2 <span class="op">=</span> al_create_sample_instance<span class="op">(</span>sample<span class="op">);</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co">/* Attach everything up (see diagram). */</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>al_attach_mixer_to_voice<span class="op">(</span>mixer_1<span class="op">,</span> voice<span class="op">);</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>al_attach_mixer_to_mixer<span class="op">(</span>mixer_2<span class="op">,</span> mixer_1<span class="op">);</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>al_attach_audio_stream_to_mixer<span class="op">(</span>stream<span class="op">,</span> mixer_1<span class="op">);</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>al_attach_sample_instance_to_mixer<span class="op">(</span>instance_1<span class="op">,</span> mixer_2<span class="op">);</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>al_attach_sample_instance_to_mixer<span class="op">(</span>instance_2<span class="op">,</span> mixer_2<span class="op">);</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="co">/* Play two copies of the sound simultaneously. */</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>al_set_sample_instance_playing<span class="op">(</span>instance_1<span class="op">,</span> true<span class="op">);</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>al_set_sample_instance_playing<span class="op">(</span>instance_2<span class="op">,</span> true<span class="op">);</span></span></code></pre></div>
<figure>
<img src="images/audio.png"
alt="An example configuration of the audio system to play music and a sound." />
<figcaption aria-hidden="true"><em>An example configuration of the audio
system to play music and a sound.</em></figcaption>
</figure>
<p>Since we have two mixers, with the sample instances connected to a
different mixer than the audio stream, you can control the volume of all
the instances independently from the music by setting the gain of the
mixer / stream. Having two sample instances lets you play two copies of
the sample simultaneously.</p>
<p>With this in mind, another look at <a
href="audio.html#al_reserve_samples">al_reserve_samples</a> and <a
href="audio.html#al_play_sample">al_play_sample</a> is due: What the
former does internally is to create a specified number of sample
instances that are “empty” at first, i.e. with no sample data set. When
al_play_sample is called, it’ll use one of these internal sample
instances that is not currently playing to play the requested sample.
All of these sample instances will be attached to the default mixer,
which can be changed via <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>.</p>
<h1 id="sample-instances">Sample instances</h1>
<h2 id="allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_SAMPLE_INSTANCE ALLEGRO_SAMPLE_INSTANCE<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L161">Source
Code</a></p>
<p>An ALLEGRO_SAMPLE_INSTANCE object represents a playable instance of a
predefined sound effect. It holds information about how the effect
should be played: These playback parameters consist of the looping mode,
loop start/end points, playing position, speed, gain, pan and the
playmode. Whether a sample instance is currently playing or paused is
also one of its properties.</p>
<p>An instance uses the data from an <a
href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a> object. Multiple
instances may be created from the same ALLEGRO_SAMPLE. An ALLEGRO_SAMPLE
must not be destroyed while there are instances which reference it.</p>
<p>To actually produce audio output, an ALLEGRO_SAMPLE_INSTANCE must be
attached to an <a href="audio.html#allegro_mixer">ALLEGRO_MIXER</a>
which eventually reaches an <a
href="audio.html#allegro_voice">ALLEGRO_VOICE</a> object.</p>
<p>See also: <a href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L22">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L15">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L22">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_create_sample_instance">al_create_sample_instance</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>al_create_sample_instance<span class="op">(</span>ALLEGRO_SAMPLE <span class="op">*</span>sample_data<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L152">Source
Code</a></p>
<p>Creates a sample instance, using the supplied sample data. The
instance must be attached to a mixer (or voice) in order to actually
produce output.</p>
<p>The argument may be NULL. You can then set the sample data later with
<a href="audio.html#al_set_sample">al_set_sample</a>.</p>
<p>See also: <a
href="audio.html#al_destroy_sample_instance">al_destroy_sample_instance</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L83">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L52">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L72">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_destroy_sample_instance">al_destroy_sample_instance</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_sample_instance<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L195">Source
Code</a></p>
<p>Detaches the sample instance from anything it may be attached to and
frees it (the sample data, i.e. its ALLEGRO_SAMPLE, is <em>not</em>
freed!).</p>
<p>See also: <a
href="audio.html#al_create_sample_instance">al_create_sample_instance</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L124">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L94">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L116">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_play_sample_instance">al_play_sample_instance</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_play_sample_instance<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L218">Source
Code</a></p>
<p>Play the sample instance. Returns true on success, false on
failure.</p>
<p>See also: <a
href="audio.html#al_stop_sample_instance">al_stop_sample_instance</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L107">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L80">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L90">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_stop_sample_instance">al_stop_sample_instance</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_stop_sample_instance<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L228">Source
Code</a></p>
<p>Stop an sample instance playing.</p>
<p>See also: <a
href="audio.html#al_play_sample_instance">al_play_sample_instance</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L123">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L88">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L108">ex_mixer_chain.c</a></li>
</ul>
<h2
id="al_get_sample_instance_channels">al_get_sample_instance_channels</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_CHANNEL_CONF al_get_sample_instance_channels<span class="op">(</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L324">Source
Code</a></p>
<p>Return the channel configuration of the sample instance’s sample
data.</p>
<p>See also: <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L63">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L106">ex_acodec.c</a></li>
</ul>
<h2 id="al_get_sample_instance_depth">al_get_sample_instance_depth</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_DEPTH al_get_sample_instance_depth<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L314">Source
Code</a></p>
<p>Return the audio depth of the sample instance’s sample data.</p>
<p>See also: <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L62">ex_kcm_direct.c</a></li>
</ul>
<h2
id="al_get_sample_instance_frequency">al_get_sample_instance_frequency</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_sample_instance_frequency<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L238">Source
Code</a></p>
<p>Return the frequency (in Hz) of the sample instance’s sample
data.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L64">ex_kcm_direct.c</a></li>
</ul>
<h2
id="al_get_sample_instance_length">al_get_sample_instance_length</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_sample_instance_length<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L248">Source
Code</a></p>
<p>Return the length of the sample instance in sample values. This
property may differ from the length of the instance’s sample data.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_length">al_set_sample_instance_length</a>,
<a
href="audio.html#al_get_sample_instance_time">al_get_sample_instance_time</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L196">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L143">ex_audio_simple.c</a></li>
</ul>
<h2
id="al_set_sample_instance_length">al_set_sample_instance_length</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_length<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">int</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L392">Source
Code</a></p>
<p>Set the length of the sample instance in sample values. This can be
used to play only parts of the underlying sample. Be careful not to
exceed the actual length of the sample data, though.</p>
<p>Return true on success, false on failure. Will fail if the sample
instance is currently playing.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_length">al_get_sample_instance_length</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L124">ex_audio_props.cpp</a></li>
</ul>
<h2
id="al_get_sample_instance_position">al_get_sample_instance_position</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_sample_instance_position<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L258">Source
Code</a></p>
<p>Get the playback position of a sample instance.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_position">al_set_sample_instance_position</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L519">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_set_sample_instance_position">al_set_sample_instance_position</h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_position<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">int</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L370">Source
Code</a></p>
<p>Set the playback position of a sample instance.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_position">al_get_sample_instance_position</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L143">ex_audio_simple.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L521">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_sample_instance_speed">al_get_sample_instance_speed</h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_sample_instance_speed<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L273">Source
Code</a></p>
<p>Return the relative playback speed of the sample instance.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_speed">al_set_sample_instance_speed</a></p>
<h2 id="al_set_sample_instance_speed">al_set_sample_instance_speed</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_speed<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L411">Source
Code</a></p>
<p>Set the relative playback speed of the sample instance. 1.0 means
normal speed.</p>
<p>Return true on success, false on failure. Will fail if the sample
instance is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_speed">al_get_sample_instance_speed</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L121">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L144">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_get_sample_instance_gain">al_get_sample_instance_gain</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_sample_instance_gain<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L283">Source
Code</a></p>
<p>Return the playback gain of the sample instance.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_gain">al_set_sample_instance_gain</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L527">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_sample_instance_gain">al_set_sample_instance_gain</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_gain<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L452">Source
Code</a></p>
<p>Set the playback gain of the sample instance.</p>
<p>Returns true on success, false on failure. Will fail if the sample
instance is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_gain">al_get_sample_instance_gain</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L102">ex_mixer_chain.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L114">ex_acodec.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L134">ex_audio_props.cpp</a></li>
</ul>
<h2 id="al_get_sample_instance_pan">al_get_sample_instance_pan</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_sample_instance_pan<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L293">Source
Code</a></p>
<p>Get the pan value of the sample instance.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_pan">al_set_sample_instance_pan</a>.</p>
<h2 id="al_set_sample_instance_pan">al_set_sample_instance_pan</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_pan<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L483">Source
Code</a></p>
<p>Set the pan value on a sample instance. A value of -1.0 means to play
the sample only through the left speaker; +1.0 means only through the
right speaker; 0.0 means the sample is centre balanced. A special value
<a href="audio.html#allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a>
disables panning and plays the sample at its original level. This will
be louder than a pan value of 0.0.</p>
<blockquote>
<p>Note: panning samples with more than two channels doesn’t work
yet.</p>
</blockquote>
<p>Returns true on success, false on failure. Will fail if the sample
instance is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_pan">al_get_sample_instance_pan</a>,
<a
href="audio.html#allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L118">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L200">ex_audio_simple.c</a></li>
</ul>
<h2 id="al_get_sample_instance_time">al_get_sample_instance_time</h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_sample_instance_time<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L303">Source
Code</a></p>
<p>Return the length of the sample instance in seconds, assuming a
playback speed of 1.0.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_length">al_get_sample_instance_length</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L109">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L82">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L93">ex_mixer_chain.c</a></li>
</ul>
<h2
id="al_get_sample_instance_playmode">al_get_sample_instance_playmode</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_PLAYMODE al_get_sample_instance_playmode<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L335">Source
Code</a></p>
<p>Return the playback mode of the sample instance.</p>
<p>See also: <a href="audio.html#allegro_playmode">ALLEGRO_PLAYMODE</a>,
<a
href="audio.html#al_set_sample_instance_playmode">al_set_sample_instance_playmode</a></p>
<h2
id="al_set_sample_instance_playmode">al_set_sample_instance_playmode</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_playmode<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_PLAYMODE val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L518">Source
Code</a></p>
<p>Set the playback mode of the sample instance.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a href="audio.html#allegro_playmode">ALLEGRO_PLAYMODE</a>,
<a
href="audio.html#al_get_sample_instance_playmode">al_get_sample_instance_playmode</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L79">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L89">ex_mixer_chain.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L97">ex_acodec.c</a></li>
</ul>
<h2
id="al_get_sample_instance_playing">al_get_sample_instance_playing</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_sample_instance_playing<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L345">Source
Code</a></p>
<p>Return true if the sample instance is in the playing state. This may
be true even if the instance is not attached to anything.</p>
<p>See also: <a
href="audio.html#al_set_sample_instance_playing">al_set_sample_instance_playing</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L512">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_set_sample_instance_playing">al_set_sample_instance_playing</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_playing<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">bool</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L547">Source
Code</a></p>
<p>Change whether the sample instance is playing.</p>
<p>The instance does not need to be attached to anything (since:
5.1.8).</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_sample_instance_playing">al_get_sample_instance_playing</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L131">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L522">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_get_sample_instance_attached">al_get_sample_instance_attached</h2>
<div class="sourceCode" id="cb53"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_sample_instance_attached<span class="op">(</span><span class="dt">const</span> ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L360">Source
Code</a></p>
<p>Return whether the sample instance is attached to something.</p>
<p>See also: <a
href="audio.html#al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</a>,
<a
href="audio.html#al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a>,
<a
href="audio.html#al_detach_sample_instance">al_detach_sample_instance</a></p>
<h2 id="al_detach_sample_instance">al_detach_sample_instance</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_detach_sample_instance<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L575">Source
Code</a></p>
<p>Detach the sample instance from whatever it’s attached to, if
anything.</p>
<p>Returns true on success.</p>
<p>See also: <a
href="audio.html#al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</a>,
<a
href="audio.html#al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a>,
<a
href="audio.html#al_get_sample_instance_attached">al_get_sample_instance_attached</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L507">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_sample">al_get_sample</h2>
<div class="sourceCode" id="cb55"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_SAMPLE <span class="op">*</span>al_get_sample<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L652">Source
Code</a></p>
<p>Return the sample data that the sample instance plays.</p>
<p>Note this returns a pointer to an internal structure, <em>not</em>
the <a href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a> that you may
have passed to <a href="audio.html#al_set_sample">al_set_sample</a>.
However, the sample buffer of the returned ALLEGRO_SAMPLE will be the
same as the one that was used to create the sample (passed to <a
href="audio.html#al_create_sample">al_create_sample</a>). You can use <a
href="audio.html#al_get_sample_data">al_get_sample_data</a> on the
return value to retrieve and compare it.</p>
<p>See also: <a href="audio.html#al_set_sample">al_set_sample</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L109">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L62">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L93">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_set_sample">al_set_sample</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> ALLEGRO_SAMPLE <span class="op">*</span>data<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L587">Source
Code</a></p>
<p>Change the sample data that a sample instance plays. This can be
quite an involved process.</p>
<p>First, the sample is stopped if it is not already.</p>
<p>Next, if data is NULL, the sample is detached from its parent (if
any).</p>
<p>If data is not NULL, the sample may be detached and reattached to its
parent (if any). This is not necessary if the old sample data and new
sample data have the same frequency, depth and channel configuration.
Reattaching may not always succeed.</p>
<p>On success, the sample remains stopped. The playback position and
loop end points are reset to their default values. The loop mode remains
unchanged.</p>
<p>Returns true on success, false on failure. On failure, the sample
will be stopped and detached from its parent.</p>
<p>See also: <a href="audio.html#al_get_sample">al_get_sample</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L57">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L76">ex_mixer_chain.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L86">ex_acodec.c</a></li>
</ul>
<h2
id="al_set_sample_instance_channel_matrix">al_set_sample_instance_channel_matrix</h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_sample_instance_channel_matrix<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span> <span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>matrix<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_instance.c#L662">Source
Code</a></p>
<p>Set the matrix used to mix the channels coming from this instance
into the mixer it is attached to. Normally Allegro derives the values of
this matrix from the gain and pan settings, as well as the channel
configurations of this instance and the mixer it is attached to, but
this allows you override that default value. Note that if you do set
gain or pan of this instance or the mixer it is attached to, you’ll need
to call this function again.</p>
<p>The matrix has mixer channel rows and sample channel columns, and is
row major. For example, if you have a stereo sample instance and want to
mix it to a 5.1 mixer you could use this code:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> matrix<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> <span class="co">/* Half left to front left */</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.0</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="co">/* Half right to front right */</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> <span class="co">/* Half left to rear left */</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.0</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="co">/* Half right to rear right */</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.1</span><span class="op">,</span> <span class="co">/* Mix left and right for center */</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.1</span><span class="op">,</span> <span class="co">/* Mix left and right for center */</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>al_set_sample_instance_channel_matrix<span class="op">(</span>instance<span class="op">,</span> matrix<span class="op">);</span></span></code></pre></div>
<p>Returns true on success, false on failure (e.g. if this is not
attached to a mixer).</p>
<p>Since: 5.2.3</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L107">ex_acodec.c</a></li>
</ul>
<h1 id="audio-streams">Audio streams</h1>
<h2 id="allegro_audio_stream">ALLEGRO_AUDIO_STREAM</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_AUDIO_STREAM ALLEGRO_AUDIO_STREAM<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L166">Source
Code</a></p>
<p>An ALLEGRO_AUDIO_STREAM object is used to stream generated audio to
the sound device, in real-time. This is done by reading from a buffer,
which is split into a number of fragments. Whenever a fragment has
finished playing, the user can refill it with new data.</p>
<p>As with <a
href="audio.html#allegro_sample_instance">ALLEGRO_SAMPLE_INSTANCE</a>
objects, streams store information necessary for playback, so you may
not play the same stream multiple times simultaneously. Streams also
need to be attached to an <a
href="audio.html#allegro_mixer">ALLEGRO_MIXER</a>, which, eventually,
reaches an <a href="audio.html#allegro_voice">ALLEGRO_VOICE</a>
object.</p>
<p>While playing, you must periodically fill fragments with new audio
data. To know when a new fragment is ready to be filled, you can either
directly check with <a
href="audio.html#al_get_available_audio_stream_fragments">al_get_available_audio_stream_fragments</a>,
or listen to events from the stream.</p>
<p>You can register an audio stream event source to an event queue; see
<a
href="audio.html#al_get_audio_stream_event_source">al_get_audio_stream_event_source</a>.
An <a
href="audio.html#allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>
event is generated whenever a new fragment is ready. When you receive an
event, use <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>
to obtain a pointer to the fragment to be filled. The size and format
are determined by the parameters passed to <a
href="audio.html#al_create_audio_stream">al_create_audio_stream</a>.</p>
<p>If you’re late with supplying new data, the stream will be silent
until new data is provided. You must call <a
href="audio.html#al_drain_audio_stream">al_drain_audio_stream</a> when
you’re finished with supplying data to the stream.</p>
<p>It is often a good idea to prefill the audio stream with data before
<a
href="audio.html#allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>
events arrive. Here is a snippet that will fill the stream buffers with
silence:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream <span class="op">=</span> al_create_audio_stream<span class="op">(</span>num_buffers<span class="op">,</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>   samples_per_buffer<span class="op">,</span> freq<span class="op">,</span> depth<span class="op">,</span> channel_conf<span class="op">);</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>buf<span class="op">;</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="op">((</span>buf <span class="op">=</span> al_get_audio_stream_fragment<span class="op">(</span>stream<span class="op">)))</span> <span class="op">{</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>   al_fill_silence<span class="op">(</span>buf<span class="op">,</span> samples_per_buffer<span class="op">,</span> depth<span class="op">,</span> channel_conf<span class="op">);</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>   al_set_audio_stream_fragment<span class="op">(</span>stream<span class="op">,</span> buf<span class="op">);</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>If the stream is created by <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a> or <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a> then it
will also generate an <a
href="audio.html#allegro_event_audio_stream_finished">ALLEGRO_EVENT_AUDIO_STREAM_FINISHED</a>
event if it reaches the end of the file and is not set to loop.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L14">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L79">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L17">ex_resample_test.c</a></li>
</ul>
<h2 id="al_create_audio_stream">al_create_audio_stream</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>al_create_audio_stream<span class="op">(</span><span class="dt">size_t</span> fragment_count<span class="op">,</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">int</span> frag_samples<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> freq<span class="op">,</span> ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_CHANNEL_CONF chan_conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L49">Source
Code</a></p>
<p>Creates an <a
href="audio.html#allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a>. The
stream will be set to play by default. It will feed audio data from a
buffer, which is split into a number of fragments.</p>
<p>Parameters:</p>
<ul>
<li><p>fragment_count - How many fragments to use for the audio stream.
Usually only two fragments are required - splitting the audio buffer in
two halves. But it means that the only time when new data can be
supplied is whenever one half has finished playing. When using many
fragments, you usually will use fewer samples for one, so there always
will be (small) fragments available to be filled with new data.</p></li>
<li><p>frag_samples - The size of a fragment in samples. See note and
explanation below.</p></li>
<li><p>freq - The frequency, in Hertz.</p></li>
<li><p>depth - Must be one of the values listed for <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p></li>
<li><p>chan_conf - Must be one of the values listed for <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p></li>
</ul>
<p>A sample that is referred to by the <em>frag_samples</em> parameter
refers to a sequence channel intensities. E.g. if you’re making a stereo
stream with the <em>frag_samples</em> set to 4, then the layout of the
data in the fragment will be:</p>
<pre><code>LRLRLRLR</code></pre>
<p>Where L and R are the intensities for the left and right channels
respectively. A single sample, then, refers to the LR pair in this
example.</p>
<p>The choice of <em>fragment_count</em>, <em>frag_samples</em> and
<em>freq</em> directly influences the audio delay. The delay in seconds
can be expressed as:</p>
<pre><code>delay = fragment_count * frag_samples / freq</code></pre>
<p>This is only the delay due to Allegro’s streaming, there may be
additional delay caused by sound drivers and/or hardware.</p>
<blockquote>
<p><em>Note:</em> If you know the fragment size in bytes, you can get
the size in samples like this:</p>
<pre><code>sample_size = al_get_channel_count(chan_conf) * al_get_audio_depth_size(depth);
samples = bytes_per_fragment / sample_size;</code></pre>
<p>The size of the complete buffer is:</p>
<pre><code>buffer_size = bytes_per_fragment * fragment_count</code></pre>
</blockquote>
<blockquote>
<p><em>Note:</em> Unlike many Allegro objects, audio streams are not
implicitly destroyed when Allegro is shut down. You must destroy them
manually with <a
href="audio.html#al_destroy_audio_stream">al_destroy_audio_stream</a>
before the audio system is shut down.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L100">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L34">ex_resample_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L476">ex_synth.cpp</a></li>
</ul>
<h2 id="al_load_audio_stream">al_load_audio_stream</h2>
<div class="sourceCode" id="cb66"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>al_load_audio_stream<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">size_t</span> buffer_count<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L357">Source
Code</a></p>
<p>Loads an audio file from disk as it is needed.</p>
<p>Unlike regular streams, the one returned by this function need not be
fed by the user; the library will automatically read more of the file as
it is needed. The stream will contain <em>buffer_count</em> buffers with
<em>samples</em> samples.</p>
<p>The audio stream will start in the playing state. It should be
attached to a voice or mixer to generate any output. See <a
href="audio.html#allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a> for more
details.</p>
<p>Returns the stream on success, NULL on failure.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a>, <a
href="audio.html#al_register_audio_stream_loader">al_register_audio_stream_loader</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L85">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_pp.c#L182">ex_mixer_pp.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L282">ex_stream_seek.c</a></li>
</ul>
<h2 id="al_load_audio_stream_f">al_load_audio_stream_f</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_STREAM <span class="op">*</span>al_load_audio_stream_f<span class="op">(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">,</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">size_t</span> buffer_count<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L388">Source
Code</a></p>
<p>Loads an audio file from <a
href="file.html#allegro_file">ALLEGRO_FILE</a> stream as it is
needed.</p>
<p>Unlike regular streams, the one returned by this function need not be
fed by the user; the library will automatically read more of the file as
it is needed. The stream will contain <em>buffer_count</em> buffers with
<em>samples</em> samples.</p>
<p>The file type is determined by the passed ‘ident’ parameter, which is
a file name extension including the leading dot.</p>
<p>The audio stream will start in the playing state. It should be
attached to a voice or mixer to generate any output. See <a
href="audio.html#allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a> for more
details.</p>
<p>Returns the stream on success, NULL on failure. On success the file
should be considered owned by the audio stream, and will be closed when
the audio stream is destroyed. On failure the file will be closed.</p>
<blockquote>
<p><em>Note:</em> the allegro_audio library does not support any audio
file formats by default. You must use the allegro_acodec addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a>, <a
href="audio.html#al_register_audio_stream_loader_f">al_register_audio_stream_loader_f</a>,
<a href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a></p>
<h2 id="al_destroy_audio_stream">al_destroy_audio_stream</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_audio_stream<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L145">Source
Code</a></p>
<p>Destroy an audio stream which was created with <a
href="audio.html#al_create_audio_stream">al_create_audio_stream</a> or
<a href="audio.html#al_load_audio_stream">al_load_audio_stream</a>.</p>
<blockquote>
<p><em>Note:</em> If the stream is still attached to a mixer or voice,
<a href="audio.html#al_detach_audio_stream">al_detach_audio_stream</a>
is automatically called on it first.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_drain_audio_stream">al_drain_audio_stream</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L122">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L124">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L191">ex_resample_test.c</a></li>
</ul>
<h2
id="al_get_audio_stream_event_source">al_get_audio_stream_event_source</h2>
<div class="sourceCode" id="cb69"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_EVENT_SOURCE <span class="op">*</span>al_get_audio_stream_event_source<span class="op">(</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L916">Source
Code</a></p>
<p>Retrieve the associated event source.</p>
<p>See <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>
for a description of the <a
href="audio.html#allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>
event that audio streams emit.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L24">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L102">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L49">ex_resample_test.c</a></li>
</ul>
<h2 id="al_drain_audio_stream">al_drain_audio_stream</h2>
<div class="sourceCode" id="cb70"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_drain_audio_stream<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L165">Source
Code</a></p>
<p>You should call this to finalise an audio stream that you will no
longer be feeding, to wait for all pending buffers to finish playing.
The stream’s playing state will change to false.</p>
<p>See also: <a
href="audio.html#al_destroy_audio_stream">al_destroy_audio_stream</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L75">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L128">ex_resample_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L254">ex_record.c</a></li>
</ul>
<h2 id="al_rewind_audio_stream">al_rewind_audio_stream</h2>
<div class="sourceCode" id="cb71"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_rewind_audio_stream<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L824">Source
Code</a></p>
<p>Set the streaming file playing position to the beginning. Returns
true on success. Currently this can only be called on streams created
with <a href="audio.html#al_load_audio_stream">al_load_audio_stream</a>,
<a href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L195">ex_stream_seek.c</a></li>
</ul>
<h2
id="al_get_audio_stream_frequency">al_get_audio_stream_frequency</h2>
<div class="sourceCode" id="cb72"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_audio_stream_frequency<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L184">Source
Code</a></p>
<p>Return the stream frequency (in Hz).</p>
<h2 id="al_get_audio_stream_channels">al_get_audio_stream_channels</h2>
<div class="sourceCode" id="cb73"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_CHANNEL_CONF al_get_audio_stream_channels<span class="op">(</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L258">Source
Code</a></p>
<p>Return the stream channel configuration.</p>
<p>See also: <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p>
<h2 id="al_get_audio_stream_depth">al_get_audio_stream_depth</h2>
<div class="sourceCode" id="cb74"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_DEPTH al_get_audio_stream_depth<span class="op">(</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L269">Source
Code</a></p>
<p>Return the stream audio depth.</p>
<p>See also: <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p>
<h2 id="al_get_audio_stream_length">al_get_audio_stream_length</h2>
<div class="sourceCode" id="cb75"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_audio_stream_length<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L194">Source
Code</a></p>
<p>Return the stream length in samples.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L87">ex_stream_seek.c</a></li>
</ul>
<h2 id="al_get_audio_stream_speed">al_get_audio_stream_speed</h2>
<div class="sourceCode" id="cb76"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_audio_stream_speed<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L228">Source
Code</a></p>
<p>Return the relative playback speed of the stream.</p>
<p>See also: <a
href="audio.html#al_set_audio_stream_speed">al_set_audio_stream_speed</a>.</p>
<h2 id="al_set_audio_stream_speed">al_set_audio_stream_speed</h2>
<div class="sourceCode" id="cb77"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_speed<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L360">Source
Code</a></p>
<p>Set the relative playback speed of the stream. 1.0 means normal
speed.</p>
<p>Return true on success, false on failure. Will fail if the audio
stream is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_speed">al_get_audio_stream_speed</a>.</p>
<h2 id="al_get_audio_stream_gain">al_get_audio_stream_gain</h2>
<div class="sourceCode" id="cb78"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_audio_stream_gain<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L238">Source
Code</a></p>
<p>Return the playback gain of the stream.</p>
<p>See also: <a
href="audio.html#al_set_audio_stream_gain">al_set_audio_stream_gain</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L622">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_audio_stream_gain">al_set_audio_stream_gain</h2>
<div class="sourceCode" id="cb79"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_gain<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L397">Source
Code</a></p>
<p>Set the playback gain of the stream.</p>
<p>Returns true on success, false on failure. Will fail if the audio
stream is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_gain">al_get_audio_stream_gain</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L413">ex_synth.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L629">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_audio_stream_pan">al_get_audio_stream_pan</h2>
<div class="sourceCode" id="cb80"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_audio_stream_pan<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L248">Source
Code</a></p>
<p>Get the pan value of the stream.</p>
<p>See also: <a
href="audio.html#al_set_audio_stream_pan">al_set_audio_stream_pan</a>.</p>
<h2 id="al_set_audio_stream_pan">al_set_audio_stream_pan</h2>
<div class="sourceCode" id="cb81"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_pan<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">float</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L427">Source
Code</a></p>
<p>Set the pan value on an audio stream. A value of -1.0 means to play
the stream only through the left speaker; +1.0 means only through the
right speaker; 0.0 means the sample is centre balanced. A special value
<a href="audio.html#allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a>
disables panning and plays the stream at its original level. This will
be louder than a pan value of 0.0.</p>
<p>Returns true on success, false on failure. Will fail if the audio
stream is attached directly to a voice.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_pan">al_get_audio_stream_pan</a>,
<a
href="audio.html#allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L416">ex_synth.cpp</a></li>
</ul>
<h2 id="al_get_audio_stream_playing">al_get_audio_stream_playing</h2>
<div class="sourceCode" id="cb82"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_audio_stream_playing<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L291">Source
Code</a></p>
<p>Return true if the stream is playing.</p>
<p>See also: <a
href="audio.html#al_set_audio_stream_playing">al_set_audio_stream_playing</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L274">ex_record.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L138">ex_stream_seek.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L611">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_audio_stream_playing">al_set_audio_stream_playing</h2>
<div class="sourceCode" id="cb83"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_playing<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">bool</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L541">Source
Code</a></p>
<p>Change whether the stream is playing.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_playing">al_get_audio_stream_playing</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_simple.c#L114">ex_audio_simple.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L130">ex_record.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L203">ex_stream_seek.c</a></li>
</ul>
<h2 id="al_get_audio_stream_playmode">al_get_audio_stream_playmode</h2>
<div class="sourceCode" id="cb84"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_PLAYMODE al_get_audio_stream_playmode<span class="op">(</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L280">Source
Code</a></p>
<p>Return the playback mode of the stream.</p>
<p>See also: <a href="audio.html#allegro_playmode">ALLEGRO_PLAYMODE</a>,
<a
href="audio.html#al_set_audio_stream_playmode">al_set_audio_stream_playmode</a>.</p>
<h2 id="al_set_audio_stream_playmode">al_set_audio_stream_playmode</h2>
<div class="sourceCode" id="cb85"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_playmode<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_PLAYMODE val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L461">Source
Code</a></p>
<p>Set the playback mode of the stream.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a href="audio.html#allegro_playmode">ALLEGRO_PLAYMODE</a>,
<a
href="audio.html#al_get_audio_stream_playmode">al_get_audio_stream_playmode</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L99">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_pp.c#L191">ex_mixer_pp.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L292">ex_stream_seek.c</a></li>
</ul>
<h2 id="al_get_audio_stream_attached">al_get_audio_stream_attached</h2>
<div class="sourceCode" id="cb86"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_audio_stream_attached<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L301">Source
Code</a></p>
<p>Return whether the stream is attached to something.</p>
<p>See also: <a
href="audio.html#al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</a>,
<a
href="audio.html#al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</a>,
<a
href="audio.html#al_detach_audio_stream">al_detach_audio_stream</a>.</p>
<h2 id="al_detach_audio_stream">al_detach_audio_stream</h2>
<div class="sourceCode" id="cb87"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_detach_audio_stream<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L577">Source
Code</a></p>
<p>Detach the stream from whatever it’s attached to, if anything.</p>
<p>See also: <a
href="audio.html#al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</a>,
<a
href="audio.html#al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</a>,
<a
href="audio.html#al_get_audio_stream_attached">al_get_audio_stream_attached</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L606">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_get_audio_stream_played_samples">al_get_audio_stream_played_samples</h2>
<div class="sourceCode" id="cb88"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="dt">uint64_t</span> al_get_audio_stream_played_samples<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L310">Source
Code</a></p>
<p>Get the number of samples consumed by the parent since the audio
stream was started.</p>
<p>Since: 5.1.8</p>
<h2 id="al_get_audio_stream_fragment">al_get_audio_stream_fragment</h2>
<div class="sourceCode" id="cb89"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>al_get_audio_stream_fragment<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L331">Source
Code</a></p>
<p>When using Allegro’s audio streaming, you will use this function to
continuously provide new sample data to a stream.</p>
<p>If the stream is ready for new data, the function will return the
address of an internal buffer to be filled with audio data. The length
and format of the buffer are specified with <a
href="audio.html#al_create_audio_stream">al_create_audio_stream</a> or
can be queried with the various functions described here. Once the
buffer is filled, you must signal this to Allegro by passing the buffer
to <a
href="audio.html#al_set_audio_stream_fragment">al_set_audio_stream_fragment</a>.</p>
<p>If the stream is not ready for new data, the function will return
NULL.</p>
<blockquote>
<p><em>Note:</em> If you listen to events from the stream, an <a
href="audio.html#allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>
event will be generated whenever a new fragment is ready. However,
getting an event is <em>not</em> a guarantee that <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>
will not return NULL, so you still must check for it.</p>
</blockquote>
<p>See also: <a
href="audio.html#al_set_audio_stream_fragment">al_set_audio_stream_fragment</a>,
<a
href="audio.html#al_get_audio_stream_event_source">al_get_audio_stream_event_source</a>,
<a
href="audio.html#al_get_audio_stream_frequency">al_get_audio_stream_frequency</a>,
<a
href="audio.html#al_get_audio_stream_channels">al_get_audio_stream_channels</a>,
<a
href="audio.html#al_get_audio_stream_depth">al_get_audio_stream_depth</a>,
<a
href="audio.html#al_get_audio_stream_length">al_get_audio_stream_length</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L39">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L73">ex_resample_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L389">ex_synth.cpp</a></li>
</ul>
<h2 id="al_set_audio_stream_fragment">al_set_audio_stream_fragment</h2>
<div class="sourceCode" id="cb90"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_fragment<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">void</span> <span class="op">*</span>val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L589">Source
Code</a></p>
<p>This function needs to be called for every successful call of <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>
to indicate that the buffer (pointed to by <code>val</code>) is filled
with new data.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L57">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L83">ex_resample_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L420">ex_synth.cpp</a></li>
</ul>
<h2
id="al_get_audio_stream_fragments">al_get_audio_stream_fragments</h2>
<div class="sourceCode" id="cb91"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_audio_stream_fragments<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L204">Source
Code</a></p>
<p>Returns the number of fragments this stream uses. This is the same
value as passed to <a
href="audio.html#al_create_audio_stream">al_create_audio_stream</a> when
a new stream is created.</p>
<p>See also: <a
href="audio.html#al_get_available_audio_stream_fragments">al_get_available_audio_stream_fragments</a></p>
<h2
id="al_get_available_audio_stream_fragments">al_get_available_audio_stream_fragments</h2>
<div class="sourceCode" id="cb92"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_available_audio_stream_fragments<span class="op">(</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L214">Source
Code</a></p>
<p>Returns the number of available fragments in the stream, that is,
fragments which are not currently filled with data for playback.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>,
<a
href="audio.html#al_get_audio_stream_fragments">al_get_audio_stream_fragments</a></p>
<h2 id="al_seek_audio_stream_secs">al_seek_audio_stream_secs</h2>
<div class="sourceCode" id="cb93"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_seek_audio_stream_secs<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> <span class="dt">double</span> time<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L842">Source
Code</a></p>
<p>Set the streaming file playing position to time. Returns true on
success. Currently this can only be called on streams created with <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a>, <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_position_secs">al_get_audio_stream_position_secs</a>,
<a
href="audio.html#al_get_audio_stream_length_secs">al_get_audio_stream_length_secs</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L155">ex_stream_seek.c</a></li>
</ul>
<h2
id="al_get_audio_stream_position_secs">al_get_audio_stream_position_secs</h2>
<div class="sourceCode" id="cb94"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> al_get_audio_stream_position_secs<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L860">Source
Code</a></p>
<p>Return the position of the stream in seconds. Currently this can only
be called on streams created with <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a>, <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_length_secs">al_get_audio_stream_length_secs</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L86">ex_stream_seek.c</a></li>
</ul>
<h2
id="al_get_audio_stream_length_secs">al_get_audio_stream_length_secs</h2>
<div class="sourceCode" id="cb95"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> al_get_audio_stream_length_secs<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L877">Source
Code</a></p>
<p>Return the length of the stream in seconds, if known. Otherwise
returns zero.</p>
<p>Currently this can only be called on streams created with <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a>, <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>See also: <a
href="audio.html#al_get_audio_stream_position_secs">al_get_audio_stream_position_secs</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L87">ex_stream_seek.c</a></li>
</ul>
<h2
id="al_set_audio_stream_loop_secs">al_set_audio_stream_loop_secs</h2>
<div class="sourceCode" id="cb96"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_audio_stream_loop_secs<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">double</span> start<span class="op">,</span> <span class="dt">double</span> end<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_stream.c#L894">Source
Code</a></p>
<p>Sets the loop points for the stream in seconds. Currently this can
only be called on streams created with <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a>, <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>, <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> or
<a
href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_seek.c#L158">ex_stream_seek.c</a></li>
</ul>
<h2
id="al_set_audio_stream_channel_matrix">al_set_audio_stream_channel_matrix</h2>
<p><a href="">Source Code</a></p>
<p>Like <a
href="audio.html#al_set_sample_instance_channel_matrix">al_set_sample_instance_channel_matrix</a>
but for streams.</p>
<p>Since: 5.2.3</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<h1 id="advanced-audio-file-io">Advanced audio file I/O</h1>
<h2 id="al_register_sample_loader">al_register_sample_loader</h2>
<div class="sourceCode" id="cb97"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_sample_loader<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_SAMPLE <span class="op">*(*</span>loader<span class="op">)(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L115">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_load_sample">al_load_sample</a>. The given function
will be used to handle the loading of sample files with the given
extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_sample_loader_f">al_register_sample_loader_f</a>,
<a
href="audio.html#al_register_sample_saver">al_register_sample_saver</a></p>
<h2 id="al_register_sample_loader_f">al_register_sample_loader_f</h2>
<div class="sourceCode" id="cb98"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_sample_loader_f<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_SAMPLE <span class="op">*(*</span>loader<span class="op">)(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L142">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_load_sample_f">al_load_sample_f</a>. The given
function will be used to handle the loading of sample files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_sample_loader">al_register_sample_loader</a></p>
<h2 id="al_register_sample_saver">al_register_sample_saver</h2>
<div class="sourceCode" id="cb99"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_sample_saver<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>saver<span class="op">)(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L169">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_save_sample">al_save_sample</a>. The given function
will be used to handle the saving of sample files with the given
extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>saver</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_sample_saver_f">al_register_sample_saver_f</a>,
<a
href="audio.html#al_register_sample_loader">al_register_sample_loader</a></p>
<h2 id="al_register_sample_saver_f">al_register_sample_saver_f</h2>
<div class="sourceCode" id="cb100"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_sample_saver_f<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>saver<span class="op">)(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">,</span> ALLEGRO_SAMPLE <span class="op">*</span>spl<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L196">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_save_sample_f">al_save_sample_f</a>. The given
function will be used to handle the saving of sample files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>saver</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_sample_saver">al_register_sample_saver</a></p>
<h2
id="al_register_audio_stream_loader">al_register_audio_stream_loader</h2>
<div class="sourceCode" id="cb101"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_audio_stream_loader<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_STREAM <span class="op">*(*</span>stream_loader<span class="op">)(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size_t</span> buffer_count<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L223">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_load_audio_stream">al_load_audio_stream</a> and <a
href="audio.html#al_play_audio_stream">al_play_audio_stream</a>. The
given function will be used to open streams from files with the given
extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>stream_loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_audio_stream_loader_f">al_register_audio_stream_loader_f</a></p>
<h2
id="al_register_audio_stream_loader_f">al_register_audio_stream_loader_f</h2>
<div class="sourceCode" id="cb102"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_audio_stream_loader_f<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_STREAM <span class="op">*(*</span>stream_loader<span class="op">)(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">,</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size_t</span> buffer_count<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L251">Source
Code</a></p>
<p>Register a handler for <a
href="audio.html#al_load_audio_stream_f">al_load_audio_stream_f</a> and
<a href="audio.html#al_play_audio_stream_f">al_play_audio_stream_f</a>.
The given function will be used to open streams from files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>stream_loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="audio.html#al_register_audio_stream_loader">al_register_audio_stream_loader</a></p>
<h2
id="al_register_sample_identifier">al_register_sample_identifier</h2>
<div class="sourceCode" id="cb103"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_sample_identifier<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ext<span class="op">,</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>identifier<span class="op">)(</span>ALLEGRO_FILE<span class="op">*</span> fp<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L279">Source
Code</a></p>
<p>Register an identify handler for <a
href="audio.html#al_identify_sample">al_identify_sample</a>. The given
function will be used to detect files for the given extension. It will
be called with a single argument of type <a
href="file.html#allegro_file">ALLEGRO_FILE</a> which is a file handle
opened for reading and located at the first byte of the file. The
handler should try to read as few bytes as possible to safely determine
if the given file contents correspond to the type with the extension and
return true in that case, false otherwise. The file handle must not be
closed but there is no need to reset it to the beginning.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>identifier</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>Since: 5.2.8</p>
<p>See also: <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a></p>
<h2 id="al_identify_sample">al_identify_sample</h2>
<div class="sourceCode" id="cb104"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>al_identify_sample<span class="op">(</span><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>filename<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L516">Source
Code</a></p>
<p>This works exactly as <a
href="audio.html#al_identify_sample_f">al_identify_sample_f</a> but you
specify the filename of the file for which to detect the type and not a
file handle. The extension, if any, of the passed filename is not taken
into account - only the file contents.</p>
<p>Since: 5.2.8</p>
<p>See also: <a
href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a>, <a
href="audio.html#al_identify_sample_f">al_identify_sample_f</a>, <a
href="audio.html#al_register_sample_identifier">al_register_sample_identifier</a></p>
<h2 id="al_identify_sample_f">al_identify_sample_f</h2>
<div class="sourceCode" id="cb105"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>al_identify_sample_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio_io.c#L505">Source
Code</a></p>
<p>Tries to guess the audio file type of the open ALLEGRO_FILE by
reading the first few bytes. By default Allegro cannot recognize any
file types, but calling <a
href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a> will
add detection of the types it can read. You can also use <a
href="audio.html#al_register_sample_identifier">al_register_sample_identifier</a>
to add identification for custom file types.</p>
<p>Returns a pointer to a static string with a file extension for the
type, including the leading dot. For example “.wav” or “.ogg”. Returns
NULL if the audio type cannot be determined.</p>
<p>Since: 5.2.8</p>
<p>See also: <a
href="acodec.html#al_init_acodec_addon">al_init_acodec_addon</a>, <a
href="audio.html#al_identify_sample">al_identify_sample</a>, <a
href="audio.html#al_register_sample_identifier">al_register_sample_identifier</a></p>
<h1 id="audio-recording">Audio recording</h1>
<p>Allegro’s audio recording routines give you real-time access to raw,
uncompressed audio input streams. Since Allegro hides all of the
platform specific implementation details with its own buffering, it will
add a small amount of latency. However, for most applications that small
overhead will not adversely affect performance.</p>
<p>Recording is supported by the ALSA, AudioQueue, DirectSound8, and
PulseAudio drivers. Enumerating or choosing other recording devices is
not yet supported.</p>
<h2 id="allegro_audio_recorder">ALLEGRO_AUDIO_RECORDER</h2>
<div class="sourceCode" id="cb106"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_AUDIO_RECORDER ALLEGRO_AUDIO_RECORDER<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L186">Source
Code</a></p>
<p>An opaque datatype that represents a recording device.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L22">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L76">ex_record.c</a></li>
</ul>
<h2 id="allegro_audio_recorder_event">ALLEGRO_AUDIO_RECORDER_EVENT</h2>
<div class="sourceCode" id="cb107"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_AUDIO_RECORDER_EVENT ALLEGRO_AUDIO_RECORDER_EVENT<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L58">Source
Code</a></p>
<p>Structure that holds the audio recorder event data. Every event type
will contain:</p>
<ul>
<li>.source: pointer to the audio recorder</li>
</ul>
<p>The following will be available depending on the event type:</p>
<ul>
<li>.buffer: pointer to buffer containing the audio samples</li>
<li>.samples: number of samples (not bytes) that are available</li>
</ul>
<p>Since 5.1.1</p>
<p>See also: <a
href="audio.html#al_get_audio_recorder_event">al_get_audio_recorder_event</a></p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L162">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L167">ex_record.c</a></li>
</ul>
<h2 id="al_create_audio_recorder">al_create_audio_recorder</h2>
<div class="sourceCode" id="cb108"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>al_create_audio_recorder<span class="op">(</span><span class="dt">size_t</span> fragment_count<span class="op">,</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> frequency<span class="op">,</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span> ALLEGRO_CHANNEL_CONF chan_conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L18">Source
Code</a></p>
<p>Creates an audio recorder using the system’s default recording
device. (So if the returned device does not work, try updating the
system’s default recording device.)</p>
<p>Allegro will internally buffer several seconds of captured audio with
minimal latency. (XXX: These settings need to be exposed via config or
API calls.) Audio will be copied out of that private buffer into a
fragment buffer of the size specified by the samples parameter. Whenever
a new fragment is ready an event will be generated.</p>
<p>The total size of the fragment buffer is fragment_count * samples *
bytes_per_sample. It is treated as a circular, never ending buffer. If
you do not process the information fast enough, it will be overrun.
Because of that, even if you only ever need to process one small
fragment at a time, you should still use a large enough value for
fragment_count to hold a few seconds of audio.</p>
<p>frequency is the number of samples per second to record. Common
values are:</p>
<ul>
<li>8000 - telephone quality speech</li>
<li>11025</li>
<li>22050</li>
<li>44100 - CD quality music (if 16-bit, stereo)</li>
</ul>
<p>For maximum compatibility, use a depth of ALLEGRO_AUDIO_DEPTH_UINT8
or ALLEGRO_AUDIO_DEPTH_INT16, and a single (mono) channel.</p>
<p>The recorder will not record until you start it with <a
href="audio.html#al_start_audio_recorder">al_start_audio_recorder</a>.</p>
<p>On failure, returns NULL.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L101">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L116">ex_record.c</a></li>
</ul>
<h2 id="al_start_audio_recorder">al_start_audio_recorder</h2>
<div class="sourceCode" id="cb109"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_start_audio_recorder<span class="op">(</span>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>r<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L89">Source
Code</a></p>
<p>Begin recording into the fragment buffer. Once a complete fragment
has been captured (as specified in <a
href="audio.html#al_create_audio_recorder">al_create_audio_recorder</a>),
an <a
href="audio.html#allegro_event_audio_recorder_fragment">ALLEGRO_EVENT_AUDIO_RECORDER_FRAGMENT</a>
event will be triggered.</p>
<p>Returns true if it was able to begin recording.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L136">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L152">ex_record.c</a></li>
</ul>
<h2 id="al_stop_audio_recorder">al_stop_audio_recorder</h2>
<div class="sourceCode" id="cb110"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_stop_audio_recorder<span class="op">(</span>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>r<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L103">Source
Code</a></p>
<p>Stop capturing audio data. Note that the audio recorder is still
active and consuming resources, so if you are finished recording you
should destroy it with <a
href="audio.html#al_destroy_audio_recorder">al_destroy_audio_recorder</a>.</p>
<p>You may still receive a few events after you call this function as
the device flushes the buffer.</p>
<p>If you restart the recorder, it will begin recording at the beginning
of the next fragment buffer.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<h2
id="al_is_audio_recorder_recording">al_is_audio_recorder_recording</h2>
<div class="sourceCode" id="cb111"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_audio_recorder_recording<span class="op">(</span>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>r<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L115">Source
Code</a></p>
<p>Returns true if the audio recorder is currently capturing data and
generating events.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<h2 id="al_get_audio_recorder_event">al_get_audio_recorder_event</h2>
<div class="sourceCode" id="cb112"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_RECORDER_EVENT <span class="op">*</span>al_get_audio_recorder_event<span class="op">(</span>ALLEGRO_EVENT <span class="op">*</span>event<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L128">Source
Code</a></p>
<p>Returns the event as an <a
href="audio.html#allegro_audio_recorder_event">ALLEGRO_AUDIO_RECORDER_EVENT</a>.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L131">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L147">ex_record.c</a></li>
</ul>
<h2
id="al_get_audio_recorder_event_source">al_get_audio_recorder_event_source</h2>
<div class="sourceCode" id="cb113"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_EVENT_SOURCE <span class="op">*</span>al_get_audio_recorder_event_source<span class="op">(</span>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>r<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L136">Source
Code</a></p>
<p>Returns the event source for the recorder that generates the various
recording events.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L131">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L147">ex_record.c</a></li>
</ul>
<h2 id="al_destroy_audio_recorder">al_destroy_audio_recorder</h2>
<div class="sourceCode" id="cb114"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_audio_recorder<span class="op">(</span>ALLEGRO_AUDIO_RECORDER <span class="op">*</span>r<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/recorder.c#L143">Source
Code</a></p>
<p>Destroys the audio recorder and frees all resources associated with
it. It is safe to destroy a recorder that is recording.</p>
<p>You may receive events after the recorder has been destroyed. They
must be ignored, as the fragment buffer will no longer be valid.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record_name.c#L215">ex_record_name.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_record.c#L312">ex_record.c</a></li>
</ul>
<h1 id="audio-devices">Audio devices</h1>
<h2 id="allegro_audio_device">ALLEGRO_AUDIO_DEVICE</h2>
<div class="sourceCode" id="cb115"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_AUDIO_DEVICE ALLEGRO_AUDIO_DEVICE<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L180">Source
Code</a></p>
<p>An opaque datatype that represents an audio device.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_devices.c#L33">ex_audio_devices.c</a></li>
</ul>
<h2
id="al_get_num_audio_output_devices">al_get_num_audio_output_devices</h2>
<div class="sourceCode" id="cb116"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_num_audio_output_devices<span class="op">()</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L201">Source
Code</a></p>
<p>Get the number of available audio output devices on the system.</p>
<p>Since: 5.2.8</p>
<p>return -1 for unsupported drivers.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_devices.c#L26">ex_audio_devices.c</a></li>
</ul>
<h2 id="al_get_audio_output_device">al_get_audio_output_device</h2>
<div class="sourceCode" id="cb117"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> ALLEGRO_AUDIO_DEVICE<span class="op">*</span> al_get_audio_output_device<span class="op">(</span><span class="dt">int</span> index<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L218">Source
Code</a></p>
<p>Get the output audio device of the specified index.</p>
<p>Since: 5.2.8</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_devices.c#L33">ex_audio_devices.c</a></li>
</ul>
<h2 id="al_get_audio_device_name">al_get_audio_device_name</h2>
<div class="sourceCode" id="cb118"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> <span class="dt">char</span><span class="op">*</span> al_get_audio_device_name<span class="op">(</span><span class="dt">const</span> ALLEGRO_AUDIO_DEVICE <span class="op">*</span> device<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L238">Source
Code</a></p>
<p>Get the user friendly display name of the device.</p>
<p>Since: 5.2.8</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_devices.c#L34">ex_audio_devices.c</a></li>
</ul>
<h1 id="voices">Voices</h1>
<h2 id="allegro_voice">ALLEGRO_VOICE</h2>
<div class="sourceCode" id="cb119"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_VOICE ALLEGRO_VOICE<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L176">Source
Code</a></p>
<p>A voice represents an audio device on the system, which may be a real
device, or an abstract device provided by the operating system. To play
back audio, you would attach a mixer, sample instance or audio stream to
a voice.</p>
<p>See also: <a href="audio.html#allegro_mixer">ALLEGRO_MIXER</a>, <a
href="audio.html#allegro_sample">ALLEGRO_SAMPLE</a>, <a
href="audio.html#allegro_audio_stream">ALLEGRO_AUDIO_STREAM</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L28">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L24">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L14">ex_kcm_direct.c</a></li>
</ul>
<h2 id="al_create_voice">al_create_voice</h2>
<div class="sourceCode" id="cb120"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VOICE <span class="op">*</span>al_create_voice<span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> freq<span class="op">,</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span> ALLEGRO_CHANNEL_CONF chan_conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L65">Source
Code</a></p>
<p>Creates a voice structure and allocates a voice from the digital
sound driver. The passed frequency (in Hz), sample format and channel
configuration are used as a hint to what kind of data will be sent to
the voice. However, the underlying sound driver is free to use
non-matching values. For example, it may be the native format of the
sound hardware.</p>
<p>If a mixer is attached to the voice, the mixer will handle the
conversion of all its input streams to the voice format and care does
not have to be taken for this. However if you access the voice directly,
make sure to not rely on the parameters passed to this function, but
instead query the returned voice for the actual settings.</p>
<p>Reasonable default arguments are:</p>
<div class="sourceCode" id="cb121"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>al_create_voice<span class="op">(</span><span class="dv">44100</span><span class="op">,</span> ALLEGRO_AUDIO_DEPTH_INT16<span class="op">,</span> ALLEGRO_CHANNEL_CONF_2<span class="op">)</span></span></code></pre></div>
<p>See also: <a
href="audio.html#al_destroy_voice">al_destroy_voice</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L57">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L56">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L68">ex_kcm_direct.c</a></li>
</ul>
<h2 id="al_destroy_voice">al_destroy_voice</h2>
<div class="sourceCode" id="cb122"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_voice<span class="op">(</span>ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L106">Source
Code</a></p>
<p>Destroys the voice and deallocates it from the digital driver. Does
nothing if the voice is NULL.</p>
<p>See also: <a
href="audio.html#al_create_voice">al_create_voice</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L131">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L129">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L95">ex_kcm_direct.c</a></li>
</ul>
<h2 id="al_detach_voice">al_detach_voice</h2>
<div class="sourceCode" id="cb123"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_detach_voice<span class="op">(</span>ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L370">Source
Code</a></p>
<p>Detaches the mixer, sample instance or audio stream from the
voice.</p>
<p>See also: <a
href="audio.html#al_attach_mixer_to_voice">al_attach_mixer_to_voice</a>,
<a
href="audio.html#al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a>,
<a
href="audio.html#al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</a></p>
<h2
id="al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</h2>
<div class="sourceCode" id="cb124"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_audio_stream_to_voice<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L251">Source
Code</a></p>
<p>Attaches an audio stream to a voice. The same rules as <a
href="audio.html#al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a>
apply. This may fail if the driver can’t create a voice with the buffer
count and buffer size the stream uses.</p>
<p>An audio stream attached directly to a voice has a number of
limitations: The audio stream plays immediately and cannot be stopped.
The stream position, speed, gain and panning cannot be changed. At this
time, we don’t recommend attaching audio streams directly to voices. Use
a mixer inbetween.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a href="audio.html#al_detach_voice">al_detach_voice</a>,
<a
href="audio.html#al_voice_has_attachments">al_voice_has_attachments</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L110">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L394">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_attach_mixer_to_voice">al_attach_mixer_to_voice</h2>
<div class="sourceCode" id="cb125"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_mixer_to_voice<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L319">Source
Code</a></p>
<p>Attaches a mixer to a voice. It must have the same frequency and
channel configuration, but the depth may be different.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a href="audio.html#al_detach_voice">al_detach_voice</a>,
<a
href="audio.html#al_voice_has_attachments">al_voice_has_attachments</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L72">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L68">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L62">ex_mixer_chain.c</a></li>
</ul>
<h2
id="al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</h2>
<div class="sourceCode" id="cb126"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_sample_instance_to_voice<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L126">Source
Code</a></p>
<p>Attaches a sample instance to a voice, and allows it to play. The
instance’s gain and loop mode will be ignored, and it must have the same
frequency, channel configuration and depth (including signed-ness) as
the voice. This function may fail if the selected driver doesn’t support
preloading sample data.</p>
<p>At this time, we don’t recommend attaching sample instances directly
to voices. Use a mixer inbetween.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a href="audio.html#al_detach_voice">al_detach_voice</a>,
<a
href="audio.html#al_voice_has_attachments">al_voice_has_attachments</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L74">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L389">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_voice_frequency">al_get_voice_frequency</h2>
<div class="sourceCode" id="cb127"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_voice_frequency<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L404">Source
Code</a></p>
<p>Return the frequency of the voice (in Hz), e.g. 44100.</p>
<h2 id="al_get_voice_channels">al_get_voice_channels</h2>
<div class="sourceCode" id="cb128"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_CHANNEL_CONF al_get_voice_channels<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L432">Source
Code</a></p>
<p>Return the channel configuration of the voice.</p>
<p>See also: <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p>
<h2 id="al_get_voice_depth">al_get_voice_depth</h2>
<div class="sourceCode" id="cb129"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_DEPTH al_get_voice_depth<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L442">Source
Code</a></p>
<p>Return the audio depth of the voice.</p>
<p>See also: <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p>
<h2 id="al_get_voice_playing">al_get_voice_playing</h2>
<div class="sourceCode" id="cb130"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_voice_playing<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L452">Source
Code</a></p>
<p>Return true if the voice is currently playing.</p>
<p>See also: <a
href="audio.html#al_set_voice_playing">al_set_voice_playing</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L404">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_voice_playing">al_set_voice_playing</h2>
<div class="sourceCode" id="cb131"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_voice_playing<span class="op">(</span>ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">,</span> <span class="dt">bool</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L497">Source
Code</a></p>
<p>Change whether a voice is playing or not. This can only work if the
voice has a non-streaming object attached to it, e.g. a sample instance.
On success the voice’s current sample position is reset.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_voice_playing">al_get_voice_playing</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L410">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_voice_position">al_get_voice_position</h2>
<div class="sourceCode" id="cb132"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_voice_position<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L414">Source
Code</a></p>
<p>When the voice has a non-streaming object attached to it, e.g. a
sample, returns the voice’s current sample position. Otherwise, returns
zero.</p>
<p>See also: <a
href="audio.html#al_set_voice_position">al_set_voice_position</a>.</p>
<h2 id="al_set_voice_position">al_set_voice_position</h2>
<div class="sourceCode" id="cb133"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_voice_position<span class="op">(</span>ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L478">Source
Code</a></p>
<p>Set the voice position. This can only work if the voice has a
non-streaming object attached to it, e.g. a sample instance.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_voice_position">al_get_voice_position</a>.</p>
<h2 id="al_voice_has_attachments">al_voice_has_attachments</h2>
<div class="sourceCode" id="cb134"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_voice_has_attachments<span class="op">(</span><span class="dt">const</span> ALLEGRO_VOICE<span class="op">*</span> voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_voice.c#L469">Source
Code</a></p>
<p>Returns true if the voice has something attached to it.</p>
<p>See also: <a
href="audio.html#al_attach_mixer_to_voice">al_attach_mixer_to_voice</a>,
<a
href="audio.html#al_attach_sample_instance_to_voice">al_attach_sample_instance_to_voice</a>,
<a
href="audio.html#al_attach_audio_stream_to_voice">al_attach_audio_stream_to_voice</a></p>
<p>Since: 5.2.9</p>
<h1 id="mixers">Mixers</h1>
<h2 id="allegro_mixer">ALLEGRO_MIXER</h2>
<div class="sourceCode" id="cb135"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_MIXER ALLEGRO_MIXER<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L171">Source
Code</a></p>
<p>A mixer mixes together attached streams into a single buffer. In the
process, it converts channel configurations, sample frequencies and
audio depths of the attached sample instances and audio streams
accordingly. You can control the quality of this conversion using
ALLEGRO_MIXER_QUALITY.</p>
<p>When going from mono to stereo (and above), the mixer reduces the
volume of both channels by <code>sqrt(2)</code>. When going from stereo
(and above) to mono, the mixer reduces the volume of the left and right
channels by <code>sqrt(2)</code> before adding them to the center
channel (if present).</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L29">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L23">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L20">ex_mixer_chain.c</a></li>
</ul>
<h2 id="allegro_mixer_quality">ALLEGRO_MIXER_QUALITY</h2>
<div class="sourceCode" id="cb136"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> ALLEGRO_MIXER_QUALITY</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L132">Source
Code</a></p>
<ul>
<li>ALLEGRO_MIXER_QUALITY_POINT - point sampling</li>
<li>ALLEGRO_MIXER_QUALITY_LINEAR - linear interpolation</li>
<li>ALLEGRO_MIXER_QUALITY_CUBIC - cubic interpolation (since: 5.0.8,
5.1.4)</li>
</ul>
<h2 id="al_create_mixer">al_create_mixer</h2>
<div class="sourceCode" id="cb137"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_MIXER <span class="op">*</span>al_create_mixer<span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> freq<span class="op">,</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span> ALLEGRO_CHANNEL_CONF chan_conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L630">Source
Code</a></p>
<p>Creates a mixer to attach sample instances, audio streams, or other
mixers to. It will mix into a buffer at the requested frequency (in Hz)
and channel count.</p>
<p>The only supported audio depths are ALLEGRO_AUDIO_DEPTH_FLOAT32 and
ALLEGRO_AUDIO_DEPTH_INT16 (not yet complete).</p>
<p>To actually produce any output, the mixer will have to be attached to
a voice using <a
href="audio.html#al_attach_mixer_to_voice">al_attach_mixer_to_voice</a>.</p>
<p>Reasonable default arguments are:</p>
<div class="sourceCode" id="cb138"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>al_create_mixer<span class="op">(</span><span class="dv">44100</span><span class="op">,</span> ALLEGRO_AUDIO_DEPTH_FLOAT32<span class="op">,</span> ALLEGRO_CHANNEL_CONF_2<span class="op">)</span></span></code></pre></div>
<p>Returns true on success, false on error.</p>
<p>See also: <a href="audio.html#al_destroy_mixer">al_destroy_mixer</a>,
<a href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>, <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L65">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L62">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L52">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_destroy_mixer">al_destroy_mixer</h2>
<div class="sourceCode" id="cb139"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_mixer<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L699">Source
Code</a></p>
<p>Destroys the mixer.</p>
<p>See also: <a
href="audio.html#al_create_mixer">al_create_mixer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L129">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L128">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L117">ex_mixer_chain.c</a></li>
</ul>
<h2 id="al_get_default_mixer">al_get_default_mixer</h2>
<div class="sourceCode" id="cb140"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_MIXER <span class="op">*</span>al_get_default_mixer<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L260">Source
Code</a></p>
<p>Return the default mixer, or NULL if one has not been set. Although
different configurations of mixers and voices can be used, in most cases
a single mixer attached to a voice is what you want. The default mixer
is used by <a href="audio.html#al_play_sample">al_play_sample</a>.</p>
<p>See also: <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>, <a
href="audio.html#al_play_sample">al_play_sample</a>, <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>, <a
href="audio.html#al_restore_default_mixer">al_restore_default_mixer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L112">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L137">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L40">ex_resample_test.c</a></li>
</ul>
<h2 id="al_set_default_mixer">al_set_default_mixer</h2>
<div class="sourceCode" id="cb141"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_default_mixer<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L268">Source
Code</a></p>
<p>Sets the default mixer. All samples started with <a
href="audio.html#al_play_sample">al_play_sample</a> will be stopped and
all sample instances returned by <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a> will be
invalidated. If you are using your own mixer, this should be called
before <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>.</p>
<p>Returns true on success, false on error.</p>
<p>See also: <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>, <a
href="audio.html#al_play_sample">al_play_sample</a>, <a
href="audio.html#al_get_default_mixer">al_get_default_mixer</a>, <a
href="audio.html#al_restore_default_mixer">al_restore_default_mixer</a></p>
<h2 id="al_restore_default_mixer">al_restore_default_mixer</h2>
<div class="sourceCode" id="cb142"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_restore_default_mixer<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L309">Source
Code</a></p>
<p>Restores Allegro’s default mixer and attaches it to the default
voice. If the default mixer hasn’t been created before, it will be
created. If the default voice hasn’t been set via <a
href="audio.html#al_set_default_voice">al_set_default_voice</a> or
created before, it will also be created. All samples started with <a
href="audio.html#al_play_sample">al_play_sample</a> will be stopped and
all sample instances returned by <a
href="audio.html#al_lock_sample_id">al_lock_sample_id</a> will be
invalidated.</p>
<p>Returns true on success, false on error.</p>
<p>See also: <a
href="audio.html#al_get_default_mixer">al_get_default_mixer</a>, <a
href="audio.html#al_set_default_mixer">al_set_default_mixer</a>, <a
href="audio.html#al_reserve_samples">al_reserve_samples</a>.</p>
<h2 id="al_get_default_voice">al_get_default_voice</h2>
<div class="sourceCode" id="cb143"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VOICE <span class="op">*</span>al_get_default_voice<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L323">Source
Code</a></p>
<p>Returns the default voice or NULL if there is none.</p>
<p>Since: 5.1.13</p>
<p>See also: <a
href="audio.html#al_get_default_mixer">al_get_default_mixer</a></p>
<h2 id="al_set_default_voice">al_set_default_voice</h2>
<div class="sourceCode" id="cb144"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_default_voice<span class="op">(</span>ALLEGRO_VOICE <span class="op">*</span>voice<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_sample.c#L331">Source
Code</a></p>
<p>You can call this before calling al_restore_default_mixer to provide
the voice which should be used. Any previous voice will be destroyed.
You can also pass NULL to destroy the current default voice.</p>
<p>Since: 5.1.13</p>
<p>See also: <a
href="audio.html#al_get_default_mixer">al_get_default_mixer</a></p>
<h2 id="al_attach_mixer_to_mixer">al_attach_mixer_to_mixer</h2>
<div class="sourceCode" id="cb145"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_mixer_to_mixer<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>stream<span class="op">,</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L821">Source
Code</a></p>
<p>Attaches the mixer passed as the first argument onto the mixer passed
as the second argument. The first mixer (that is going to be attached)
must not already be attached to anything. Both mixers must use the same
frequency, audio depth and channel configuration.</p>
<p>Returns true on success, false on error.</p>
<p>It is invalid to attach a mixer to itself.</p>
<p>See also: <a
href="audio.html#al_detach_mixer">al_detach_mixer</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L82">ex_mixer_chain.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L445">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</h2>
<div class="sourceCode" id="cb146"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_sample_instance_to_mixer<span class="op">(</span>ALLEGRO_SAMPLE_INSTANCE <span class="op">*</span>spl<span class="op">,</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L711">Source
Code</a></p>
<p>Attach a sample instance to a mixer. The instance must not already be
attached to anything.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_detach_sample_instance">al_detach_sample_instance</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L91">ex_acodec_multi.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L79">ex_mixer_chain.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L91">ex_acodec.c</a></li>
</ul>
<h2
id="al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</h2>
<div class="sourceCode" id="cb147"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_attach_audio_stream_to_mixer<span class="op">(</span>ALLEGRO_AUDIO_STREAM <span class="op">*</span>stream<span class="op">,</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L810">Source
Code</a></p>
<p>Attach an audio stream to a mixer. The stream must not already be
attached to anything.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_detach_audio_stream">al_detach_audio_stream</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L112">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L105">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L40">ex_resample_test.c</a></li>
</ul>
<h2 id="al_get_mixer_frequency">al_get_mixer_frequency</h2>
<div class="sourceCode" id="cb148"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">int</span> al_get_mixer_frequency<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L870">Source
Code</a></p>
<p>Return the mixer frequency (in Hz).</p>
<p>See also: <a
href="audio.html#al_set_mixer_frequency">al_set_mixer_frequency</a></p>
<h2 id="al_set_mixer_frequency">al_set_mixer_frequency</h2>
<div class="sourceCode" id="cb149"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_mixer_frequency<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L949">Source
Code</a></p>
<p>Set the mixer frequency (in Hz). This will only work if the mixer is
not attached to anything.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_mixer_frequency">al_get_mixer_frequency</a></p>
<h2 id="al_get_mixer_channels">al_get_mixer_channels</h2>
<div class="sourceCode" id="cb150"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_CHANNEL_CONF al_get_mixer_channels<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L880">Source
Code</a></p>
<p>Return the mixer channel configuration.</p>
<p>See also: <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L152">ex_synth.cpp</a></li>
</ul>
<h2 id="al_get_mixer_depth">al_get_mixer_depth</h2>
<div class="sourceCode" id="cb151"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_AUDIO_DEPTH al_get_mixer_depth<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L890">Source
Code</a></p>
<p>Return the mixer audio depth.</p>
<p>See also: <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L164">ex_synth.cpp</a></li>
</ul>
<h2 id="al_get_mixer_gain">al_get_mixer_gain</h2>
<div class="sourceCode" id="cb152"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> al_get_mixer_gain<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L910">Source
Code</a></p>
<p>Return the mixer gain (amplification factor). The default is 1.0.</p>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="audio.html#al_set_mixer_gain">al_set_mixer_gain</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L476">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_mixer_gain">al_set_mixer_gain</h2>
<div class="sourceCode" id="cb153"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_mixer_gain<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span> <span class="dt">float</span> new_gain<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L997">Source
Code</a></p>
<p>Set the mixer gain (amplification factor).</p>
<p>Returns true on success, false on failure.</p>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="audio.html#al_get_mixer_gain">al_get_mixer_gain</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L137">ex_audio_props.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L483">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_mixer_quality">al_get_mixer_quality</h2>
<div class="sourceCode" id="cb154"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_MIXER_QUALITY al_get_mixer_quality<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L900">Source
Code</a></p>
<p>Return the mixer quality.</p>
<p>See also: <a
href="audio.html#allegro_mixer_quality">ALLEGRO_MIXER_QUALITY</a>, <a
href="audio.html#al_set_mixer_quality">al_set_mixer_quality</a></p>
<h2 id="al_set_mixer_quality">al_set_mixer_quality</h2>
<div class="sourceCode" id="cb155"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_mixer_quality<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span> ALLEGRO_MIXER_QUALITY new_quality<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L969">Source
Code</a></p>
<p>Set the mixer quality. This can only succeed if the mixer does not
have anything attached to it.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#allegro_mixer_quality">ALLEGRO_MIXER_QUALITY</a>, <a
href="audio.html#al_get_mixer_quality">al_get_mixer_quality</a></p>
<h2 id="al_get_mixer_playing">al_get_mixer_playing</h2>
<div class="sourceCode" id="cb156"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_mixer_playing<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L920">Source
Code</a></p>
<p>Return true if the mixer is playing.</p>
<p>See also: <a
href="audio.html#al_set_mixer_playing">al_set_mixer_playing</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L465">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_set_mixer_playing">al_set_mixer_playing</h2>
<div class="sourceCode" id="cb157"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_mixer_playing<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span> <span class="dt">bool</span> val<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L1021">Source
Code</a></p>
<p>Change whether the mixer is playing.</p>
<p>Returns true on success, false on failure.</p>
<p>See also: <a
href="audio.html#al_get_mixer_playing">al_get_mixer_playing</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L471">ex_audio_chain.cpp</a></li>
</ul>
<h2 id="al_get_mixer_attached">al_get_mixer_attached</h2>
<div class="sourceCode" id="cb158"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_get_mixer_attached<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L930">Source
Code</a></p>
<p>Return true if the mixer is attached to something.</p>
<p>See also: <a
href="audio.html#al_mixer_has_attachments">al_mixer_has_attachments</a>,
<a
href="audio.html#al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</a>,
<a
href="audio.html#al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</a>,
<a
href="audio.html#al_attach_mixer_to_mixer">al_attach_mixer_to_mixer</a>,
<a href="audio.html#al_detach_mixer">al_detach_mixer</a></p>
<h2 id="al_mixer_has_attachments">al_mixer_has_attachments</h2>
<div class="sourceCode" id="cb159"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_mixer_has_attachments<span class="op">(</span><span class="dt">const</span> ALLEGRO_MIXER<span class="op">*</span> mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L939">Source
Code</a></p>
<p>Returns true if the mixer has something attached to it.</p>
<p>See also: <a
href="audio.html#al_get_mixer_attached">al_get_mixer_attached</a>, <a
href="audio.html#al_attach_sample_instance_to_mixer">al_attach_sample_instance_to_mixer</a>,
<a
href="audio.html#al_attach_audio_stream_to_mixer">al_attach_audio_stream_to_mixer</a>,
<a
href="audio.html#al_attach_mixer_to_mixer">al_attach_mixer_to_mixer</a>,
<a href="audio.html#al_detach_mixer">al_detach_mixer</a></p>
<p>Since: 5.2.9</p>
<h2 id="al_detach_mixer">al_detach_mixer</h2>
<div class="sourceCode" id="cb160"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_detach_mixer<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L1032">Source
Code</a></p>
<p>Detach the mixer from whatever it is attached to, if anything.</p>
<p>See also: <a
href="audio.html#al_attach_mixer_to_mixer">al_attach_mixer_to_mixer</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_chain.cpp#L460">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_set_mixer_postprocess_callback">al_set_mixer_postprocess_callback</h2>
<div class="sourceCode" id="cb161"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_set_mixer_postprocess_callback<span class="op">(</span>ALLEGRO_MIXER <span class="op">*</span>mixer<span class="op">,</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>pp_callback<span class="op">)(</span><span class="dt">void</span> <span class="op">*</span>buf<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">,</span> <span class="dt">void</span> <span class="op">*</span>data<span class="op">),</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">*</span>pp_callback_userdata<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/kcm_mixer.c#L851">Source
Code</a></p>
<p>Sets a post-processing filter function that’s called after the
attached streams have been mixed. The buffer’s format will be whatever
the mixer was created with. The sample count and user-data pointer is
also passed.</p>
<blockquote>
<p><em>Note:</em> The callback is called from a dedicated audio
thread.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_resample_test.c#L184">ex_resample_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L490">ex_synth.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_pp.c#L194">ex_mixer_pp.c</a></li>
</ul>
<h1 id="miscelaneous">Miscelaneous</h1>
<h2 id="allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</h2>
<div class="sourceCode" id="cb162"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> ALLEGRO_AUDIO_DEPTH</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L71">Source
Code</a></p>
<p>Sample depth and type as well as signedness. Mixers only use 32-bit
signed float (-1..+1), or 16-bit signed integers. Signedness is
determined by an “unsigned” bit-flag applied to the depth value.</p>
<ul>
<li>ALLEGRO_AUDIO_DEPTH_INT8</li>
<li>ALLEGRO_AUDIO_DEPTH_INT16</li>
<li>ALLEGRO_AUDIO_DEPTH_INT24</li>
<li>ALLEGRO_AUDIO_DEPTH_FLOAT32</li>
<li>ALLEGRO_AUDIO_DEPTH_UNSIGNED</li>
</ul>
<p>For convenience:</p>
<ul>
<li>ALLEGRO_AUDIO_DEPTH_UINT8</li>
<li>ALLEGRO_AUDIO_DEPTH_UINT16</li>
<li>ALLEGRO_AUDIO_DEPTH_UINT24</li>
</ul>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L101">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L57">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L56">ex_acodec_multi.c</a></li>
</ul>
<h2 id="allegro_audio_pan_none">ALLEGRO_AUDIO_PAN_NONE</h2>
<div class="sourceCode" id="cb163"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#define ALLEGRO_AUDIO_PAN_NONE      (-1000.0f)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L142">Source
Code</a></p>
<p>A special value for the pan property of sample instances and audio
streams. Use this value to disable panning on sample instances and audio
streams, and play them without attentuation implied by panning
support.</p>
<p>ALLEGRO_AUDIO_PAN_NONE is different from a pan value of 0.0
(centered) because, when panning is enabled, we try to maintain a
constant sound power level as a sample is panned from left to right. A
sound coming out of one speaker should sound as loud as it does when
split over two speakers. As a consequence, a sample with pan value 0.0
will be 3 dB softer than the original level.</p>
<p>(Please correct us if this is wrong.)</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_audio_props.cpp#L117">ex_audio_props.cpp</a></li>
</ul>
<h2 id="allegro_channel_conf">ALLEGRO_CHANNEL_CONF</h2>
<div class="sourceCode" id="cb164"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> ALLEGRO_CHANNEL_CONF</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L96">Source
Code</a></p>
<p>Speaker configuration (mono, stereo, 2.1, etc).</p>
<ul>
<li>ALLEGRO_CHANNEL_CONF_1</li>
<li>ALLEGRO_CHANNEL_CONF_2</li>
<li>ALLEGRO_CHANNEL_CONF_3</li>
<li>ALLEGRO_CHANNEL_CONF_4</li>
<li>ALLEGRO_CHANNEL_CONF_5_1</li>
<li>ALLEGRO_CHANNEL_CONF_6_1</li>
<li>ALLEGRO_CHANNEL_CONF_7_1</li>
</ul>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L101">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L58">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec_multi.c#L57">ex_acodec_multi.c</a></li>
</ul>
<h2 id="allegro_playmode">ALLEGRO_PLAYMODE</h2>
<div class="sourceCode" id="cb165"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> ALLEGRO_PLAYMODE</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L118">Source
Code</a></p>
<p>Sample and stream playback mode.</p>
<ul>
<li>ALLEGRO_PLAYMODE_ONCE - the sample/stream is played from start to
finish an then it stops.</li>
<li>ALLEGRO_PLAYMODE_LOOP - the sample/stream is played from start to
finish (or between the two loop points). When it reaches the end, it
restarts from the beginning.</li>
<li>ALLEGRO_PLAYMODE_LOOP_ONCE - just like ALLEGRO_PLAYMODE_ONCE, but
respects the loop end point.</li>
<li>ALLEGRO_PLAYMODE_BIDIR - the sample is played from start to finish
(or between the two loop points). When it reaches the end, it reverses
the playback direction and plays until it reaches the beginning when it
reverses the direction back to normal. This is mode is rarely supported
for streams.</li>
</ul>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_stream_file.c#L99">ex_stream_file.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_kcm_direct.c#L79">ex_kcm_direct.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_mixer_chain.c#L89">ex_mixer_chain.c</a></li>
</ul>
<h2 id="allegro_audio_event_type">ALLEGRO_AUDIO_EVENT_TYPE</h2>
<div class="sourceCode" id="cb166"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> ALLEGRO_AUDIO_EVENT_TYPE</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/allegro5/allegro_audio.h#L43">Source
Code</a></p>
<p>Events sent by <a
href="audio.html#al_get_audio_stream_event_source">al_get_audio_stream_event_source</a>
or <a
href="audio.html#al_get_audio_recorder_event_source">al_get_audio_recorder_event_source</a>.</p>
<h3
id="allegro_event_audio_stream_fragment">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</h3>
<p>Sent when a stream fragment is ready to be filled in. See <a
href="audio.html#al_get_audio_stream_fragment">al_get_audio_stream_fragment</a>.</p>
<h3
id="allegro_event_audio_stream_finished">ALLEGRO_EVENT_AUDIO_STREAM_FINISHED</h3>
<p>Sent when a stream is finished.</p>
<h3
id="allegro_event_audio_recorder_fragment">ALLEGRO_EVENT_AUDIO_RECORDER_FRAGMENT</h3>
<p>Sent after a user-specified number of samples have been recorded.
Convert this to <a
href="audio.html#allegro_audio_recorder_event">ALLEGRO_AUDIO_RECORDER_EVENT</a>
via <a
href="audio.html#al_get_audio_recorder_event">al_get_audio_recorder_event</a>.</p>
<p>You must always check the values for the buffer and samples as they
are not guaranteed to be exactly what was originally specified.</p>
<p>Since: 5.1.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> The API may need a slight redesign.</p>
</blockquote>
<h2 id="al_get_allegro_audio_version">al_get_allegro_audio_version</h2>
<div class="sourceCode" id="cb167"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="dt">uint32_t</span> al_get_allegro_audio_version<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L463">Source
Code</a></p>
<p>Returns the (compiled) version of the addon, in the same format as <a
href="system.html#al_get_allegro_version">al_get_allegro_version</a>.</p>
<h2 id="al_get_audio_depth_size">al_get_audio_depth_size</h2>
<div class="sourceCode" id="cb168"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="dt">size_t</span> al_get_audio_depth_size<span class="op">(</span>ALLEGRO_AUDIO_DEPTH depth<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L65">Source
Code</a></p>
<p>Return the size of a sample, in bytes, for the given format. The
format is one of the values listed under <a
href="audio.html#allegro_audio_depth">ALLEGRO_AUDIO_DEPTH</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L164">ex_synth.cpp</a></li>
</ul>
<h2 id="al_get_channel_count">al_get_channel_count</h2>
<div class="sourceCode" id="cb169"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="dt">size_t</span> al_get_channel_count<span class="op">(</span>ALLEGRO_CHANNEL_CONF conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L57">Source
Code</a></p>
<p>Return the number of channels for the given channel configuration,
which is one of the values listed under <a
href="audio.html#allegro_channel_conf">ALLEGRO_CHANNEL_CONF</a>.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_acodec.c#L106">ex_acodec.c</a></li>
</ul>
<h2 id="al_fill_silence">al_fill_silence</h2>
<div class="sourceCode" id="cb170"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_fill_silence<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>buf<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">int</span> samples<span class="op">,</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_AUDIO_DEPTH depth<span class="op">,</span> ALLEGRO_CHANNEL_CONF chan_conf<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/addons/audio/audio.c#L127">Source
Code</a></p>
<p>Fill a buffer with silence, for the given format and channel
configuration. The buffer must have enough space for the given number of
samples, and be properly aligned.</p>
<p>Since: 5.1.8</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_saw.c#L103">ex_saw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/26d0bf62b797c71f90469be1976eb2b225c149bb/examples/ex_synth.cpp#L481">ex_synth.cpp</a></li>
</ul>
<p class="timestamp">
Allegro version 5.2.11 (GIT)
 - Last updated: 2025-02-15 07:33:18 UTC
</p>
</div>
</body>
</html>
