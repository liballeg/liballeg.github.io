<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Primitives addon</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <script type="text/javascript" src="autosuggest.js"></script>
  <script type="text/javascript" src="search_index.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="sidebar">
<div>
<ul>
<li><a href="index.html"><strong>Contents</strong></a></li>
<li><a href="config.html">Configuration files</a></li>
<li><a href="display.html">Display</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="file.html">File I/O</a></li>
<li><a href="fshook.html">Filesystem</a></li>
<li><a href="fixed.html">Fixed point math</a></li>
<li><a href="fullscreen_mode.html">Fullscreen modes</a></li>
<li><a href="graphics.html">Graphics</a></li>
<li><a href="haptic.html">Haptic</a></li>
<li><a href="joystick.html">Joystick</a></li>
<li><a href="keyboard.html">Keyboard</a></li>
<li><a href="memory.html">Memory</a></li>
<li><a href="monitor.html">Monitor</a></li>
<li><a href="mouse.html">Mouse</a></li>
<li><a href="path.html">Path</a></li>
<li><a href="shader.html">Shader</a></li>
<li><a href="state.html">State</a></li>
<li><a href="system.html">System</a></li>
<li><a href="threads.html">Threads</a></li>
<li><a href="time.html">Time</a></li>
<li><a href="timer.html">Timer</a></li>
<li><a href="touch.html">Touch input</a></li>
<li><a href="transformations.html">Transformations</a></li>
<li><a href="utf8.html">UTF-8</a></li>
<li><a href="misc.html">Miscellaneous</a></li>
<li><a href="platform.html">Platform-specific</a></li>
<li><a href="direct3d.html">Direct3D</a></li>
<li><a href="opengl.html">OpenGL</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index.html#addons"><strong>Addons</strong></a></li>
<li><a href="audio.html">Audio addon</a></li>
<li><a href="acodec.html">Audio codecs</a></li>
<li><a href="color.html">Color addon</a></li>
<li><a href="font.html">Font addons</a></li>
<li><a href="image.html">Image I/O addon</a></li>
<li><a href="main.html">Main addon</a></li>
<li><a href="memfile.html">Memfile addon</a></li>
<li><a href="native_dialog.html">Native dialogs addon</a></li>
<li><a href="physfs.html">PhysicsFS addon</a></li>
<li><a href="primitives.html">Primitives addon</a></li>
<li><a href="video.html">Video streaming addon</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index_all.html"><strong>Index</strong></a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div class="searchbox">
<script type="text/javascript">
function on_search(index, control) {
    // Note to self: the less-than sign must NOT converted to an entity!
    // SCRIPT elements are special.  The HTML validator gives bad advice.
    for (i = 0; i < search_index.length; i++) {
        if (search_index[i] == control.keywords[index]) {
            break;
        }
    }
    location.href = search_urls[i];
}
</script>
Search<br/>
<input type="text" name="q" id="q" size="15" autocomplete="off" placeholder="Press ‘S’ to search" /><br/>
<script type="text/javascript"> new autosuggest("q", search_index, null, on_search); </script>
</div>
</div>
<div class="content">
<header id="title-block-header">
<h1 class="title">Primitives addon</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#general" id="toc-general">General</a>
<ul>
<li><a href="#al_get_allegro_primitives_version"
id="toc-al_get_allegro_primitives_version">al_get_allegro_primitives_version</a></li>
<li><a href="#al_init_primitives_addon"
id="toc-al_init_primitives_addon">al_init_primitives_addon</a></li>
<li><a href="#al_is_primitives_addon_initialized"
id="toc-al_is_primitives_addon_initialized">al_is_primitives_addon_initialized</a></li>
<li><a href="#al_shutdown_primitives_addon"
id="toc-al_shutdown_primitives_addon">al_shutdown_primitives_addon</a></li>
</ul></li>
<li><a href="#high-level-drawing-routines"
id="toc-high-level-drawing-routines">High level drawing routines</a>
<ul>
<li><a href="#pixel-precise-output"
id="toc-pixel-precise-output">Pixel-precise output</a></li>
<li><a href="#al_draw_line" id="toc-al_draw_line">al_draw_line</a></li>
<li><a href="#al_draw_triangle"
id="toc-al_draw_triangle">al_draw_triangle</a></li>
<li><a href="#al_draw_filled_triangle"
id="toc-al_draw_filled_triangle">al_draw_filled_triangle</a></li>
<li><a href="#al_draw_rectangle"
id="toc-al_draw_rectangle">al_draw_rectangle</a></li>
<li><a href="#al_draw_filled_rectangle"
id="toc-al_draw_filled_rectangle">al_draw_filled_rectangle</a></li>
<li><a href="#al_draw_rounded_rectangle"
id="toc-al_draw_rounded_rectangle">al_draw_rounded_rectangle</a></li>
<li><a href="#al_draw_filled_rounded_rectangle"
id="toc-al_draw_filled_rounded_rectangle">al_draw_filled_rounded_rectangle</a></li>
<li><a href="#al_calculate_arc"
id="toc-al_calculate_arc">al_calculate_arc</a></li>
<li><a href="#al_draw_pieslice"
id="toc-al_draw_pieslice">al_draw_pieslice</a></li>
<li><a href="#al_draw_filled_pieslice"
id="toc-al_draw_filled_pieslice">al_draw_filled_pieslice</a></li>
<li><a href="#al_draw_ellipse"
id="toc-al_draw_ellipse">al_draw_ellipse</a></li>
<li><a href="#al_draw_filled_ellipse"
id="toc-al_draw_filled_ellipse">al_draw_filled_ellipse</a></li>
<li><a href="#al_draw_circle"
id="toc-al_draw_circle">al_draw_circle</a></li>
<li><a href="#al_draw_filled_circle"
id="toc-al_draw_filled_circle">al_draw_filled_circle</a></li>
<li><a href="#al_draw_arc" id="toc-al_draw_arc">al_draw_arc</a></li>
<li><a href="#al_draw_elliptical_arc"
id="toc-al_draw_elliptical_arc">al_draw_elliptical_arc</a></li>
<li><a href="#al_calculate_spline"
id="toc-al_calculate_spline">al_calculate_spline</a></li>
<li><a href="#al_draw_spline"
id="toc-al_draw_spline">al_draw_spline</a></li>
<li><a href="#al_calculate_ribbon"
id="toc-al_calculate_ribbon">al_calculate_ribbon</a></li>
<li><a href="#al_draw_ribbon"
id="toc-al_draw_ribbon">al_draw_ribbon</a></li>
</ul></li>
<li><a href="#low-level-drawing-routines"
id="toc-low-level-drawing-routines">Low level drawing routines</a>
<ul>
<li><a href="#al_draw_prim" id="toc-al_draw_prim">al_draw_prim</a></li>
<li><a href="#al_draw_indexed_prim"
id="toc-al_draw_indexed_prim">al_draw_indexed_prim</a></li>
<li><a href="#al_draw_vertex_buffer"
id="toc-al_draw_vertex_buffer">al_draw_vertex_buffer</a></li>
<li><a href="#al_draw_indexed_buffer"
id="toc-al_draw_indexed_buffer">al_draw_indexed_buffer</a></li>
<li><a href="#al_draw_soft_triangle"
id="toc-al_draw_soft_triangle">al_draw_soft_triangle</a></li>
<li><a href="#al_draw_soft_line"
id="toc-al_draw_soft_line">al_draw_soft_line</a></li>
</ul></li>
<li><a href="#custom-vertex-declaration-routines"
id="toc-custom-vertex-declaration-routines">Custom vertex declaration
routines</a>
<ul>
<li><a href="#al_create_vertex_decl"
id="toc-al_create_vertex_decl">al_create_vertex_decl</a></li>
<li><a href="#al_destroy_vertex_decl"
id="toc-al_destroy_vertex_decl">al_destroy_vertex_decl</a></li>
</ul></li>
<li><a href="#vertex-buffer-routines"
id="toc-vertex-buffer-routines">Vertex buffer routines</a>
<ul>
<li><a href="#al_create_vertex_buffer"
id="toc-al_create_vertex_buffer">al_create_vertex_buffer</a></li>
<li><a href="#al_destroy_vertex_buffer"
id="toc-al_destroy_vertex_buffer">al_destroy_vertex_buffer</a></li>
<li><a href="#al_lock_vertex_buffer"
id="toc-al_lock_vertex_buffer">al_lock_vertex_buffer</a></li>
<li><a href="#al_unlock_vertex_buffer"
id="toc-al_unlock_vertex_buffer">al_unlock_vertex_buffer</a></li>
<li><a href="#al_get_vertex_buffer_size"
id="toc-al_get_vertex_buffer_size">al_get_vertex_buffer_size</a></li>
</ul></li>
<li><a href="#index-buffer-routines"
id="toc-index-buffer-routines">Index buffer routines</a>
<ul>
<li><a href="#al_create_index_buffer"
id="toc-al_create_index_buffer">al_create_index_buffer</a></li>
<li><a href="#al_destroy_index_buffer"
id="toc-al_destroy_index_buffer">al_destroy_index_buffer</a></li>
<li><a href="#al_lock_index_buffer"
id="toc-al_lock_index_buffer">al_lock_index_buffer</a></li>
<li><a href="#al_unlock_index_buffer"
id="toc-al_unlock_index_buffer">al_unlock_index_buffer</a></li>
<li><a href="#al_get_index_buffer_size"
id="toc-al_get_index_buffer_size">al_get_index_buffer_size</a></li>
</ul></li>
<li><a href="#polygon-routines" id="toc-polygon-routines">Polygon
routines</a>
<ul>
<li><a href="#al_draw_polyline"
id="toc-al_draw_polyline">al_draw_polyline</a></li>
<li><a href="#al_draw_polygon"
id="toc-al_draw_polygon">al_draw_polygon</a></li>
<li><a href="#al_draw_filled_polygon"
id="toc-al_draw_filled_polygon">al_draw_filled_polygon</a></li>
<li><a href="#al_draw_filled_polygon_with_holes"
id="toc-al_draw_filled_polygon_with_holes">al_draw_filled_polygon_with_holes</a></li>
<li><a href="#al_triangulate_polygon"
id="toc-al_triangulate_polygon">al_triangulate_polygon</a></li>
</ul></li>
<li><a href="#structures-and-types"
id="toc-structures-and-types">Structures and types</a>
<ul>
<li><a href="#allegro_vertex"
id="toc-allegro_vertex">ALLEGRO_VERTEX</a></li>
<li><a href="#allegro_vertex_decl"
id="toc-allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a></li>
<li><a href="#allegro_vertex_element"
id="toc-allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</a></li>
<li><a href="#allegro_prim_type"
id="toc-allegro_prim_type">ALLEGRO_PRIM_TYPE</a></li>
<li><a href="#allegro_prim_attr"
id="toc-allegro_prim_attr">ALLEGRO_PRIM_ATTR</a></li>
<li><a href="#allegro_prim_storage"
id="toc-allegro_prim_storage">ALLEGRO_PRIM_STORAGE</a></li>
<li><a href="#allegro_vertex_cache_size"
id="toc-allegro_vertex_cache_size">ALLEGRO_VERTEX_CACHE_SIZE</a></li>
<li><a href="#allegro_prim_quality"
id="toc-allegro_prim_quality">ALLEGRO_PRIM_QUALITY</a></li>
<li><a href="#allegro_line_join"
id="toc-allegro_line_join">ALLEGRO_LINE_JOIN</a></li>
<li><a href="#allegro_line_cap"
id="toc-allegro_line_cap">ALLEGRO_LINE_CAP</a></li>
<li><a href="#allegro_vertex_buffer"
id="toc-allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a></li>
<li><a href="#allegro_index_buffer"
id="toc-allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a></li>
<li><a href="#allegro_prim_buffer_flags"
id="toc-allegro_prim_buffer_flags">ALLEGRO_PRIM_BUFFER_FLAGS</a></li>
</ul></li>
</ul>
</nav>
<p>These functions are declared in the following header file. Link with
allegro_primitives.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a> <span class="pp">#include </span><span class="im">&lt;allegro5/allegro_primitives.h&gt;</span></span></code></pre></div>
<h1 id="general">General</h1>
<h2
id="al_get_allegro_primitives_version">al_get_allegro_primitives_version</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">uint32_t</span> al_get_allegro_primitives_version<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L160">Source
Code</a></p>
<p>Returns the (compiled) version of the addon, in the same format as <a
href="system.html#al_get_allegro_version">al_get_allegro_version</a>.</p>
<h2 id="al_init_primitives_addon">al_init_primitives_addon</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_init_primitives_addon<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L48">Source
Code</a></p>
<p>Initializes the primitives addon.</p>
<p><em>Returns:</em> True on success, false on failure.</p>
<p>See also: <a
href="primitives.html#al_shutdown_primitives_addon">al_shutdown_primitives_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_touch_input.c#L55">ex_touch_input.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_blend_bench.c#L154">ex_blend_bench.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_enet_client.c#L157">ex_enet_client.c</a></li>
</ul>
<h2
id="al_is_primitives_addon_initialized">al_is_primitives_addon_initialized</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_primitives_addon_initialized<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L62">Source
Code</a></p>
<p>Returns true if the primitives addon is initialized, otherwise
returns false.</p>
<p>Since: 5.2.6</p>
<p>See also: <a
href="primitives.html#al_init_primitives_addon">al_init_primitives_addon</a>,
<a
href="primitives.html#al_shutdown_primitives_addon">al_shutdown_primitives_addon</a></p>
<h2 id="al_shutdown_primitives_addon">al_shutdown_primitives_addon</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_shutdown_primitives_addon<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L69">Source
Code</a></p>
<p>Shut down the primitives addon. This is done automatically at program
exit, but can be called any time the user wishes as well.</p>
<p>See also: <a
href="primitives.html#al_init_primitives_addon">al_init_primitives_addon</a></p>
<h1 id="high-level-drawing-routines">High level drawing routines</h1>
<p>High level drawing routines encompass the most common usage of this
addon: to draw geometric primitives, both smooth (variations on the
circle theme) and piecewise linear. Outlined primitives support the
concept of thickness with two distinct modes of output: hairline lines
and thick lines. Hairline lines are specifically designed to be exactly
a pixel wide, and are commonly used for drawing outlined figures that
need to be a pixel wide. Hairline thickness is designated as thickness
less than or equal to 0. Unfortunately, the exact rasterization rules
for drawing these hairline lines vary from one video card to another,
and sometimes leave gaps where the lines meet. If that matters to you,
then you should use thick lines. In many cases, having a thickness of 1
will produce 1 pixel wide lines that look better than hairline lines.
Obviously, hairline lines cannot replicate thicknesses greater than 1.
Thick lines grow symmetrically around the generating shape as thickness
is increased.</p>
<h2 id="pixel-precise-output">Pixel-precise output</h2>
<p>While normally you should not be too concerned with which pixels are
displayed when the high level primitives are drawn, it is nevertheless
possible to control that precisely by carefully picking the coordinates
at which you draw those primitives.</p>
<p>To be able to do that, however, it is critical to understand how GPU
cards convert shapes to pixels. Pixels are not the smallest unit that
can be addressed by the GPU. Because the GPU deals with floating point
coordinates, it can in fact assign different coordinates to different
parts of a single pixel. To a GPU, thus, a screen is composed of a grid
of squares that have width and length of 1. The top left corner of the
top left pixel is located at (0, 0). Therefore, the center of that pixel
is at (0.5, 0.5). The basic rule that determines which pixels are
associated with which shape is then as follows: a pixel is treated to
belong to a shape if the pixel’s center is located in that shape. The
figure below illustrates the above concepts:</p>
<figure>
<img src="images/primitives1.png"
alt="Diagram showing a how pixel output is calculated by the GPU given the mathematical description of several shapes." />
<figcaption aria-hidden="true"><em>Diagram showing a how pixel output is
calculated by the GPU given the mathematical description of several
shapes.</em></figcaption>
</figure>
<p>This figure depicts three shapes drawn at the top left of the screen:
an orange and green rectangles and a purple circle. On the left are the
mathematical descriptions of pixels on the screen and the shapes to be
drawn. On the right is the screen output. Only a single pixel has its
center inside the circle, and therefore only a single pixel is drawn on
the screen. Similarly, two pixels are drawn for the orange rectangle.
Since there are no pixels that have their centers inside the green
rectangle, the output image has no green pixels.</p>
<p>Here is a more practical example. The image below shows the output of
this code:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* blue vertical line */</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>al_draw_line<span class="op">(</span><span class="fl">0.5</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> color_blue<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">/* red horizontal line */</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>al_draw_line<span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> color_red<span class="op">,</span> <span class="dv">2</span><span class="op">);</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">/* green filled rectangle */</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>al_draw_filled_rectangle<span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> color_green<span class="op">);</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">/* purple outlined rectangle */</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>al_draw_rectangle<span class="op">(</span><span class="fl">2.5</span><span class="op">,</span> <span class="fl">3.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> color_purple<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span></code></pre></div>
<figure>
<img src="images/primitives2.png"
alt="Diagram showing a practical example of pixel output resulting from the invocation of several primitives addon functions." />
<figcaption aria-hidden="true"><em>Diagram showing a practical example
of pixel output resulting from the invocation of several primitives
addon functions.</em></figcaption>
</figure>
<p>It can be seen that lines are generated by making a rectangle based
on the dashed line between the two endpoints. The thickness causes the
rectangle to grow symmetrically about that generating line, as can be
seen by comparing the red and blue lines. Note that to get proper pixel
coverage, the coordinates passed to the <code>al_draw_line</code> had to
be offset by 0.5 in the appropriate dimensions.</p>
<p>Filled rectangles are generated by making a rectangle between the
endpoints passed to the <code>al_draw_filled_rectangle</code>.</p>
<p>Outlined rectangles are generated by symmetrically expanding an
outline of a rectangle. With a thickness of 1, as depicted in the
diagram, this means that an offset of 0.5 is needed for both sets of
endpoint coordinates to exactly line up with the pixels of the display
raster.</p>
<p>The above rules only apply when multisampling is turned off. When
multisampling is turned on, the area of a pixel that is covered by a
shape is taken into account when choosing what color to draw there. This
also means that shapes no longer have to contain the pixel’s center to
affect its color. For example, the green rectangle in the first diagram
may in fact be drawn as two (or one) semi-transparent pixels. The
advantages of multisampling is that slanted shapes will look smoother
because they will not have jagged edges. A disadvantage of multisampling
is that it may make vertical and horizontal edges blurry. While the
exact rules for multisampling are unspecified, and may vary from GPU to
GPU, it is usually safe to assume that as long as a pixel is either
completely covered by a shape or completely not covered, then the shape
edges will be sharp. The offsets used in the second diagram were chosen
so that this is the case: if you use those offsets, your shapes (if they
are oriented the same way as they are on the diagram) should look the
same whether multisampling is turned on or off.</p>
<h2 id="al_draw_line">al_draw_line</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_line<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L81">Source
Code</a></p>
<p>Draws a line segment between two points.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2 - Start and end points of the line</li>
<li>color - Color of the line</li>
<li>thickness - Thickness of the line, pass <code>&lt;= 0</code> to draw
hairline lines</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_soft_line">al_draw_soft_line</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_font_justify.cpp#L85">ex_font_justify.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_resize.c#L17">ex_resize.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_mouse_warp.c#L59">ex_mouse_warp.c</a></li>
</ul>
<h2 id="al_draw_triangle">al_draw_triangle</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_triangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> x3<span class="op">,</span> <span class="dt">float</span> y3<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L126">Source
Code</a></p>
<p>Draws an outlined triangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2, x3, y3 - Three points of the triangle</li>
<li>color - Color of the triangle</li>
<li>thickness - Thickness of the lines, pass <code>&lt;= 0</code> to
draw hairline lines</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_filled_triangle">al_draw_filled_triangle</a>,
<a
href="primitives.html#al_draw_soft_triangle">al_draw_soft_triangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L321">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_filled_triangle">al_draw_filled_triangle</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_triangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> x3<span class="op">,</span> <span class="dt">float</span> y3<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L339">Source
Code</a></p>
<p>Draws a filled triangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2, x3, y3 - Three points of the triangle</li>
<li>color - Color of the triangle</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_triangle">al_draw_triangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L350">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_rectangle">al_draw_rectangle</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_rectangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L361">Source
Code</a></p>
<p>Draws an outlined rectangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2 - Upper left and lower right points of the
rectangle</li>
<li>color - Color of the rectangle</li>
<li>thickness - Thickness of the lines, pass <code>&lt;= 0</code> to
draw hairline lines</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_filled_rectangle">al_draw_filled_rectangle</a>,
<a
href="primitives.html#al_draw_rounded_rectangle">al_draw_rounded_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_mouse.c#L24">ex_mouse.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_font_justify.cpp#L83">ex_font_justify.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_subbitmap.c#L206">ex_subbitmap.c</a></li>
</ul>
<h2 id="al_draw_filled_rectangle">al_draw_filled_rectangle</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_rectangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L406">Source
Code</a></p>
<p>Draws a filled rectangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2 - Upper left and lower right points of the
rectangle</li>
<li>color - Color of the rectangle</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_rectangle">al_draw_rectangle</a>, <a
href="primitives.html#al_draw_filled_rounded_rectangle">al_draw_filled_rounded_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_mouse.c#L23">ex_mouse.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_timer.c#L91">ex_timer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_window_maximized.c#L103">ex_window_maximized.c</a></li>
</ul>
<h2 id="al_draw_rounded_rectangle">al_draw_rounded_rectangle</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_rounded_rectangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L855">Source
Code</a></p>
<p>Draws an outlined rounded rectangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2 - Upper left and lower right points of the
rectangle</li>
<li>color - Color of the rectangle</li>
<li>rx, ry - The radii of the round</li>
<li>thickness - Thickness of the lines, pass <code>&lt;= 0</code> to
draw hairline lines</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_filled_rounded_rectangle">al_draw_filled_rounded_rectangle</a>,
<a href="primitives.html#al_draw_rectangle">al_draw_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_threads.c#L93">ex_threads.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L323">ex_prim.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_audio_chain.cpp#L305">ex_audio_chain.cpp</a></li>
</ul>
<h2
id="al_draw_filled_rounded_rectangle">al_draw_filled_rounded_rectangle</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_rounded_rectangle<span class="op">(</span><span class="dt">float</span> x1<span class="op">,</span> <span class="dt">float</span> y1<span class="op">,</span> <span class="dt">float</span> x2<span class="op">,</span> <span class="dt">float</span> y2<span class="op">,</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L953">Source
Code</a></p>
<p>Draws an filled rounded rectangle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>x1, y1, x2, y2 - Upper left and lower right points of the
rectangle</li>
<li>color - Color of the rectangle</li>
<li>rx, ry - The radii of the round</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_rounded_rectangle">al_draw_rounded_rectangle</a>,
<a
href="primitives.html#al_draw_filled_rectangle">al_draw_filled_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_threads.c#L90">ex_threads.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_video.c#L57">ex_video.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L353">ex_prim.c</a></li>
</ul>
<h2 id="al_calculate_arc">al_calculate_arc</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_calculate_arc<span class="op">(</span><span class="dt">float</span><span class="op">*</span> dest<span class="op">,</span> <span class="dt">int</span> stride<span class="op">,</span> <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span> <span class="dt">float</span> start_theta<span class="op">,</span> <span class="dt">float</span> delta_theta<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">,</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> num_points<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L427">Source
Code</a></p>
<p>When <code>thickness &lt;= 0</code> this function computes positions
of <code>num_points</code> regularly spaced points on an elliptical arc.
When <code>thickness &gt; 0</code> this function computes two sets of
points, obtained as follows: the first set is obtained by taking the
points computed in the <code>thickness &lt;= 0</code> case and shifting
them by <code>thickness / 2</code> outward, in a direction perpendicular
to the arc curve. The second set is the same, but shifted
<code>thickness / 2</code> inward relative to the arc. The two sets of
points are interleaved in the destination buffer (i.e. the first pair of
points will be collinear with the arc center, the first point of the
pair will be farther from the center than the second point; the next
pair will also be collinear, but at a different angle and so on).</p>
<p>The destination buffer <code>dest</code> is interpreted as a set of
regularly spaced pairs of floats, each pair holding the coordinates of
the corresponding point on the arc. The two floats in the pair are
adjacent, and the distance (in bytes) between the addresses of the first
float in two successive pairs is <code>stride</code>. For example, if
you have a tightly packed array of floats with no spaces between pairs,
then <code>stride</code> will be exactly
<code>2 * sizeof(float)</code>.</p>
<p>Example with <code>thickness &lt;= 0</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> <span class="dt">int</span> num_points <span class="op">=</span> <span class="dv">4</span><span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> points<span class="op">[</span>num_points<span class="op">][</span><span class="dv">2</span><span class="op">];</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>al_calculate_arc<span class="op">(&amp;</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">0</span><span class="op">],</span> <span class="dv">2</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">float</span><span class="op">),</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> ALLEGRO_PI <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> num_points<span class="op">);</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">10</span><span class="op">);</span></span></code></pre></div>
<p>Example with <code>thickness &gt; 0</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> <span class="dt">int</span> num_points <span class="op">=</span> <span class="dv">4</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> points<span class="op">[</span>num_points <span class="op">*</span> <span class="dv">2</span><span class="op">][</span><span class="dv">2</span><span class="op">];</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>al_calculate_arc<span class="op">(&amp;</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">0</span><span class="op">],</span> <span class="dv">2</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">float</span><span class="op">),</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> ALLEGRO_PI <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> num_points<span class="op">);</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">11</span><span class="op">);</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">0</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">1</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">9</span><span class="op">);</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[</span><span class="dv">1</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[(</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">*</span> <span class="dv">2</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[(</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">*</span> <span class="dv">2</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">11</span><span class="op">);</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[(</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">][</span><span class="dv">0</span><span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>assert<span class="op">((</span><span class="dt">int</span><span class="op">)</span>points<span class="op">[(</span>num_points <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">][</span><span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="dv">9</span><span class="op">);</span></span></code></pre></div>
<p><em>Parameters:</em></p>
<ul>
<li>dest - The destination buffer</li>
<li>stride - Distance (in bytes) between starts of successive pairs of
points</li>
<li>cx, cy - Center of the arc</li>
<li>rx, ry - Radii of the arc</li>
<li>start_theta - The initial angle from which the arc is calculated in
radians</li>
<li>delta_theta - Angular span of the arc in radians (pass a negative
number to switch direction)</li>
<li>thickness - Thickness of the arc</li>
<li>num_points - The number of points to calculate</li>
</ul>
<p>See also: <a href="primitives.html#al_draw_arc">al_draw_arc</a>, <a
href="primitives.html#al_calculate_spline">al_calculate_spline</a>, <a
href="primitives.html#al_calculate_ribbon">al_calculate_ribbon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L135">ex_vertex_buffer.c</a></li>
</ul>
<h2 id="al_draw_pieslice">al_draw_pieslice</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_pieslice<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> start_theta<span class="op">,</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> delta_theta<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L508">Source
Code</a></p>
<p>Draws a pieslice (outlined circular sector).</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the pieslice</li>
<li>r - Radius of the pieslice</li>
<li>color - Color of the pieslice</li>
<li>start_theta - The initial angle from which the pieslice is drawn in
radians</li>
<li>delta_theta - Angular span of the pieslice in radians (pass a
negative number to switch direction)</li>
<li>thickness - Thickness of the circle, pass <code>&lt;= 0</code> to
draw hairline pieslice</li>
</ul>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_filled_pieslice">al_draw_filled_pieslice</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L329">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_filled_pieslice">al_draw_filled_pieslice</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_pieslice<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> start_theta<span class="op">,</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> delta_theta<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L664">Source
Code</a></p>
<p>Draws a filled pieslice (filled circular sector).</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the pieslice</li>
<li>r - Radius of the pieslice</li>
<li>color - Color of the pieslice</li>
<li>start_theta - The initial angle from which the pieslice is drawn in
radians</li>
<li>delta_theta - Angular span of the pieslice in radians (pass a
negative number to switch direction)</li>
</ul>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_pieslice">al_draw_pieslice</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L354">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_ellipse">al_draw_ellipse</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_ellipse<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L695">Source
Code</a></p>
<p>Draws an outlined ellipse.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the ellipse</li>
<li>rx, ry - Radii of the ellipse</li>
<li>color - Color of the ellipse</li>
<li>thickness - Thickness of the ellipse, pass <code>&lt;= 0</code> to
draw a hairline ellipse</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_filled_ellipse">al_draw_filled_ellipse</a>,
<a href="primitives.html#al_draw_circle">al_draw_circle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_draw.c#L106">ex_draw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L325">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_filled_ellipse">al_draw_filled_ellipse</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_ellipse<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L747">Source
Code</a></p>
<p>Draws a filled ellipse.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the ellipse</li>
<li>rx, ry - Radii of the ellipse</li>
<li>color - Color of the ellipse</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_ellipse">al_draw_ellipse</a>, <a
href="primitives.html#al_draw_filled_circle">al_draw_filled_circle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_draw.c#L105">ex_draw.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L352">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_circle">al_draw_circle</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_circle<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> r<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L782">Source
Code</a></p>
<p>Draws an outlined circle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the circle</li>
<li>r - Radius of the circle</li>
<li>color - Color of the circle</li>
<li>thickness - Thickness of the circle, pass <code>&lt;= 0</code> to
draw a hairline circle</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_filled_circle">al_draw_filled_circle</a>,
<a href="primitives.html#al_draw_ellipse">al_draw_ellipse</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_touch_input.c#L22">ex_touch_input.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_transform.c#L159">ex_transform.c</a></li>
</ul>
<h2 id="al_draw_filled_circle">al_draw_filled_circle</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_circle<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> r<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L790">Source
Code</a></p>
<p>Draws a filled circle.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the circle</li>
<li>r - Radius of the circle</li>
<li>color - Color of the circle</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_circle">al_draw_circle</a>, <a
href="primitives.html#al_draw_filled_ellipse">al_draw_filled_ellipse</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_enet_client.c#L247">ex_enet_client.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_joystick_hotplugging.c#L46">ex_joystick_hotplugging.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_blend2.cpp#L255">ex_blend2.cpp</a></li>
</ul>
<h2 id="al_draw_arc">al_draw_arc</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_arc<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> start_theta<span class="op">,</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> delta_theta<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L847">Source
Code</a></p>
<p>Draws an arc.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the arc</li>
<li>r - Radius of the arc</li>
<li>color - Color of the arc</li>
<li>start_theta - The initial angle from which the arc is calculated in
radians</li>
<li>delta_theta - Angular span of the arc in radians (pass a negative
number to switch direction)</li>
<li>thickness - Thickness of the arc, pass <code>&lt;= 0</code> to draw
hairline arc</li>
</ul>
<p>See also: <a
href="primitives.html#al_calculate_arc">al_calculate_arc</a>, <a
href="primitives.html#al_draw_elliptical_arc">al_draw_elliptical_arc</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L327">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_elliptical_arc">al_draw_elliptical_arc</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_elliptical_arc<span class="op">(</span><span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> rx<span class="op">,</span> <span class="dt">float</span> ry<span class="op">,</span> <span class="dt">float</span> start_theta<span class="op">,</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> delta_theta<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L797">Source
Code</a></p>
<p>Draws an elliptical arc.</p>
<p><em>Parameters:</em></p>
<ul>
<li>cx, cy - Center of the arc</li>
<li>rx, ry - Radii of the arc</li>
<li>color - Color of the arc</li>
<li>start_theta - The initial angle from which the arc is calculated in
radians</li>
<li>delta_theta - Angular span of the arc in radians (pass a negative
number to switch direction)</li>
<li>thickness - Thickness of the arc, pass <code>&lt;= 0</code> to draw
hairline arc</li>
</ul>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="primitives.html#al_calculate_arc">al_calculate_arc</a>, <a
href="primitives.html#al_draw_arc">al_draw_arc</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L326">ex_prim.c</a></li>
</ul>
<h2 id="al_calculate_spline">al_calculate_spline</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_calculate_spline<span class="op">(</span><span class="dt">float</span><span class="op">*</span> dest<span class="op">,</span> <span class="dt">int</span> stride<span class="op">,</span> <span class="dt">const</span> <span class="dt">float</span> points<span class="op">[</span><span class="dv">8</span><span class="op">],</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> thickness<span class="op">,</span> <span class="dt">int</span> num_segments<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L1004">Source
Code</a></p>
<p>Calculates a Bézier spline given 4 control points. If
<code>thickness &lt;= 0</code>, then <code>num_segments</code> of points
are required in the destination, otherwise twice as many are needed. The
destination buffer should consist of regularly spaced (by distance of
stride bytes) doublets of floats, corresponding to x and y coordinates
of the vertices.</p>
<p><em>Parameters:</em></p>
<ul>
<li>dest - The destination buffer</li>
<li>stride - Distance (in bytes) between starts of successive pairs of
coordinates</li>
<li>points - An array of 4 pairs of coordinates of the 4 control
points</li>
<li>thickness - Thickness of the spline ribbon</li>
<li>num_segments - The number of points to calculate</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_spline">al_draw_spline</a>, <a
href="primitives.html#al_calculate_arc">al_calculate_arc</a>, <a
href="primitives.html#al_calculate_ribbon">al_calculate_ribbon</a></p>
<h2 id="al_draw_spline">al_draw_spline</h2>
<div class="sourceCode" id="cb26"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_spline<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span> points<span class="op">[</span><span class="dv">8</span><span class="op">],</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L1083">Source
Code</a></p>
<p>Draws a Bézier spline given 4 control points.</p>
<p><em>Parameters:</em></p>
<ul>
<li>points - An array of 4 pairs of coordinates of the 4 control
points</li>
<li>color - Color of the spline</li>
<li>thickness - Thickness of the spline, pass <code>&lt;= 0</code> to
draw a hairline spline</li>
</ul>
<p>See also: <a
href="primitives.html#al_calculate_spline">al_calculate_spline</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L328">ex_prim.c</a></li>
</ul>
<h2 id="al_calculate_ribbon">al_calculate_ribbon</h2>
<div class="sourceCode" id="cb27"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_calculate_ribbon<span class="op">(</span><span class="dt">float</span><span class="op">*</span> dest<span class="op">,</span> <span class="dt">int</span> dest_stride<span class="op">,</span> <span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>points<span class="op">,</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> points_stride<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">,</span> <span class="dt">int</span> num_segments<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L1127">Source
Code</a></p>
<p>Calculates a ribbon given an array of points. The ribbon will go
through all of the passed points. If <code>thickness &lt;= 0</code>,
then <code>num_segments</code> of points are required in the destination
buffer, otherwise twice as many are needed. The destination and the
points buffer should consist of regularly spaced doublets of floats,
corresponding to x and y coordinates of the vertices.</p>
<p><em>Parameters:</em></p>
<ul>
<li>dest - Pointer to the destination buffer</li>
<li>dest_stride - Distance (in bytes) between starts of successive pairs
of coordinates in the destination buffer</li>
<li>points - An array of pairs of coordinates for each point</li>
<li>points_stride - Distance (in bytes) between starts of successive
pairs of coordinates in the points buffer</li>
<li>thickness - Thickness of the spline ribbon</li>
<li>num_segments - The number of points to calculate</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_ribbon">al_draw_ribbon</a>, <a
href="primitives.html#al_calculate_arc">al_calculate_arc</a>, <a
href="primitives.html#al_calculate_spline">al_calculate_spline</a></p>
<h2 id="al_draw_ribbon">al_draw_ribbon</h2>
<div class="sourceCode" id="cb28"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_ribbon<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>points<span class="op">,</span> <span class="dt">int</span> points_stride<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> thickness<span class="op">,</span> <span class="dt">int</span> num_segments<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/high_primitives.c#L1249">Source
Code</a></p>
<p>Draws a ribbon given an array of points. The ribbon will go through
all of the passed points. The points buffer should consist of regularly
spaced doublets of floats, corresponding to x and y coordinates of the
vertices.</p>
<p><em>Parameters:</em></p>
<ul>
<li>points - An array of coordinate pairs (x and y) for each point</li>
<li>points_stride - Distance (in bytes) between starts of successive
pairs of coordinates in the points buffer</li>
<li>color - Color of the spline</li>
<li>thickness - Thickness of the spline, pass <code>&lt;= 0</code> to
draw hairline spline</li>
<li>num_segments - The number of segments</li>
</ul>
<p>See also: <a
href="primitives.html#al_calculate_ribbon">al_calculate_ribbon</a></p>
<h1 id="low-level-drawing-routines">Low level drawing routines</h1>
<p>Low level drawing routines allow for more advanced usage of the
addon, allowing you to pass arbitrary sequences of vertices to draw to
the screen. These routines also support using textures on the primitives
with the following restrictions:</p>
<p>For maximum portability, you should only use textures that have
dimensions that are a power of two, as not every videocard supports
textures of different sizes completely. This warning is relaxed,
however, if the texture coordinates never exit the boundaries of a
single bitmap (i.e. you are not having the texture repeat/tile). As long
as that is the case, any texture can be used safely. Sub-bitmaps work as
textures, but cannot be tiled.</p>
<p>Some platforms also dictate a minimum texture size, which means that
textures smaller than that size will not tile properly. The minimum size
that will work on all platforms is 32 by 32.</p>
<p>A note about pixel coordinates. In OpenGL the texture coordinate (0,
0) refers to the top left corner of the pixel. This confuses some
drivers, because due to rounding errors the actual pixel sampled might
be the pixel to the top and/or left of the (0, 0) pixel. To make this
error less likely it is advisable to offset the texture coordinates you
pass to the al_draw_prim by (0.5, 0.5) if you need precise pixel
control. E.g. to refer to pixel (5, 10) you’d set the u and v to 5.5 and
10.5 respectively.</p>
<p>See also: <a
href="primitives.html#pixel-precise-output">Pixel-precise output</a></p>
<h2 id="al_draw_prim">al_draw_prim</h2>
<div class="sourceCode" id="cb29"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_draw_prim<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span><span class="op">*</span> vtxs<span class="op">,</span> <span class="dt">const</span> ALLEGRO_VERTEX_DECL<span class="op">*</span> decl<span class="op">,</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP<span class="op">*</span> texture<span class="op">,</span> <span class="dt">int</span> start<span class="op">,</span> <span class="dt">int</span> end<span class="op">,</span> <span class="dt">int</span> type<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L77">Source
Code</a></p>
<p>Draws a subset of the passed vertex array.</p>
<p><em>Parameters:</em></p>
<ul>
<li>texture - Texture to use, pass NULL to use only color shaded
primitves</li>
<li>vtxs - Pointer to an array of vertices</li>
<li>decl - Pointer to a <a
href="primitives.html#al_create_vertex_decl">vertex declaration</a>. If
set to NULL, the vertices are assumed to be of the <a
href="primitives.html#allegro_vertex">ALLEGRO_VERTEX</a> type</li>
<li>start - Start index of the subset of the vertex array to draw</li>
<li>end - One past the last index of the subset of the vertex array to
draw</li>
<li>type - A member of the <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>
enumeration, specifying what kind of primitive to draw</li>
</ul>
<p><em>Returns:</em> Number of primitives drawn</p>
<p>For example to draw a textured triangle you could use:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR white <span class="op">=</span> al_map_rgb_f<span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX v<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>   <span class="op">{.</span>x <span class="op">=</span> <span class="dv">128</span><span class="op">,</span> <span class="op">.</span>y <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>z <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>color <span class="op">=</span> white<span class="op">,</span> <span class="op">.</span>u <span class="op">=</span> <span class="dv">128</span><span class="op">,</span> <span class="op">.</span>v <span class="op">=</span> <span class="dv">0</span><span class="op">},</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>   <span class="op">{.</span>x <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>y <span class="op">=</span> <span class="dv">256</span><span class="op">,</span> <span class="op">.</span>z <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>color <span class="op">=</span> white<span class="op">,</span> <span class="op">.</span>u <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>v <span class="op">=</span> <span class="dv">256</span><span class="op">},</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">{.</span>x <span class="op">=</span> <span class="dv">256</span><span class="op">,</span> <span class="op">.</span>y <span class="op">=</span> <span class="dv">256</span><span class="op">,</span> <span class="op">.</span>z <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="op">.</span>color <span class="op">=</span> white<span class="op">,</span> <span class="op">.</span>u <span class="op">=</span> <span class="dv">256</span><span class="op">,</span> <span class="op">.</span>v <span class="op">=</span> <span class="dv">256</span><span class="op">}};</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>al_draw_prim<span class="op">(</span>v<span class="op">,</span> NULL<span class="op">,</span> texture<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> ALLEGRO_PRIM_TRIANGLE_LIST<span class="op">);</span></span></code></pre></div>
<p>See also: <a
href="primitives.html#allegro_vertex">ALLEGRO_VERTEX</a>, <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>, <a
href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>, <a
href="primitives.html#al_draw_indexed_prim">al_draw_indexed_prim</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L187">ex_prim_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L61">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_wrap.c#L44">ex_prim_wrap.c</a></li>
</ul>
<h2 id="al_draw_indexed_prim">al_draw_indexed_prim</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_draw_indexed_prim<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span><span class="op">*</span> vtxs<span class="op">,</span> <span class="dt">const</span> ALLEGRO_VERTEX_DECL<span class="op">*</span> decl<span class="op">,</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP<span class="op">*</span> texture<span class="op">,</span> <span class="dt">const</span> <span class="dt">int</span><span class="op">*</span> indices<span class="op">,</span> <span class="dt">int</span> num_vtx<span class="op">,</span> <span class="dt">int</span> type<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L113">Source
Code</a></p>
<p>Draws a subset of the passed vertex array. This function uses an
index array to specify which vertices to use.</p>
<p><em>Parameters:</em></p>
<ul>
<li>texture - Texture to use, pass NULL to use only color shaded
primitves</li>
<li>vtxs - Pointer to an array of vertices</li>
<li>decl - Pointer to a vertex declaration. If set to NULL, the vtxs are
assumed to be of the ALLEGRO_VERTEX type</li>
<li>indices - An array of indices into the vertex array</li>
<li>num_vtx - Number of indices from the indices array you want to
draw</li>
<li>type - A member of the <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>
enumeration, specifying what kind of primitive to draw</li>
</ul>
<p><em>Returns:</em> Number of primitives drawn</p>
<p>See also: <a
href="primitives.html#allegro_vertex">ALLEGRO_VERTEX</a>, <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>, <a
href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>, <a
href="primitives.html#al_draw_prim">al_draw_prim</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_projection2.c#L33">ex_projection2.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L290">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_vertex_buffer">al_draw_vertex_buffer</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_draw_vertex_buffer<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> vertex_buffer<span class="op">,</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP<span class="op">*</span> texture<span class="op">,</span> <span class="dt">int</span> start<span class="op">,</span> <span class="dt">int</span> end<span class="op">,</span> <span class="dt">int</span> type<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L512">Source
Code</a></p>
<p>Draws a subset of the passed vertex buffer. The vertex buffer must
not be locked. Additionally, to draw onto memory bitmaps or with memory
bitmap textures the vertex buffer must support reading (i.e.  it must be
created with the <code>ALLEGRO_PRIM_BUFFER_READWRITE</code>).</p>
<p><em>Parameters:</em></p>
<ul>
<li>vertex_buffer - Vertex buffer to draw</li>
<li>texture - Texture to use, pass NULL to use only color shaded
primitves</li>
<li>start - Start index of the subset of the vertex buffer to draw</li>
<li>end - One past the last index of the subset of the vertex buffer to
draw</li>
<li>type - A member of the <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>
enumeration, specifying what kind of primitive to draw</li>
</ul>
<p><em>Returns:</em> Number of primitives drawn</p>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L58">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L538">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_indexed_buffer">al_draw_indexed_buffer</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_draw_indexed_buffer<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> vertex_buffer<span class="op">,</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP<span class="op">*</span> texture<span class="op">,</span> ALLEGRO_INDEX_BUFFER<span class="op">*</span> index_buffer<span class="op">,</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> start<span class="op">,</span> <span class="dt">int</span> end<span class="op">,</span> <span class="dt">int</span> type<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L547">Source
Code</a></p>
<p>Draws a subset of the passed vertex buffer. This function uses an
index buffer to specify which vertices to use. Both buffers must not be
locked. Additionally, to draw onto memory bitmaps or with memory bitmap
textures both buffers must support reading (i.e. they must be created
with the <code>ALLEGRO_PRIM_BUFFER_READWRITE</code>).</p>
<p><em>Parameters:</em></p>
<ul>
<li>vertex_buffer - Vertex buffer to draw</li>
<li>texture - Texture to use, pass NULL to use only color shaded
primitves</li>
<li>index_buffer - Index buffer to use</li>
<li>start - Start index of the subset of the vertex buffer to draw</li>
<li>end - One past the last index of the subset of the vertex buffer to
draw</li>
<li>type - A member of the <a
href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a>
enumeration, specifying what kind of primitive to draw. Note that
ALLEGRO_PRIM_LINE_LOOP and ALLEGRO_PRIM_POINT_LIST are not
supported.</li>
</ul>
<p><em>Returns:</em> Number of primitives drawn</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a>,
<a href="primitives.html#allegro_prim_type">ALLEGRO_PRIM_TYPE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L621">ex_prim.c</a></li>
</ul>
<h2 id="al_draw_soft_triangle">al_draw_soft_triangle</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_soft_triangle<span class="op">(</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_VERTEX<span class="op">*</span> v1<span class="op">,</span> ALLEGRO_VERTEX<span class="op">*</span> v2<span class="op">,</span> ALLEGRO_VERTEX<span class="op">*</span> v3<span class="op">,</span> <span class="dt">uintptr_t</span> state<span class="op">,</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>init<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> ALLEGRO_VERTEX<span class="op">*,</span> ALLEGRO_VERTEX<span class="op">*,</span> ALLEGRO_VERTEX<span class="op">*),</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>first<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">),</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>step<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">),</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>draw<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/prim_soft.c#L523">Source
Code</a></p>
<p>Draws a triangle using the software rasterizer and user supplied
pixel functions. For help in understanding what these functions do, see
the implementation of the various shading routines in
addons/primitives/tri_soft.c. The triangle is drawn in two segments,
from top to bottom. The segments are deliniated by the vertically middle
vertex of the triangle. One of the two segments may be absent if two
vertices are horizontally collinear.</p>
<p><em>Parameters:</em></p>
<ul>
<li>v1, v2, v3 - The three vertices of the triangle</li>
<li>state - A pointer to a user supplied struct, this struct will be
passed to all the pixel functions</li>
<li>init - Called once per call before any drawing is done. The three
points passed to it may be altered by clipping.</li>
<li>first - Called twice per call, once per triangle segment. It is
passed 4 parameters, the first two are the coordinates of the initial
pixel drawn in the segment. The second two are the left minor and the
left major steps, respectively. They represent the sizes of two steps
taken by the rasterizer as it walks on the left side of the triangle.
From then on, each step will either be classified as a minor or a major
step, corresponding to the above values.</li>
<li>step - Called once per scanline. The last parameter is set to 1 if
the step is a minor step, and 0 if it is a major step.</li>
<li>draw - Called once per scanline. The function is expected to draw
the scanline starting with a point specified by the first two parameters
(corresponding to x and y values) going to the right until it reaches
the value of the third parameter (the x value of the end point). All
coordinates are inclusive.</li>
</ul>
<p>See also: <a
href="primitives.html#al_draw_triangle">al_draw_triangle</a></p>
<h2 id="al_draw_soft_line">al_draw_soft_line</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_soft_line<span class="op">(</span>ALLEGRO_VERTEX<span class="op">*</span> v1<span class="op">,</span> ALLEGRO_VERTEX<span class="op">*</span> v2<span class="op">,</span> <span class="dt">uintptr_t</span> state<span class="op">,</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>first<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> ALLEGRO_VERTEX<span class="op">*,</span> ALLEGRO_VERTEX<span class="op">*),</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>step<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">),</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>draw<span class="op">)(</span><span class="dt">uintptr_t</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/line_soft.c#L571">Source
Code</a></p>
<p>Draws a line using the software rasterizer and user supplied pixel
functions. For help in understanding what these functions do, see the
implementation of the various shading routines in
addons/primitives/line_soft.c. The line is drawn top to bottom.</p>
<p><em>Parameters:</em></p>
<ul>
<li>v1, v2 - The two vertices of the line</li>
<li>state - A pointer to a user supplied struct, this struct will be
passed to all the pixel functions</li>
<li>first - Called before drawing the first pixel of the line. It is
passed the coordinates of this pixel, as well as the two vertices above.
The passed vertices may have been altered by clipping.</li>
<li>step - Called once per pixel. The second parameter is set to 1 if
the step is a minor step, and 0 if this step is a major step. Minor
steps are taken only either in x or y directions. Major steps are taken
in both directions diagonally. In all cases, the absolute value of the
change in coordinate is at most 1 in either direction.</li>
<li>draw - Called once per pixel. The function is expected to draw the
pixel at the coordinates passed to it.</li>
</ul>
<p>See also: <a href="primitives.html#al_draw_line">al_draw_line</a></p>
<h1 id="custom-vertex-declaration-routines">Custom vertex declaration
routines</h1>
<h2 id="al_create_vertex_decl">al_create_vertex_decl</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX_DECL<span class="op">*</span> al_create_vertex_decl<span class="op">(</span><span class="dt">const</span> ALLEGRO_VERTEX_ELEMENT<span class="op">*</span> elements<span class="op">,</span> <span class="dt">int</span> stride<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L167">Source
Code</a></p>
<p>Creates a vertex declaration, which describes a custom vertex
format.</p>
<p><em>Parameters:</em></p>
<ul>
<li>elements - An array of <a
href="primitives.html#allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</a>
structures.</li>
<li>stride - Size of the custom vertex structure</li>
</ul>
<p><em>Returns:</em> Newly created vertex declaration.</p>
<p>See also: <a
href="primitives.html#allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</a>,
<a href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>,
<a
href="primitives.html#al_destroy_vertex_decl">al_destroy_vertex_decl</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L96">ex_prim_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L78">ex_prim.c</a></li>
</ul>
<h2 id="al_destroy_vertex_decl">al_destroy_vertex_decl</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_vertex_decl<span class="op">(</span>ALLEGRO_VERTEX_DECL<span class="op">*</span> decl<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L227">Source
Code</a></p>
<p>Destroys a vertex declaration.</p>
<p><em>Parameters:</em></p>
<ul>
<li>decl - Vertex declaration to destroy</li>
</ul>
<p>See also: <a
href="primitives.html#allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</a>,
<a href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>,
<a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L196">ex_prim_shader.c</a></li>
</ul>
<h1 id="vertex-buffer-routines">Vertex buffer routines</h1>
<h2 id="al_create_vertex_buffer">al_create_vertex_buffer</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> al_create_vertex_buffer<span class="op">(</span>ALLEGRO_VERTEX_DECL<span class="op">*</span> decl<span class="op">,</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> <span class="dt">void</span><span class="op">*</span> initial_data<span class="op">,</span> <span class="dt">int</span> num_vertices<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L240">Source
Code</a></p>
<p>Creates a vertex buffer. Can return NULL if the buffer could not be
created (e.g. the system only supports write-only buffers).</p>
<blockquote>
<p><em>Note:</em></p>
<p>This is an advanced feature, often unsupported on lower-end video
cards. Be extra mindful of this function failing and make arrangements
for fallback drawing functionality or a nice error message for users
with such lower-end cards.</p>
</blockquote>
<p><em>Parameters:</em></p>
<ul>
<li>decl - Vertex type that this buffer will hold. NULL implies that
this buffer will hold <a
href="primitives.html#allegro_vertex">ALLEGRO_VERTEX</a> vertices</li>
<li>initial_data - Memory buffer to copy from to initialize the vertex
buffer. Can be <code>NULL</code>, in which case the buffer is
uninitialized.</li>
<li>num_vertices - Number of vertices the buffer will hold</li>
<li>flags - A combination of the <a
href="primitives.html#allegro_prim_buffer_flags">ALLEGRO_PRIM_BUFFER_FLAGS</a>
flags specifying how this buffer will be created. Passing 0 is the same
as passing <code>ALLEGRO_PRIM_BUFFER_STATIC</code>.</li>
</ul>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a
href="primitives.html#al_destroy_vertex_buffer">al_destroy_vertex_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L162">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L509">ex_prim.c</a></li>
</ul>
<h2 id="al_destroy_vertex_buffer">al_destroy_vertex_buffer</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_vertex_buffer<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L314">Source
Code</a></p>
<p>Destroys a vertex buffer. Does nothing if passed NULL.</p>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a
href="primitives.html#al_create_vertex_buffer">al_create_vertex_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L211">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L555">ex_prim.c</a></li>
</ul>
<h2 id="al_lock_vertex_buffer">al_lock_vertex_buffer</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span><span class="op">*</span> al_lock_vertex_buffer<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> buffer<span class="op">,</span> <span class="dt">int</span> offset<span class="op">,</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> length<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L371">Source
Code</a></p>
<p>Locks a vertex buffer so you can access its data. Will return NULL if
the parameters are invalid, if reading is requested from a write only
buffer, or if the buffer is already locked.</p>
<p><em>Parameters:</em></p>
<ul>
<li>buffer - Vertex buffer to lock</li>
<li>offset - Vertex index of the start of the locked range</li>
<li>length - How many vertices to lock</li>
<li>flags - ALLEGRO_LOCK_READONLY, ALLEGRO_LOCK_WRITEONLY or
ALLEGRO_LOCK_READWRITE</li>
</ul>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a
href="primitives.html#al_unlock_vertex_buffer">al_unlock_vertex_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L54">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L581">ex_prim.c</a></li>
</ul>
<h2 id="al_unlock_vertex_buffer">al_unlock_vertex_buffer</h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unlock_vertex_buffer<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L426">Source
Code</a></p>
<p>Unlocks a previously locked vertex buffer.</p>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a>,
<a
href="primitives.html#al_lock_vertex_buffer">al_lock_vertex_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L56">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L596">ex_prim.c</a></li>
</ul>
<h2 id="al_get_vertex_buffer_size">al_get_vertex_buffer_size</h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_vertex_buffer_size<span class="op">(</span>ALLEGRO_VERTEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L585">Source
Code</a></p>
<p>Returns the size of the vertex buffer</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</a></p>
<h1 id="index-buffer-routines">Index buffer routines</h1>
<h2 id="al_create_index_buffer">al_create_index_buffer</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_INDEX_BUFFER<span class="op">*</span> al_create_index_buffer<span class="op">(</span><span class="dt">int</span> index_size<span class="op">,</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">const</span> <span class="dt">void</span><span class="op">*</span> initial_data<span class="op">,</span> <span class="dt">int</span> num_indices<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L274">Source
Code</a></p>
<p>Creates a index buffer. Can return NULL if the buffer could not be
created (e.g. the system only supports write-only buffers).</p>
<blockquote>
<p><em>Note:</em></p>
<p>This is an advanced feature, often unsupported on lower-end video
cards. Be extra mindful of this function failing and make arrangements
for fallback drawing functionality or a nice error message for users
with such lower-end cards.</p>
</blockquote>
<p><em>Parameters:</em></p>
<ul>
<li>index_size - Size of the index in bytes. Supported sizes are 2 for
short integers and 4 for integers</li>
<li>initial_data - Memory buffer to copy from to initialize the index
buffer. Can be <code>NULL</code>, in which case the buffer is
uninitialized.</li>
<li>num_indices - Number of indices the buffer will hold</li>
<li>flags - A combination of the <a
href="primitives.html#allegro_prim_buffer_flags">ALLEGRO_PRIM_BUFFER_FLAGS</a>
flags specifying how this buffer will be created. Passing 0 is the same
as passing <code>ALLEGRO_PRIM_BUFFER_STATIC</code>.</li>
</ul>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a>, <a
href="primitives.html#al_destroy_index_buffer">al_destroy_index_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L578">ex_prim.c</a></li>
</ul>
<h2 id="al_destroy_index_buffer">al_destroy_index_buffer</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_index_buffer<span class="op">(</span>ALLEGRO_INDEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L336">Source
Code</a></p>
<p>Destroys a index buffer. Does nothing if passed NULL.</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a>, <a
href="primitives.html#al_create_index_buffer">al_create_index_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L631">ex_prim.c</a></li>
</ul>
<h2 id="al_lock_index_buffer">al_lock_index_buffer</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span><span class="op">*</span> al_lock_index_buffer<span class="op">(</span>ALLEGRO_INDEX_BUFFER<span class="op">*</span> buffer<span class="op">,</span> <span class="dt">int</span> offset<span class="op">,</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> length<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L400">Source
Code</a></p>
<p>Locks a index buffer so you can access its data. Will return NULL if
the parameters are invalid, if reading is requested from a write only
buffer and if the buffer is already locked.</p>
<p><em>Parameters:</em></p>
<ul>
<li>buffer - Index buffer to lock</li>
<li>offset - Element index of the start of the locked range</li>
<li>length - How many indices to lock</li>
<li>flags - ALLEGRO_LOCK_READONLY, ALLEGRO_LOCK_WRITEONLY or
ALLEGRO_LOCK_READWRITE</li>
</ul>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a>, <a
href="primitives.html#al_unlock_index_buffer">al_unlock_index_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L602">ex_prim.c</a></li>
</ul>
<h2 id="al_unlock_index_buffer">al_unlock_index_buffer</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unlock_index_buffer<span class="op">(</span>ALLEGRO_INDEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L447">Source
Code</a></p>
<p>Unlocks a previously locked index buffer.</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a>, <a
href="primitives.html#al_lock_index_buffer">al_lock_index_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L607">ex_prim.c</a></li>
</ul>
<h2 id="al_get_index_buffer_size">al_get_index_buffer_size</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_index_buffer_size<span class="op">(</span>ALLEGRO_INDEX_BUFFER<span class="op">*</span> buffer<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/primitives.c#L593">Source
Code</a></p>
<p>Returns the size of the index buffer</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#allegro_index_buffer">ALLEGRO_INDEX_BUFFER</a></p>
<h1 id="polygon-routines">Polygon routines</h1>
<h2 id="al_draw_polyline">al_draw_polyline</h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_polyline<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span><span class="op">*</span> vertices<span class="op">,</span> <span class="dt">int</span> vertex_stride<span class="op">,</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> vertex_count<span class="op">,</span> <span class="dt">int</span> join_style<span class="op">,</span> <span class="dt">int</span> cap_style<span class="op">,</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">,</span> <span class="dt">float</span> miter_limit<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/polyline.c#L534">Source
Code</a></p>
<p>Draw a series of line segments.</p>
<ul>
<li>vertices - Interleaved array of (x, y) vertex coordinates</li>
<li>vertex_stride - the number of bytes between pairs of vertices (the
stride)</li>
<li>vertex_count - Number of vertices in the array</li>
<li>join_style - Member of <a
href="primitives.html#allegro_line_join">ALLEGRO_LINE_JOIN</a>
specifying how to render the joins between line segments</li>
<li>cap_style - Member of <a
href="primitives.html#allegro_line_cap">ALLEGRO_LINE_CAP</a> specifying
how to render the end caps</li>
<li>color - Color of the line</li>
<li>thickness - Thickness of the line, pass <code>&lt;= 0</code> to draw
hairline lines</li>
<li>miter_limit - Parameter for miter join style</li>
</ul>
<p>The stride is normally <code>2 * sizeof(float)</code> but may be more
if the vertex coordinates are in an array of some structure type,
e.g.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> VertexInfo <span class="op">{</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> x<span class="op">;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> y<span class="op">;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> id<span class="op">;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> my_draw<span class="op">(</span><span class="kw">struct</span> VertexInfo verts<span class="op">[],</span> <span class="dt">int</span> vertex_count<span class="op">,</span> ALLEGRO_COLOR c<span class="op">)</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>   al_draw_polyline<span class="op">((</span><span class="dt">float</span> <span class="op">*)</span>verts<span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>VertexInfo<span class="op">),</span> vertex_count<span class="op">,</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>      ALLEGRO_LINE_JOIN_NONE<span class="op">,</span> ALLEGRO_LINE_CAP_NONE<span class="op">,</span> c<span class="op">,</span> <span class="fl">1.0</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">);</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The stride may also be negative if the vertices are stored in reverse
order.</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_polygon">al_draw_polygon</a>, <a
href="primitives.html#allegro_line_join">ALLEGRO_LINE_JOIN</a>, <a
href="primitives.html#allegro_line_cap">ALLEGRO_LINE_CAP</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L238">ex_polygon.c</a></li>
</ul>
<h2 id="al_draw_polygon">al_draw_polygon</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_polygon<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>vertices<span class="op">,</span> <span class="dt">int</span> vertex_count<span class="op">,</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> join_style<span class="op">,</span> ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> thickness<span class="op">,</span> <span class="dt">float</span> miter_limit<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/polygon.c#L44">Source
Code</a></p>
<p>Draw an unfilled polygon. This is the same as passing
<code>ALLEGRO_LINE_CAP_CLOSED</code> to <a
href="primitives.html#al_draw_polyline">al_draw_polyline</a>.</p>
<ul>
<li>vertex - Interleaved array of (x, y) vertex coordinates</li>
<li>vertex_count - Number of vertices in the array</li>
<li>join_style - Member of <a
href="primitives.html#allegro_line_join">ALLEGRO_LINE_JOIN</a>
specifying how to render the joins between line segments</li>
<li>color - Color of the line</li>
<li>thickness - Thickness of the line, pass <code>&lt;= 0</code> to draw
hairline lines</li>
<li>miter_limit - Parameter for miter join style</li>
</ul>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_filled_polygon">al_draw_filled_polygon</a>,
<a href="primitives.html#al_draw_polyline">al_draw_polyline</a>, <a
href="primitives.html#allegro_line_join">ALLEGRO_LINE_JOIN</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L251">ex_polygon.c</a></li>
</ul>
<h2 id="al_draw_filled_polygon">al_draw_filled_polygon</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_polygon<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>vertices<span class="op">,</span> <span class="dt">int</span> vertex_count<span class="op">,</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/polygon.c#L53">Source
Code</a></p>
<p>Draw a filled, simple polygon. Simple means it does not have to be
convex but must not be self-overlapping.</p>
<ul>
<li>vertices - Interleaved array of (x, y) vertex coordinates</li>
<li>vertex_count - Number of vertices in the array</li>
<li>color - Color of the filled polygon</li>
</ul>
<p>When the y-axis is facing downwards (the usual), the coordinates must
be ordered anti-clockwise.</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_polygon">al_draw_polygon</a>, <a
href="primitives.html#al_draw_filled_polygon_with_holes">al_draw_filled_polygon_with_holes</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L245">ex_polygon.c</a></li>
</ul>
<h2
id="al_draw_filled_polygon_with_holes">al_draw_filled_polygon_with_holes</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_filled_polygon_with_holes<span class="op">(</span><span class="dt">const</span> <span class="dt">float</span> <span class="op">*</span>vertices<span class="op">,</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> <span class="dt">int</span> <span class="op">*</span>vertex_counts<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/polygon.c#L71">Source
Code</a></p>
<p>Draws a filled simple polygon with zero or more other simple polygons
subtracted from it - the holes. The holes cannot touch or intersect with
the outline of the filled polygon.</p>
<ul>
<li>vertices - Interleaved array of (x, y) vertex coordinates for each
of the polygons, including holes.</li>
<li>vertex_counts - Number of vertices for each polygon. The number of
vertices in the filled polygon is given by vertex_counts[0] and must be
at least three. Subsequent elements indicate the number of vertices in
each hole. The array must be terminated with an element with value
zero.</li>
<li>color - Color of the filled polygon</li>
</ul>
<p>When the y-axis is facing downwards (the usual) the filled polygon
coordinates must be ordered anti-clockwise. All hole vertices must use
the opposite order (clockwise with y down). All hole vertices must be
inside the main polygon and no hole may overlap the main polygon.</p>
<p>For example:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> vertices<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span><span class="op">,</span>   <span class="dv">0</span><span class="op">,</span> <span class="co">// filled polygon, upper left corner</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="co">// filled polygon, lower left corner</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="co">// filled polygon, lower right corner</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100</span><span class="op">,</span>   <span class="dv">0</span><span class="op">,</span> <span class="co">// filled polygon, upper right corner</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>     <span class="dv">10</span><span class="op">,</span>  <span class="dv">10</span><span class="op">,</span> <span class="co">// hole, upper left</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>     <span class="dv">90</span><span class="op">,</span>  <span class="dv">10</span><span class="op">,</span> <span class="co">// hole, upper right</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>     <span class="dv">90</span><span class="op">,</span>  <span class="dv">90</span>  <span class="co">// hole, lower right</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> vertex_counts<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span><span class="op">,</span> <span class="co">// number of vertices for filled polygon</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span><span class="op">,</span> <span class="co">// number of vertices for hole</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>   <span class="dv">0</span>  <span class="co">// terminator</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code></pre></div>
<p>There are 7 vertices: four for an outer square from (0, 0) to (100,
100) in anti-clockwise order, and three more for an inner triangle in
clockwise order. The outer main polygon uses vertices 0 to 3 (inclusive)
and the hole uses vertices 4 to 6 (inclusive).</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_filled_polygon">al_draw_filled_polygon</a>,
<a
href="primitives.html#al_draw_filled_polygon_with_holes">al_draw_filled_polygon_with_holes</a>,
<a
href="primitives.html#al_triangulate_polygon">al_triangulate_polygon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L260">ex_polygon.c</a></li>
</ul>
<h2 id="al_triangulate_polygon">al_triangulate_polygon</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_triangulate_polygon<span class="op">(</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> <span class="dt">float</span><span class="op">*</span> vertices<span class="op">,</span> <span class="dt">size_t</span> vertex_stride<span class="op">,</span> <span class="dt">const</span> <span class="dt">int</span><span class="op">*</span> vertex_counts<span class="op">,</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">(*</span>emit_triangle<span class="op">)(</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">void</span><span class="op">*),</span> <span class="dt">void</span><span class="op">*</span> userdata<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/triangulator.c#L814">Source
Code</a></p>
<p>Divides a simple polygon into triangles, with zero or more other
simple polygons subtracted from it - the holes. The holes cannot touch
or intersect with the outline of the main polygon. Simple means the
polygon does not have to be convex but must not be self-overlapping.</p>
<p><em>Parameters:</em></p>
<ul>
<li>vertices - Interleaved array of (x, y) vertex coordinates for each
of the polygons, including holes.</li>
<li>vertex_stride - distance (in bytes) between successive pairs of
vertices in the array.</li>
<li>vertex_counts - Number of vertices for each polygon. The number of
vertices in the main polygon is given by vertex_counts[0] and must be at
least three. Subsequent elements indicate the number of vertices in each
hole. The array must be terminated with an element with value zero.</li>
<li>emit_triangle - a function to be called for every set of three
points that form a triangle. The function is passed the indices of the
points in <code>vertices</code> and <code>userdata</code>.</li>
<li>userdata - arbitrary data to be passed to emit_triangle.</li>
</ul>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_filled_polygon_with_holes">al_draw_filled_polygon_with_holes</a></p>
<h1 id="structures-and-types">Structures and types</h1>
<h2 id="allegro_vertex">ALLEGRO_VERTEX</h2>
<div class="sourceCode" id="cb55"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_VERTEX ALLEGRO_VERTEX<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L145">Source
Code</a></p>
<p>Defines the generic vertex type, with a 3D position, color and
texture coordinates for a single texture. Note that at this time, the
software driver for this addon cannot render 3D primitives. If you want
a 2D only primitive, set z to 0. Note that you must initialize all
members of this struct when you’re using it. One exception to this rule
are the u and v variables which can be left uninitialized when you are
not using textures.</p>
<p><em>Fields:</em></p>
<ul>
<li>x, y, z - Position of the vertex (float)</li>
<li>u, v - Texture coordinates measured in pixels (float)</li>
<li>color - <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>
structure, storing the color of the vertex</li>
</ul>
<p>See also: <a
href="primitives.html#allegro_prim_attr">ALLEGRO_PRIM_ATTR</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_shader.cpp#L97">ex_shader.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_shader_target.c#L94">ex_shader_target.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L61">ex_prim_shader.c</a></li>
</ul>
<h2 id="allegro_vertex_decl">ALLEGRO_VERTEX_DECL</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_VERTEX_DECL ALLEGRO_VERTEX_DECL<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L137">Source
Code</a></p>
<p>A vertex declaration. This opaque structure is responsible for
describing the format and layout of a user defined custom vertex. It is
created and destroyed by specialized functions.</p>
<p>See also: <a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a>,
<a
href="primitives.html#al_destroy_vertex_decl">al_destroy_vertex_decl</a>,
<a
href="primitives.html#allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L61">ex_prim_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L69">ex_prim.c</a></li>
</ul>
<h2 id="allegro_vertex_element">ALLEGRO_VERTEX_ELEMENT</h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_VERTEX_ELEMENT ALLEGRO_VERTEX_ELEMENT<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L127">Source
Code</a></p>
<p>A small structure describing a certain element of a vertex. E.g. the
position of the vertex, or its color. These structures are used by the
<a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a>
function to create the vertex declaration. For that they generally occur
in an array. The last element of such an array should have the attribute
field equal to 0, to signify that it is the end of the array. Here is an
example code that would create a declaration describing the <a
href="primitives.html#allegro_vertex">ALLEGRO_VERTEX</a> structure
(passing this as vertex declaration to al_draw_prim would be identical
to passing NULL):</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* On compilers without the offsetof keyword you need to obtain the</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="co"> * offset with sizeof and make sure to account for packing.</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX_ELEMENT elems<span class="op">[]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span>ALLEGRO_PRIM_POSITION<span class="op">,</span> ALLEGRO_PRIM_FLOAT_3<span class="op">,</span> offsetof<span class="op">(</span>ALLEGRO_VERTEX<span class="op">,</span> x<span class="op">)},</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span>ALLEGRO_PRIM_TEX_COORD_PIXEL<span class="op">,</span> ALLEGRO_PRIM_FLOAT_2<span class="op">,</span> offsetof<span class="op">(</span>ALLEGRO_VERTEX<span class="op">,</span> u<span class="op">)},</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span>ALLEGRO_PRIM_COLOR_ATTR<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> offsetof<span class="op">(</span>ALLEGRO_VERTEX<span class="op">,</span> color<span class="op">)},</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">}</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX_DECL<span class="op">*</span> decl <span class="op">=</span> al_create_vertex_decl<span class="op">(</span>elems<span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>ALLEGRO_VERTEX<span class="op">));</span></span></code></pre></div>
<p><em>Fields:</em></p>
<ul>
<li>attribute - A member of the <a
href="primitives.html#allegro_prim_attr">ALLEGRO_PRIM_ATTR</a>
enumeration, specifying what this attribute signifies</li>
<li>storage - A member of the <a
href="primitives.html#allegro_prim_storage">ALLEGRO_PRIM_STORAGE</a>
enumeration, specifying how this attribute is stored</li>
<li>offset - Offset in bytes from the beginning of the custom vertex
structure. The C function offsetof is very useful here.</li>
</ul>
<p>See also: <a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a>,
<a href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>,
<a href="primitives.html#allegro_prim_attr">ALLEGRO_PRIM_ATTR</a>, <a
href="primitives.html#allegro_prim_storage">ALLEGRO_PRIM_STORAGE</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim_shader.c#L62">ex_prim_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L72">ex_prim.c</a></li>
</ul>
<h2 id="allegro_prim_type">ALLEGRO_PRIM_TYPE</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_PRIM_TYPE</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L36">Source
Code</a></p>
<p>Enumerates the types of primitives this addon can draw.</p>
<ul>
<li><p>ALLEGRO_PRIM_POINT_LIST - A list of points, each vertex defines a
point</p></li>
<li><p>ALLEGRO_PRIM_LINE_LIST - A list of lines, sequential pairs of
vertices define disjointed lines</p></li>
<li><p>ALLEGRO_PRIM_LINE_STRIP - A strip of lines, sequential vertices
define a strip of lines</p></li>
<li><p>ALLEGRO_PRIM_LINE_LOOP - Like a line strip, except at the end the
first and the last vertices are also connected by a line</p></li>
<li><p>ALLEGRO_PRIM_TRIANGLE_LIST - A list of triangles, sequential
triplets of vertices define disjointed triangles</p></li>
<li><p>ALLEGRO_PRIM_TRIANGLE_STRIP - A strip of triangles, sequential
vertices define a strip of triangles</p></li>
<li><p>ALLEGRO_PRIM_TRIANGLE_FAN - A fan of triangles, all triangles
share the first vertex</p></li>
</ul>
<h2 id="allegro_prim_attr">ALLEGRO_PRIM_ATTR</h2>
<div class="sourceCode" id="cb60"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_PRIM_ATTR</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L55">Source
Code</a></p>
<p>Enumerates the types of vertex attributes that a custom vertex may
have.</p>
<ul>
<li><p>ALLEGRO_PRIM_POSITION - Position information, can be stored only
in ALLEGRO_PRIM_SHORT_2, ALLEGRO_PRIM_FLOAT_2 and
ALLEGRO_PRIM_FLOAT_3.</p></li>
<li><p>ALLEGRO_PRIM_COLOR_ATTR - Color information, stored in an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>. The storage field
of ALLEGRO_VERTEX_ELEMENT is ignored</p></li>
<li><p>ALLEGRO_PRIM_TEX_COORD - Texture coordinate information, can be
stored only in ALLEGRO_PRIM_FLOAT_2 and ALLEGRO_PRIM_SHORT_2. These
coordinates are normalized by the width and height of the texture,
meaning that the bottom-right corner has texture coordinates of (1,
1).</p></li>
<li><p>ALLEGRO_PRIM_TEX_COORD_PIXEL - Texture coordinate information,
can be stored only in ALLEGRO_PRIM_FLOAT_2 and ALLEGRO_PRIM_SHORT_2.
These coordinates are measured in pixels.</p></li>
<li><p>ALLEGRO_PRIM_USER_ATTR - A user specified attribute. You can use
any storage for this attribute. You may have at most
ALLEGRO_PRIM_MAX_USER_ATTR (currently 10) of these that you can specify
by adding an index to the value of ALLEGRO_PRIM_USER_ATTR, e.g. the
first user attribute is <code>ALLEGRO_PRIM_USER_ATTR + 0</code>, the
second is <code>ALLEGRO_PRIM_USER_ATTR + 1</code> and so on.</p>
<p>To access these custom attributes from GLSL shaders you need to
declare attributes that follow this nomenclature:
<code>al_user_attr_#</code> where # is the index of the attribute.</p>
<p>For example to have a position and a normal vector for each vertex
you could declare it like this:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_VERTEX_ELEMENT elements<span class="op">[</span><span class="dv">3</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span>ALLEGRO_PRIM_POSITION<span class="op">,</span> ALLEGRO_PRIM_FLOAT_3<span class="op">,</span> <span class="dv">0</span><span class="op">},</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span>ALLEGRO_PRIM_USER_ATTR <span class="op">+</span> <span class="dv">0</span><span class="op">,</span> ALLEGRO_PRIM_FLOAT_3<span class="op">,</span> <span class="dv">12</span><span class="op">},</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">}};</span></span></code></pre></div>
<p>And then in your vertex shader access it like this:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>attribute vec3 al_pos<span class="op">;</span> <span class="co">// ALLEGRO_PRIM_POSITION</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>attribute vec3 al_user_attr_0<span class="op">;</span> <span class="co">// ALLEGRO_PRIM_USER_ATTR + 0</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>varying <span class="dt">float</span> light<span class="op">;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> vec3 light_direction <span class="op">=</span> vec3<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    light <span class="op">=</span> dot<span class="op">(</span>al_user_attr_0<span class="op">,</span> light_direction<span class="op">);</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    gl_Position <span class="op">=</span> al_pos<span class="op">;</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>To access these custom attributes from HLSL you need to declare a
parameter with the following semantics: <code>TEXCOORD{# + 2}</code>
where # is the index of the attribute. E.g. the first attribute can be
accessed via <code>TEXCOORD2</code>, second via <code>TEXCOORD3</code>
and so on.</p>
<p>Since: 5.1.6</p></li>
</ul>
<p>See also: <a
href="primitives.html#allegro_vertex_decl">ALLEGRO_VERTEX_DECL</a>, <a
href="primitives.html#allegro_prim_storage">ALLEGRO_PRIM_STORAGE</a>, <a
href="shader.html#al_attach_shader_source">al_attach_shader_source</a></p>
<h2 id="allegro_prim_storage">ALLEGRO_PRIM_STORAGE</h2>
<div class="sourceCode" id="cb63"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_PRIM_STORAGE</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L67">Source
Code</a></p>
<p>Enumerates the types of storage an attribute of a custom vertex may
be stored in. Many of these can only be used for ALLEGRO_PRIM_USER_ATTR
attributes and can only be accessed via shaders. Usually no matter what
the storage is specified the attribute gets converted to single
precision floating point when the shader is run. Despite that, it may be
advantageous to use more dense storage formats
(e.g. ALLEGRO_PRIM_NORMALIZED_UBYTE_4 instead of ALLEGRO_PRIM_FLOAT_4)
when bandwidth (amount of memory sent to the GPU) is an issue but
precision is not.</p>
<ul>
<li><p>ALLEGRO_PRIM_FLOAT_1 - A single float</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_FLOAT_2 - A doublet of floats</p></li>
<li><p>ALLEGRO_PRIM_FLOAT_3 - A triplet of floats</p></li>
<li><p>ALLEGRO_PRIM_FLOAT_4 - A quad of floats</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_SHORT_2 - A doublet of shorts</p></li>
<li><p>ALLEGRO_PRIM_SHORT_4 - A quad of shorts</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_UBYTE_4 - A quad of unsigned bytes</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_NORMALIZED_SHORT_2 - A doublet of shorts. Before
being sent to the shader, each component is divided by 32767. Each
component of the resultant float doublet ranges between -1.0 and 1.0</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_NORMALIZED_SHORT_4 - A quad of shorts. Before being
sent to the shader, each component is divided by 32767. Each component
of the resultant float quad ranges between -1.0 and 1.0</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_NORMALIZED_UBYTE_4 - A quad of unsigned bytes.
Before being sent to the shader, each component is divided by 255. Each
component of the resultant float quad ranges between 0.0 and 1.0</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_NORMALIZED_USHORT_2 - A doublet of unsigned shorts.
Before being sent to the shader, each component is divided by 65535.
Each component of the resultant float doublet ranges between 0.0 and
1.0</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_NORMALIZED_USHORT_4 - A quad of unsigned shorts.
Before being sent to the shader, each component is divided by 65535.
Each component of the resultant float quad ranges between 0.0 and
1.0</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_HALF_FLOAT_2 - A doublet of half-precision floats.
Note that this storage format is not supported on all platforms. <a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a>
will return NULL if you use it on those platforms</p>
<p>Since: 5.1.6</p></li>
<li><p>ALLEGRO_PRIM_HALF_FLOAT_4 - A quad of half-precision floats. Note
that this storage format is not supported on all platforms. <a
href="primitives.html#al_create_vertex_decl">al_create_vertex_decl</a>
will return NULL if you use it on those platforms.</p>
<p>Since: 5.1.6</p></li>
</ul>
<p>See also: <a
href="primitives.html#allegro_prim_attr">ALLEGRO_PRIM_ATTR</a></p>
<h2 id="allegro_vertex_cache_size">ALLEGRO_VERTEX_CACHE_SIZE</h2>
<div class="sourceCode" id="cb64"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#define ALLEGRO_VERTEX_CACHE_SIZE 256</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L119">Source
Code</a></p>
<p>Defines the size of the transformation vertex cache for the software
renderer. If you pass less than this many vertices to the primitive
rendering functions you will get a speed boost. This also defines the
size of the cache vertex buffer, used for the high-level primitives.
This corresponds to the maximum number of line segments that will be
used to form them.</p>
<h2 id="allegro_prim_quality">ALLEGRO_PRIM_QUALITY</h2>
<div class="sourceCode" id="cb65"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#define ALLEGRO_PRIM_QUALITY 10</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L123">Source
Code</a></p>
<p>Controls the quality of the approximation of curved primitives
(e.g. circles). Curved primitives are drawn by approximating them with a
sequence of line segments. By default, this roughly corresponds to error
of less than half of a pixel.</p>
<h2 id="allegro_line_join">ALLEGRO_LINE_JOIN</h2>
<div class="sourceCode" id="cb66"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_LINE_JOIN</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L87">Source
Code</a></p>
<ul>
<li>ALLEGRO_LINE_JOIN_NONE</li>
<li>ALLEGRO_LINE_JOIN_BEVEL</li>
<li>ALLEGRO_LINE_JOIN_ROUND</li>
<li>ALLEGRO_LINE_JOIN_MITER</li>
</ul>
<figure>
<img src="images/LINE_JOIN.png" alt="ALLEGRO_LINE_JOIN styles" />
<figcaption aria-hidden="true"><em>ALLEGRO_LINE_JOIN
styles</em></figcaption>
</figure>
<p>See the picture for the difference.</p>
<p>The maximum miter length (relative to the line width) can be
specified as parameter to the polygon functions.</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_polygon">al_draw_polygon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L55">ex_polygon.c</a></li>
</ul>
<h2 id="allegro_line_cap">ALLEGRO_LINE_CAP</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_LINE_CAP</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L98">Source
Code</a></p>
<ul>
<li>ALLEGRO_LINE_CAP_NONE</li>
<li>ALLEGRO_LINE_CAP_SQUARE</li>
<li>ALLEGRO_LINE_CAP_ROUND</li>
<li>ALLEGRO_LINE_CAP_TRIANGLE</li>
<li>ALLEGRO_LINE_CAP_CLOSED</li>
</ul>
<figure>
<img src="images/LINE_CAP.png" alt="ALLEGRO_LINE_CAP styles" />
<figcaption aria-hidden="true"><em>ALLEGRO_LINE_CAP
styles</em></figcaption>
</figure>
<p>See the picture for the difference.</p>
<p>ALLEGRO_LINE_CAP_CLOSED is different from the others - it causes the
polygon to have no caps. (And the <a
href="primitives.html#allegro_line_join">ALLEGRO_LINE_JOIN</a> style
will determine how the vertex looks.)</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="primitives.html#al_draw_polygon">al_draw_polygon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_polygon.c#L54">ex_polygon.c</a></li>
</ul>
<h2 id="allegro_vertex_buffer">ALLEGRO_VERTEX_BUFFER</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_VERTEX_BUFFER ALLEGRO_VERTEX_BUFFER<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L156">Source
Code</a></p>
<p>A GPU vertex buffer that you can use to store vertices on the GPU
instead of uploading them afresh during every drawing operation.</p>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#al_create_vertex_buffer">al_create_vertex_buffer</a>,
<a
href="primitives.html#al_destroy_vertex_buffer">al_destroy_vertex_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_vertex_buffer.c#L22">ex_vertex_buffer.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L490">ex_prim.c</a></li>
</ul>
<h2 id="allegro_index_buffer">ALLEGRO_INDEX_BUFFER</h2>
<div class="sourceCode" id="cb69"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_INDEX_BUFFER ALLEGRO_INDEX_BUFFER<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L160">Source
Code</a></p>
<p>A GPU index buffer that you can use to store indices of vertices in a
vertex buffer on the GPU instead of uploading them afresh during every
drawing operation.</p>
<p>Since: 5.1.8</p>
<p>See also: <a
href="primitives.html#al_create_index_buffer">al_create_index_buffer</a>,
<a
href="primitives.html#al_destroy_index_buffer">al_destroy_index_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/examples/ex_prim.c#L563">ex_prim.c</a></li>
</ul>
<h2 id="allegro_prim_buffer_flags">ALLEGRO_PRIM_BUFFER_FLAGS</h2>
<div class="sourceCode" id="cb70"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_PRIM_BUFFER_FLAGS</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/66a3998313610ad2a515e9a48229ae27286986b0/addons/primitives/allegro5/allegro_primitives.h#L109">Source
Code</a></p>
<p>Flags to specify how to create a vertex or an index buffer.</p>
<ul>
<li><p>ALLEGRO_PRIM_BUFFER_STREAM - Hints to the driver that the buffer
is written to often, but used only a few times per frame</p></li>
<li><p>ALLEGRO_PRIM_BUFFER_STATIC - Hints to the driver that the buffer
is written to once and is used often</p></li>
<li><p>ALLEGRO_PRIM_BUFFER_DYNAMIC - Hints to the driver that the buffer
is written to often and is used often</p></li>
<li><p>ALLEGRO_PRIM_BUFFER_READWRITE - Specifies that you want to be
able read from this buffer. By default this is disabled for performance.
Some platforms (like OpenGL ES) do not support reading from vertex
buffers, so if you pass this flag to
<code>al_create_vertex_buffer</code> or
<code>al_create_index_buffer</code> the call will fail.</p></li>
</ul>
<p>Since: 5.1.3</p>
<p>See also: <a
href="primitives.html#al_create_vertex_buffer">al_create_vertex_buffer</a>,
<a
href="primitives.html#al_create_index_buffer">al_create_index_buffer</a></p>
<p class="timestamp">
Allegro version 5.2.10 (20231119)
 - Last updated: 2023-12-01 07:58:20 UTC
</p>
</div>
</body>
</html>
