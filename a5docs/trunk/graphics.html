<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Graphics routines</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <script type="text/javascript" src="autosuggest.js"></script>
  <script type="text/javascript" src="search_index.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="sidebar">
<div>
<ul>
<li><a href="index.html"><strong>Contents</strong></a></li>
<li><a href="config.html">Configuration files</a></li>
<li><a href="display.html">Display</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="file.html">File I/O</a></li>
<li><a href="fshook.html">Filesystem</a></li>
<li><a href="fixed.html">Fixed point math</a></li>
<li><a href="fullscreen_mode.html">Fullscreen modes</a></li>
<li><a href="graphics.html">Graphics</a></li>
<li><a href="haptic.html">Haptic</a></li>
<li><a href="joystick.html">Joystick</a></li>
<li><a href="keyboard.html">Keyboard</a></li>
<li><a href="memory.html">Memory</a></li>
<li><a href="monitor.html">Monitor</a></li>
<li><a href="mouse.html">Mouse</a></li>
<li><a href="path.html">Path</a></li>
<li><a href="shader.html">Shader</a></li>
<li><a href="state.html">State</a></li>
<li><a href="system.html">System</a></li>
<li><a href="threads.html">Threads</a></li>
<li><a href="time.html">Time</a></li>
<li><a href="timer.html">Timer</a></li>
<li><a href="touch.html">Touch input</a></li>
<li><a href="transformations.html">Transformations</a></li>
<li><a href="utf8.html">UTF-8</a></li>
<li><a href="misc.html">Miscellaneous</a></li>
<li><a href="platform.html">Platform-specific</a></li>
<li><a href="direct3d.html">Direct3D</a></li>
<li><a href="opengl.html">OpenGL</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index.html#addons"><strong>Addons</strong></a></li>
<li><a href="audio.html">Audio addon</a></li>
<li><a href="acodec.html">Audio codecs</a></li>
<li><a href="color.html">Color addon</a></li>
<li><a href="font.html">Font addons</a></li>
<li><a href="image.html">Image I/O addon</a></li>
<li><a href="main.html">Main addon</a></li>
<li><a href="memfile.html">Memfile addon</a></li>
<li><a href="native_dialog.html">Native dialogs addon</a></li>
<li><a href="physfs.html">PhysicsFS addon</a></li>
<li><a href="primitives.html">Primitives addon</a></li>
<li><a href="video.html">Video streaming addon</a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div>
<ul>
<li><a href="index_all.html"><strong>Index</strong></a></li>
</ul>
<!-- The preceding blank line forces pandoc to terminate the list -->
</div>
<div class="searchbox">
<script type="text/javascript">
function on_search(index, control) {
    // Note to self: the less-than sign must NOT converted to an entity!
    // SCRIPT elements are special.  The HTML validator gives bad advice.
    for (i = 0; i < search_index.length; i++) {
        if (search_index[i] == control.keywords[index]) {
            break;
        }
    }
    location.href = search_urls[i];
}
</script>
Search<br/>
<input type="text" name="q" id="q" size="15" autocomplete="off" placeholder="Press ‘S’ to search" /><br/>
<script type="text/javascript"> new autosuggest("q", search_index, null, on_search); </script>
</div>
</div>
<div class="content">
<header id="title-block-header">
<h1 class="title">Graphics routines</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#colors" id="toc-colors">Colors</a>
<ul>
<li><a href="#allegro_color"
id="toc-allegro_color">ALLEGRO_COLOR</a></li>
<li><a href="#al_map_rgb" id="toc-al_map_rgb">al_map_rgb</a></li>
<li><a href="#al_map_rgb_f" id="toc-al_map_rgb_f">al_map_rgb_f</a></li>
<li><a href="#al_map_rgba" id="toc-al_map_rgba">al_map_rgba</a></li>
<li><a href="#al_premul_rgba"
id="toc-al_premul_rgba">al_premul_rgba</a></li>
<li><a href="#al_map_rgba_f"
id="toc-al_map_rgba_f">al_map_rgba_f</a></li>
<li><a href="#al_premul_rgba_f"
id="toc-al_premul_rgba_f">al_premul_rgba_f</a></li>
<li><a href="#al_unmap_rgb" id="toc-al_unmap_rgb">al_unmap_rgb</a></li>
<li><a href="#al_unmap_rgb_f"
id="toc-al_unmap_rgb_f">al_unmap_rgb_f</a></li>
<li><a href="#al_unmap_rgba"
id="toc-al_unmap_rgba">al_unmap_rgba</a></li>
<li><a href="#al_unmap_rgba_f"
id="toc-al_unmap_rgba_f">al_unmap_rgba_f</a></li>
</ul></li>
<li><a href="#locking-and-pixel-formats"
id="toc-locking-and-pixel-formats">Locking and pixel formats</a>
<ul>
<li><a href="#allegro_locked_region"
id="toc-allegro_locked_region">ALLEGRO_LOCKED_REGION</a></li>
<li><a href="#allegro_pixel_format"
id="toc-allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a></li>
<li><a href="#al_get_pixel_size"
id="toc-al_get_pixel_size">al_get_pixel_size</a></li>
<li><a href="#al_get_pixel_format_bits"
id="toc-al_get_pixel_format_bits">al_get_pixel_format_bits</a></li>
<li><a href="#al_get_pixel_block_size"
id="toc-al_get_pixel_block_size">al_get_pixel_block_size</a></li>
<li><a href="#al_get_pixel_block_width"
id="toc-al_get_pixel_block_width">al_get_pixel_block_width</a></li>
<li><a href="#al_get_pixel_block_height"
id="toc-al_get_pixel_block_height">al_get_pixel_block_height</a></li>
<li><a href="#al_lock_bitmap"
id="toc-al_lock_bitmap">al_lock_bitmap</a></li>
<li><a href="#al_lock_bitmap_region"
id="toc-al_lock_bitmap_region">al_lock_bitmap_region</a></li>
<li><a href="#al_unlock_bitmap"
id="toc-al_unlock_bitmap">al_unlock_bitmap</a></li>
<li><a href="#al_lock_bitmap_blocked"
id="toc-al_lock_bitmap_blocked">al_lock_bitmap_blocked</a></li>
<li><a href="#al_lock_bitmap_region_blocked"
id="toc-al_lock_bitmap_region_blocked">al_lock_bitmap_region_blocked</a></li>
</ul></li>
<li><a href="#bitmap-creation" id="toc-bitmap-creation">Bitmap
creation</a>
<ul>
<li><a href="#allegro_bitmap"
id="toc-allegro_bitmap">ALLEGRO_BITMAP</a></li>
<li><a href="#al_create_bitmap"
id="toc-al_create_bitmap">al_create_bitmap</a></li>
<li><a href="#al_create_sub_bitmap"
id="toc-al_create_sub_bitmap">al_create_sub_bitmap</a></li>
<li><a href="#al_clone_bitmap"
id="toc-al_clone_bitmap">al_clone_bitmap</a></li>
<li><a href="#al_convert_bitmap"
id="toc-al_convert_bitmap">al_convert_bitmap</a></li>
<li><a href="#al_convert_memory_bitmaps"
id="toc-al_convert_memory_bitmaps">al_convert_memory_bitmaps</a></li>
<li><a href="#al_destroy_bitmap"
id="toc-al_destroy_bitmap">al_destroy_bitmap</a></li>
<li><a href="#al_get_new_bitmap_flags"
id="toc-al_get_new_bitmap_flags">al_get_new_bitmap_flags</a></li>
<li><a href="#al_get_new_bitmap_format"
id="toc-al_get_new_bitmap_format">al_get_new_bitmap_format</a></li>
<li><a href="#al_set_new_bitmap_flags"
id="toc-al_set_new_bitmap_flags">al_set_new_bitmap_flags</a></li>
<li><a href="#al_add_new_bitmap_flag"
id="toc-al_add_new_bitmap_flag">al_add_new_bitmap_flag</a></li>
<li><a href="#al_set_new_bitmap_format"
id="toc-al_set_new_bitmap_format">al_set_new_bitmap_format</a></li>
<li><a href="#al_set_new_bitmap_depth"
id="toc-al_set_new_bitmap_depth">al_set_new_bitmap_depth</a></li>
<li><a href="#al_get_new_bitmap_depth"
id="toc-al_get_new_bitmap_depth">al_get_new_bitmap_depth</a></li>
<li><a href="#al_set_new_bitmap_samples"
id="toc-al_set_new_bitmap_samples">al_set_new_bitmap_samples</a></li>
<li><a href="#al_get_new_bitmap_samples"
id="toc-al_get_new_bitmap_samples">al_get_new_bitmap_samples</a></li>
<li><a href="#al_set_new_bitmap_wrap"
id="toc-al_set_new_bitmap_wrap">al_set_new_bitmap_wrap</a></li>
<li><a href="#al_get_new_bitmap_wrap"
id="toc-al_get_new_bitmap_wrap">al_get_new_bitmap_wrap</a></li>
<li><a href="#allegro_bitmap_wrap"
id="toc-allegro_bitmap_wrap">ALLEGRO_BITMAP_WRAP</a></li>
</ul></li>
<li><a href="#bitmap-properties" id="toc-bitmap-properties">Bitmap
properties</a>
<ul>
<li><a href="#al_get_bitmap_flags"
id="toc-al_get_bitmap_flags">al_get_bitmap_flags</a></li>
<li><a href="#al_get_bitmap_format"
id="toc-al_get_bitmap_format">al_get_bitmap_format</a></li>
<li><a href="#al_get_bitmap_height"
id="toc-al_get_bitmap_height">al_get_bitmap_height</a></li>
<li><a href="#al_get_bitmap_width"
id="toc-al_get_bitmap_width">al_get_bitmap_width</a></li>
<li><a href="#al_get_bitmap_depth"
id="toc-al_get_bitmap_depth">al_get_bitmap_depth</a></li>
<li><a href="#al_get_bitmap_samples"
id="toc-al_get_bitmap_samples">al_get_bitmap_samples</a></li>
<li><a href="#al_get_pixel" id="toc-al_get_pixel">al_get_pixel</a></li>
<li><a href="#al_is_bitmap_locked"
id="toc-al_is_bitmap_locked">al_is_bitmap_locked</a></li>
<li><a href="#al_is_compatible_bitmap"
id="toc-al_is_compatible_bitmap">al_is_compatible_bitmap</a></li>
<li><a href="#al_is_sub_bitmap"
id="toc-al_is_sub_bitmap">al_is_sub_bitmap</a></li>
<li><a href="#al_get_parent_bitmap"
id="toc-al_get_parent_bitmap">al_get_parent_bitmap</a></li>
<li><a href="#al_get_bitmap_x"
id="toc-al_get_bitmap_x">al_get_bitmap_x</a></li>
<li><a href="#al_get_bitmap_y"
id="toc-al_get_bitmap_y">al_get_bitmap_y</a></li>
<li><a href="#al_reparent_bitmap"
id="toc-al_reparent_bitmap">al_reparent_bitmap</a></li>
<li><a href="#al_get_bitmap_blender"
id="toc-al_get_bitmap_blender">al_get_bitmap_blender</a></li>
<li><a href="#al_get_separate_bitmap_blender"
id="toc-al_get_separate_bitmap_blender">al_get_separate_bitmap_blender</a></li>
<li><a href="#al_get_bitmap_blend_color"
id="toc-al_get_bitmap_blend_color">al_get_bitmap_blend_color</a></li>
<li><a href="#al_set_bitmap_blender"
id="toc-al_set_bitmap_blender">al_set_bitmap_blender</a></li>
<li><a href="#al_set_separate_bitmap_blender"
id="toc-al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</a></li>
<li><a href="#al_set_bitmap_blend_color"
id="toc-al_set_bitmap_blend_color">al_set_bitmap_blend_color</a></li>
<li><a href="#al_reset_bitmap_blender"
id="toc-al_reset_bitmap_blender">al_reset_bitmap_blender</a></li>
</ul></li>
<li><a href="#drawing-operations" id="toc-drawing-operations">Drawing
operations</a>
<ul>
<li><a href="#al_clear_to_color"
id="toc-al_clear_to_color">al_clear_to_color</a></li>
<li><a href="#al_clear_depth_buffer"
id="toc-al_clear_depth_buffer">al_clear_depth_buffer</a></li>
<li><a href="#al_draw_bitmap"
id="toc-al_draw_bitmap">al_draw_bitmap</a></li>
<li><a href="#al_draw_tinted_bitmap"
id="toc-al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></li>
<li><a href="#al_draw_bitmap_region"
id="toc-al_draw_bitmap_region">al_draw_bitmap_region</a></li>
<li><a href="#al_draw_tinted_bitmap_region"
id="toc-al_draw_tinted_bitmap_region">al_draw_tinted_bitmap_region</a></li>
<li><a href="#al_draw_pixel"
id="toc-al_draw_pixel">al_draw_pixel</a></li>
<li><a href="#al_draw_rotated_bitmap"
id="toc-al_draw_rotated_bitmap">al_draw_rotated_bitmap</a></li>
<li><a href="#al_draw_tinted_rotated_bitmap"
id="toc-al_draw_tinted_rotated_bitmap">al_draw_tinted_rotated_bitmap</a></li>
<li><a href="#al_draw_scaled_rotated_bitmap"
id="toc-al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a></li>
<li><a href="#al_draw_tinted_scaled_rotated_bitmap"
id="toc-al_draw_tinted_scaled_rotated_bitmap">al_draw_tinted_scaled_rotated_bitmap</a></li>
<li><a href="#al_draw_tinted_scaled_rotated_bitmap_region"
id="toc-al_draw_tinted_scaled_rotated_bitmap_region">al_draw_tinted_scaled_rotated_bitmap_region</a></li>
<li><a href="#al_draw_scaled_bitmap"
id="toc-al_draw_scaled_bitmap">al_draw_scaled_bitmap</a></li>
<li><a href="#al_draw_tinted_scaled_bitmap"
id="toc-al_draw_tinted_scaled_bitmap">al_draw_tinted_scaled_bitmap</a></li>
<li><a href="#al_get_target_bitmap"
id="toc-al_get_target_bitmap">al_get_target_bitmap</a></li>
<li><a href="#al_put_pixel" id="toc-al_put_pixel">al_put_pixel</a></li>
<li><a href="#al_put_blended_pixel"
id="toc-al_put_blended_pixel">al_put_blended_pixel</a></li>
</ul></li>
<li><a href="#target-bitmap" id="toc-target-bitmap">Target bitmap</a>
<ul>
<li><a href="#al_set_target_bitmap"
id="toc-al_set_target_bitmap">al_set_target_bitmap</a></li>
<li><a href="#al_set_target_backbuffer"
id="toc-al_set_target_backbuffer">al_set_target_backbuffer</a></li>
<li><a href="#al_get_current_display"
id="toc-al_get_current_display">al_get_current_display</a></li>
</ul></li>
<li><a href="#blending-modes" id="toc-blending-modes">Blending modes</a>
<ul>
<li><a href="#al_get_blender"
id="toc-al_get_blender">al_get_blender</a></li>
<li><a href="#al_get_separate_blender"
id="toc-al_get_separate_blender">al_get_separate_blender</a></li>
<li><a href="#al_get_blend_color"
id="toc-al_get_blend_color">al_get_blend_color</a></li>
<li><a href="#al_set_blender"
id="toc-al_set_blender">al_set_blender</a></li>
<li><a href="#al_set_separate_blender"
id="toc-al_set_separate_blender">al_set_separate_blender</a></li>
<li><a href="#al_set_blend_color"
id="toc-al_set_blend_color">al_set_blend_color</a></li>
</ul></li>
<li><a href="#clipping" id="toc-clipping">Clipping</a>
<ul>
<li><a href="#al_get_clipping_rectangle"
id="toc-al_get_clipping_rectangle">al_get_clipping_rectangle</a></li>
<li><a href="#al_set_clipping_rectangle"
id="toc-al_set_clipping_rectangle">al_set_clipping_rectangle</a></li>
<li><a href="#al_reset_clipping_rectangle"
id="toc-al_reset_clipping_rectangle">al_reset_clipping_rectangle</a></li>
</ul></li>
<li><a href="#graphics-utility-functions"
id="toc-graphics-utility-functions">Graphics utility functions</a>
<ul>
<li><a href="#al_convert_mask_to_alpha"
id="toc-al_convert_mask_to_alpha">al_convert_mask_to_alpha</a></li>
</ul></li>
<li><a href="#deferred-drawing" id="toc-deferred-drawing">Deferred
drawing</a>
<ul>
<li><a href="#al_hold_bitmap_drawing"
id="toc-al_hold_bitmap_drawing">al_hold_bitmap_drawing</a></li>
<li><a href="#al_is_bitmap_drawing_held"
id="toc-al_is_bitmap_drawing_held">al_is_bitmap_drawing_held</a></li>
</ul></li>
<li><a href="#image-io" id="toc-image-io">Image I/O</a>
<ul>
<li><a href="#al_register_bitmap_loader"
id="toc-al_register_bitmap_loader">al_register_bitmap_loader</a></li>
<li><a href="#al_register_bitmap_saver"
id="toc-al_register_bitmap_saver">al_register_bitmap_saver</a></li>
<li><a href="#al_register_bitmap_loader_f"
id="toc-al_register_bitmap_loader_f">al_register_bitmap_loader_f</a></li>
<li><a href="#al_register_bitmap_saver_f"
id="toc-al_register_bitmap_saver_f">al_register_bitmap_saver_f</a></li>
<li><a href="#al_load_bitmap"
id="toc-al_load_bitmap">al_load_bitmap</a></li>
<li><a href="#al_load_bitmap_flags"
id="toc-al_load_bitmap_flags">al_load_bitmap_flags</a></li>
<li><a href="#al_load_bitmap_f"
id="toc-al_load_bitmap_f">al_load_bitmap_f</a></li>
<li><a href="#al_load_bitmap_flags_f"
id="toc-al_load_bitmap_flags_f">al_load_bitmap_flags_f</a></li>
<li><a href="#al_save_bitmap"
id="toc-al_save_bitmap">al_save_bitmap</a></li>
<li><a href="#al_save_bitmap_f"
id="toc-al_save_bitmap_f">al_save_bitmap_f</a></li>
<li><a href="#al_register_bitmap_identifier"
id="toc-al_register_bitmap_identifier">al_register_bitmap_identifier</a></li>
<li><a href="#al_identify_bitmap"
id="toc-al_identify_bitmap">al_identify_bitmap</a></li>
<li><a href="#al_identify_bitmap_f"
id="toc-al_identify_bitmap_f">al_identify_bitmap_f</a></li>
</ul></li>
<li><a href="#render-state" id="toc-render-state">Render State</a>
<ul>
<li><a href="#allegro_render_state"
id="toc-allegro_render_state">ALLEGRO_RENDER_STATE</a></li>
<li><a href="#allegro_render_function"
id="toc-allegro_render_function">ALLEGRO_RENDER_FUNCTION</a></li>
<li><a href="#allegro_write_mask_flags"
id="toc-allegro_write_mask_flags">ALLEGRO_WRITE_MASK_FLAGS</a></li>
<li><a href="#al_set_render_state"
id="toc-al_set_render_state">al_set_render_state</a></li>
<li><a href="#al_backup_dirty_bitmap"
id="toc-al_backup_dirty_bitmap">al_backup_dirty_bitmap</a></li>
<li><a href="#al_backup_dirty_bitmaps"
id="toc-al_backup_dirty_bitmaps">al_backup_dirty_bitmaps</a></li>
</ul></li>
</ul>
</nav>
<p>These functions are declared in the main Allegro header file:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a> <span class="pp">#include </span><span class="im">&lt;allegro5/allegro.h&gt;</span></span></code></pre></div>
<h1 id="colors">Colors</h1>
<h2 id="allegro_color">ALLEGRO_COLOR</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_COLOR ALLEGRO_COLOR<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/color.h#L13">Source
Code</a></p>
<p>An ALLEGRO_COLOR structure describes a color in a device independent
way. Use <a href="graphics.html#al_map_rgb">al_map_rgb</a> et al. and <a
href="graphics.html#al_unmap_rgb">al_unmap_rgb</a> et al. to translate
from and to various color representations.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_keyboard_focus.c#L15">ex_keyboard_focus.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L13">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_mouse_focus.c#L16">ex_mouse_focus.c</a></li>
</ul>
<h2 id="al_map_rgb">al_map_rgb</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_map_rgb<span class="op">(</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">char</span> r<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> g<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> b<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L575">Source
Code</a></p>
<p>Convert r, g, b (ranging from 0-255) into an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, using 255 for
alpha.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_map_rgba">al_map_rgba</a>, <a
href="graphics.html#al_map_rgba_f">al_map_rgba_f</a>, <a
href="graphics.html#al_map_rgb_f">al_map_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_enet_server.c#L33">ex_enet_server.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_keyboard_focus.c#L49">ex_keyboard_focus.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L37">ex_nodisplay.c</a></li>
</ul>
<h2 id="al_map_rgb_f">al_map_rgb_f</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_map_rgb_f<span class="op">(</span><span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> g<span class="op">,</span> <span class="dt">float</span> b<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L610">Source
Code</a></p>
<p>Convert r, g, b, (ranging from 0.0f-1.0f) into an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, using 1.0f for
alpha.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_map_rgba">al_map_rgba</a>, <a
href="graphics.html#al_map_rgb">al_map_rgb</a>, <a
href="graphics.html#al_map_rgba_f">al_map_rgba_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_enet_server.c#L33">ex_enet_server.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_keyboard_events.c#L128">ex_keyboard_events.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L93">ex_drawpixels.c</a></li>
</ul>
<h2 id="al_map_rgba">al_map_rgba</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_map_rgba<span class="op">(</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">char</span> r<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> g<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> b<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L553">Source
Code</a></p>
<p>Convert r, g, b, a (ranging from 0-255) into an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_map_rgb">al_map_rgb</a>, <a
href="graphics.html#al_premul_rgba">al_premul_rgba</a>, <a
href="graphics.html#al_map_rgb_f">al_map_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L41">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_timedwait.c#L70">ex_timedwait.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L47">ex_drawpixels.c</a></li>
</ul>
<h2 id="al_premul_rgba">al_premul_rgba</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_premul_rgba<span class="op">(</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">char</span> r<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> g<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> b<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L564">Source
Code</a></p>
<p>This is a shortcut for <a
href="graphics.html#al_map_rgba">al_map_rgba</a>(r * a / 255, g * a /
255, b * a / 255, a).</p>
<p>By default Allegro uses pre-multiplied alpha for transparent blending
of bitmaps and primitives (see <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a> for a
discussion of that feature). This means that if you want to tint a
bitmap or primitive to be transparent you need to multiply the color
components by the alpha components when you pass them to this function.
For example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> r <span class="op">=</span> <span class="dv">255</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> g <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> b <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a <span class="op">=</span> <span class="dv">127</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR c <span class="op">=</span> al_premul_rgba<span class="op">(</span>r<span class="op">,</span> g<span class="op">,</span> b<span class="op">,</span> a<span class="op">);</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">/* Draw the bitmap tinted red and half-transparent. */</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_bitmap<span class="op">(</span>bmp<span class="op">,</span> c<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>This function can be called before Allegro is initialized.</p>
<p>Since: 5.1.12</p>
<p>See also: <a href="graphics.html#al_map_rgba">al_map_rgba</a>, <a
href="graphics.html#al_premul_rgba_f">al_premul_rgba_f</a></p>
<h2 id="al_map_rgba_f">al_map_rgba_f</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_map_rgba_f<span class="op">(</span><span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> g<span class="op">,</span> <span class="dt">float</span> b<span class="op">,</span> <span class="dt">float</span> a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L584">Source
Code</a></p>
<p>Convert r, g, b, a (ranging from 0.0f-1.0f) into an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_map_rgba">al_map_rgba</a>, <a
href="graphics.html#al_premul_rgba_f">al_premul_rgba_f</a>, <a
href="graphics.html#al_map_rgb_f">al_map_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_timedwait.c#L70">ex_timedwait.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_resize.c#L11">ex_resize.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_rotate.c#L127">ex_rotate.c</a></li>
</ul>
<h2 id="al_premul_rgba_f">al_premul_rgba_f</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_premul_rgba_f<span class="op">(</span><span class="dt">float</span> r<span class="op">,</span> <span class="dt">float</span> g<span class="op">,</span> <span class="dt">float</span> b<span class="op">,</span> <span class="dt">float</span> a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L597">Source
Code</a></p>
<p>This is a shortcut for <a
href="graphics.html#al_map_rgba_f">al_map_rgba_f</a>(r * a, g * a, b *
a, a).</p>
<p>By default Allegro uses pre-multiplied alpha for transparent blending
of bitmaps and primitives (see <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a> for a
discussion of that feature). This means that if you want to tint a
bitmap or primitive to be transparent you need to multiply the color
components by the alpha components when you pass them to this function.
For example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> r <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> g <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> b <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> a <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR c <span class="op">=</span> al_premul_rgba_f<span class="op">(</span>r<span class="op">,</span> g<span class="op">,</span> b<span class="op">,</span> a<span class="op">);</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">/* Draw the bitmap tinted red and half-transparent. */</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_bitmap<span class="op">(</span>bmp<span class="op">,</span> c<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>This function can be called before Allegro is initialized.</p>
<p>Since: 5.1.12</p>
<p>See also: <a href="graphics.html#al_map_rgba_f">al_map_rgba_f</a>, <a
href="graphics.html#al_premul_rgba">al_premul_rgba</a></p>
<h2 id="al_unmap_rgb">al_unmap_rgb</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unmap_rgb<span class="op">(</span>ALLEGRO_COLOR color<span class="op">,</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>r<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>g<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>b<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L633">Source
Code</a></p>
<p>Retrieves components of an ALLEGRO_COLOR, ignoring alpha. Components
will range from 0-255.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_unmap_rgba">al_unmap_rgba</a>, <a
href="graphics.html#al_unmap_rgba_f">al_unmap_rgba_f</a>, <a
href="graphics.html#al_unmap_rgb_f">al_unmap_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L16">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_haiku.c#L399">ex_haiku.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_color_gradient.c#L107">ex_color_gradient.c</a></li>
</ul>
<h2 id="al_unmap_rgb_f">al_unmap_rgb_f</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unmap_rgb_f<span class="op">(</span>ALLEGRO_COLOR color<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>r<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>g<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>b<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L656">Source
Code</a></p>
<p>Retrieves components of an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, ignoring alpha.
Components will range from 0.0f-1.0f.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_unmap_rgba">al_unmap_rgba</a>, <a
href="graphics.html#al_unmap_rgb">al_unmap_rgb</a>, <a
href="graphics.html#al_unmap_rgba_f">al_unmap_rgba_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_haiku.c#L399">ex_haiku.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_color_gradient.c#L107">ex_color_gradient.c</a></li>
</ul>
<h2 id="al_unmap_rgba">al_unmap_rgba</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unmap_rgba<span class="op">(</span>ALLEGRO_COLOR color<span class="op">,</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>r<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>g<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>b<span class="op">,</span> <span class="dt">unsigned</span> <span class="dt">char</span> <span class="op">*</span>a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L621">Source
Code</a></p>
<p>Retrieves components of an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>. Components will
range from 0-255.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_unmap_rgb">al_unmap_rgb</a>, <a
href="graphics.html#al_unmap_rgba_f">al_unmap_rgba_f</a>, <a
href="graphics.html#al_unmap_rgb_f">al_unmap_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L16">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_logo.c#L138">ex_logo.c</a></li>
</ul>
<h2 id="al_unmap_rgba_f">al_unmap_rgba_f</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unmap_rgba_f<span class="op">(</span>ALLEGRO_COLOR color<span class="op">,</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> <span class="op">*</span>r<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>g<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>b<span class="op">,</span> <span class="dt">float</span> <span class="op">*</span>a<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L644">Source
Code</a></p>
<p>Retrieves components of an <a
href="graphics.html#allegro_color">ALLEGRO_COLOR</a>. Components will
range from 0.0f-1.0f.</p>
<p>This function can be called before Allegro is initialized.</p>
<p>See also: <a href="graphics.html#al_unmap_rgba">al_unmap_rgba</a>, <a
href="graphics.html#al_unmap_rgb">al_unmap_rgb</a>, <a
href="graphics.html#al_unmap_rgb_f">al_unmap_rgb_f</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L16">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_logo.c#L138">ex_logo.c</a></li>
</ul>
<h1 id="locking-and-pixel-formats">Locking and pixel formats</h1>
<h2 id="allegro_locked_region">ALLEGRO_LOCKED_REGION</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_LOCKED_REGION ALLEGRO_LOCKED_REGION<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/bitmap_lock.h#L23">Source
Code</a></p>
<p>Users who wish to manually edit or read from a bitmap are required to
lock it first. The ALLEGRO_LOCKED_REGION structure represents the locked
region of the bitmap. This call will work with any bitmap, including
memory bitmaps.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_LOCKED_REGION <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">void</span> <span class="op">*</span>data<span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> format<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> pitch<span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> pixel_size<span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> ALLEGRO_LOCKED_REGION<span class="op">;</span></span></code></pre></div>
<ul>
<li><p><em>data</em> points to the leftmost pixel of the first row (row
0) of the locked region. For blocked formats, this points to the
leftmost block of the first row of blocks.</p></li>
<li><p><em>format</em> indicates the pixel format of the data.</p></li>
<li><p><em>pitch</em> gives the size in bytes of a single row (also
known as the stride). The pitch may be greater than
<code>width * pixel_size</code> due to padding; this is not uncommon. It
is also <em>not</em> uncommon for the pitch to be negative (the bitmap
may be upside down). For blocked formats, ‘row’ refers to the row of
blocks, not of pixels.</p></li>
<li><p><em>pixel_size</em> is the number of bytes used to represent a
single block of pixels for the pixel format of this locked region. For
most formats (and historically, this used to be true for all formats),
this is just the size of a single pixel, but for blocked pixel formats
this value is different.</p></li>
</ul>
<p>See also: <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>,
<a href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a>,
<a href="graphics.html#al_unlock_bitmap">al_unlock_bitmap</a>, <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lockbitmap.c#L21">ex_lockbitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_premulalpha.c#L16">ex_premulalpha.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multisample.c#L52">ex_multisample.c</a></li>
</ul>
<h2 id="allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_PIXEL_FORMAT</span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/color.h#L23">Source
Code</a></p>
<p>Pixel formats. Each pixel format specifies the exact size and bit
layout of a pixel in memory. Components are specified from high bits to
low bits, so for example a fully opaque red pixel in ARGB_8888 format is
0xFFFF0000.</p>
<blockquote>
<p><em>Note:</em></p>
<p>The pixel format is independent of endianness. That is, in the above
example you can always get the red component with</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">(</span>pixel <span class="op">&amp;</span> <span class="bn">0x00ff0000</span><span class="op">)</span> <span class="op">&gt;&gt;</span> <span class="dv">16</span></span></code></pre></div>
<p>But you can <em>not</em> rely on this code:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">*(</span>pixel <span class="op">+</span> <span class="dv">2</span><span class="op">)</span></span></code></pre></div>
<p>It will return the red component on little endian systems, but the
green component on big endian systems.</p>
</blockquote>
<p>Also note that Allegro’s naming is different from OpenGL naming here,
where a format of GL_RGBA8 merely defines the component order and the
exact layout including endianness treatment is specified separately.
Usually GL_RGBA8 will correspond to ALLEGRO_PIXEL_ABGR_8888 though on
little endian systems, so care must be taken (note the reversal of RGBA
&lt;-&gt; ABGR).</p>
<p>The only exception to this ALLEGRO_PIXEL_FORMAT_ABGR_8888_LE which
will always have the components as 4 bytes corresponding to red, green,
blue and alpha, in this order, independent of the endianness.</p>
<p>Some of the pixel formats represent compressed bitmap formats.
Compressed bitmaps take up less space in the GPU memory than bitmaps
with regular (uncompressed) pixel formats. This smaller footprint means
that you can load more resources into GPU memory, and they will be drawn
somewhat faster. The compression is lossy, however, so it is not
appropriate for all graphical styles: it tends to work best for images
with smooth color gradations. It is possible to compress bitmaps at
runtime by passing the appropriate bitmap format in
<code>al_set_new_bitmap_format</code> and then creating, loading,
cloning or converting a non-compressed bitmap. This, however, is not
recommended as the compression quality differs between different GPU
drivers. It is recommended to compress these bitmaps ahead of time using
external tools and then load them compressed.</p>
<p>Unlike regular pixel formats, compressed pixel formats are not laid
out in memory one pixel row at a time. Instead, the bitmap is subdivided
into rectangular blocks of pixels that are then laid out in block rows.
This means that regular locking functions cannot use compressed pixel
formats as the destination format. Instead, you can use the blocked
versions of the bitmap locking functions which do support these
formats.</p>
<p>It is not recommended to use compressed bitmaps as target bitmaps, as
that operation cannot be hardware accelerated. Due to proprietary
algorithms used, it is typically impossible to create compressed memory
bitmaps.</p>
<ul>
<li>ALLEGRO_PIXEL_FORMAT_ANY - Let the driver choose a format. This is
the default format at program start.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_NO_ALPHA - Let the driver choose a format
without alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_WITH_ALPHA - Let the driver choose a format
with alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_15_NO_ALPHA - Let the driver choose a 15
bit format without alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_16_NO_ALPHA - Let the driver choose a 16
bit format without alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_16_WITH_ALPHA - Let the driver choose a 16
bit format with alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_24_NO_ALPHA - Let the driver choose a 24
bit format without alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_32_NO_ALPHA - Let the driver choose a 32
bit format without alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ANY_32_WITH_ALPHA - Let the driver choose a 32
bit format with alpha.</li>
<li>ALLEGRO_PIXEL_FORMAT_ARGB_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGBA_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_ARGB_4444 - 16 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGB_888 - 24 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGB_565 - 16 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGB_555 - 15 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGBA_5551 - 16 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_ARGB_1555 - 16 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_ABGR_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_XBGR_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_BGR_888 - 24 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_BGR_565 - 16 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_BGR_555 - 15 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_RGBX_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_XRGB_8888 - 32 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_ABGR_F32 - 128 bit</li>
<li>ALLEGRO_PIXEL_FORMAT_ABGR_8888_LE - Like the version without _LE,
but the component order is guaranteed to be red, green, blue, alpha.
This only makes a difference on big endian systems, on little endian it
is just an alias.</li>
<li>ALLEGRO_PIXEL_FORMAT_RGBA_4444 - 16bit</li>
<li>ALLEGRO_PIXEL_FORMAT_SINGLE_CHANNEL_8 - A single 8-bit channel. A
pixel value maps onto the red channel when displayed, but it is
undefined how it maps onto green, blue and alpha channels. When drawing
to bitmaps of this format, only the red channel is taken into account.
Allegro may have to use fallback methods to render to bitmaps of this
format. This pixel format is mainly intended for storing the color
indices of an indexed (paletted) image, usually in conjunction with a
pixel shader that maps indices to RGBA values. Since 5.1.2.</li>
<li>ALLEGRO_PIXEL_FORMAT_COMPRESSED_RGBA_DXT1 - Compressed using the
DXT1 compression algorithm. Each 4x4 pixel block is encoded in 64 bytes,
resulting in 6-8x compression ratio. Only a single bit of alpha per
pixel is supported. Since 5.1.9.</li>
<li>ALLEGRO_PIXEL_FORMAT_COMPRESSED_RGBA_DXT3 - Compressed using the
DXT3 compression algorithm. Each 4x4 pixel block is encoded in 128
bytes, resulting in 4x compression ratio. This format supports sharp
alpha transitions. Since 5.1.9.</li>
<li>ALLEGRO_PIXEL_FORMAT_COMPRESSED_RGBA_DXT5 - Compressed using the
DXT5 compression algorithm. Each 4x4 pixel block is encoded in 128
bytes, resulting in 4x compression ratio. This format supports smooth
alpha transitions. Since 5.1.9.</li>
</ul>
<p>See also: <a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a>,
<a
href="graphics.html#al_get_bitmap_format">al_get_bitmap_format</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L31">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L80">ex_drawpixels.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lockbitmap.c#L33">ex_lockbitmap.c</a></li>
</ul>
<h2 id="al_get_pixel_size">al_get_pixel_size</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_pixel_size<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L398">Source
Code</a></p>
<p>Return the number of bytes that a pixel of the given format occupies.
For blocked pixel formats (e.g. compressed formats), this returns 0.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_pixel_format_bits">al_get_pixel_format_bits</a></p>
<h2 id="al_get_pixel_format_bits">al_get_pixel_format_bits</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_pixel_format_bits<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L406">Source
Code</a></p>
<p>Return the number of bits that a pixel of the given format occupies.
For blocked pixel formats (e.g. compressed formats), this returns 0.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_pixel_size">al_get_pixel_size</a></p>
<h2 id="al_get_pixel_block_size">al_get_pixel_block_size</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_pixel_block_size<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L374">Source
Code</a></p>
<p>Return the number of bytes that a block of pixels with this format
occupies.</p>
<p>Since: 5.1.9.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_pixel_block_width">al_get_pixel_block_width</a>,
<a
href="graphics.html#al_get_pixel_block_height">al_get_pixel_block_height</a></p>
<h2 id="al_get_pixel_block_width">al_get_pixel_block_width</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_pixel_block_width<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L382">Source
Code</a></p>
<p>Return the width of the the pixel block for this format.</p>
<p>Since: 5.1.9.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_pixel_block_size">al_get_pixel_block_size</a>,
<a
href="graphics.html#al_get_pixel_block_height">al_get_pixel_block_height</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L110">ex_compressed.c</a></li>
</ul>
<h2 id="al_get_pixel_block_height">al_get_pixel_block_height</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_pixel_block_height<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/pixels.c#L390">Source
Code</a></p>
<p>Return the height of the the pixel block for this format.</p>
<p>Since: 5.1.9.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_pixel_block_size">al_get_pixel_block_size</a>,
<a
href="graphics.html#al_get_pixel_block_width">al_get_pixel_block_width</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L111">ex_compressed.c</a></li>
</ul>
<h2 id="al_lock_bitmap">al_lock_bitmap</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_LOCKED_REGION <span class="op">*</span>al_lock_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> format<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L126">Source
Code</a></p>
<p>Lock an entire bitmap for reading or writing. If the bitmap is a
display bitmap it will be updated from system memory after the bitmap is
unlocked (unless locked read only). Returns NULL if the bitmap cannot be
locked, e.g. the bitmap was locked previously and not unlocked. This
function also returns NULL if the <code>format</code> is a compressed
format.</p>
<p>Flags are:</p>
<ul>
<li><p>ALLEGRO_LOCK_READONLY - The locked region will not be written to.
This can be faster if the bitmap is a video texture, as it can be
discarded after the lock instead of uploaded back to the card.</p></li>
<li><p>ALLEGRO_LOCK_WRITEONLY - The locked region will not be read from.
This can be faster if the bitmap is a video texture, as no data need to
be read from the video card. You are required to fill in all pixels
before unlocking the bitmap again, so be careful when using this
flag.</p></li>
<li><p>ALLEGRO_LOCK_READWRITE - The locked region can be written to and
read from. Use this flag if a partial number of pixels need to be
written to, even if reading is not needed.</p></li>
</ul>
<p><code>format</code> indicates the pixel format that the returned
buffer will be in. To lock in the same format as the bitmap stores its
data internally, call with <code>al_get_bitmap_format(bitmap)</code> as
the format or use ALLEGRO_PIXEL_FORMAT_ANY. Locking in the native format
will usually be faster. If the bitmap format is compressed, using
ALLEGRO_PIXEL_FORMAT_ANY will choose an implementation defined
non-compressed format.</p>
<p>On some platforms, Allegro automatically backs up the contents of
video bitmaps because they may be occasionally lost (see discussion in
<a href="graphics.html#al_create_bitmap">al_create_bitmap</a>’s
documentation). If you’re completely recreating the bitmap contents
often (e.g. every frame) then you will get much better performance by
creating the target bitmap with ALLEGRO_NO_PRESERVE_TEXTURE flag.</p>
<blockquote>
<p><em>Note:</em> While a bitmap is locked, you can not use any drawing
operations on it (with the sole exception of <a
href="graphics.html#al_put_pixel">al_put_pixel</a> and <a
href="graphics.html#al_put_blended_pixel">al_put_blended_pixel</a>).</p>
</blockquote>
<p>See also: <a
href="graphics.html#allegro_locked_region">ALLEGRO_LOCKED_REGION</a>, <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_unlock_bitmap">al_unlock_bitmap</a>, <a
href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a>, <a
href="graphics.html#al_lock_bitmap_blocked">al_lock_bitmap_blocked</a>,
<a
href="graphics.html#al_lock_bitmap_region_blocked">al_lock_bitmap_region_blocked</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L80">ex_drawpixels.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_membmp.c#L61">ex_membmp.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lockbitmap.c#L32">ex_lockbitmap.c</a></li>
</ul>
<h2 id="al_lock_bitmap_region">al_lock_bitmap_region</h2>
<div class="sourceCode" id="cb26"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_LOCKED_REGION <span class="op">*</span>al_lock_bitmap_region<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> <span class="dt">int</span> width<span class="op">,</span> <span class="dt">int</span> height<span class="op">,</span> <span class="dt">int</span> format<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L25">Source
Code</a></p>
<p>Like <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>, but
only locks a specific area of the bitmap. If the bitmap is a video
bitmap, only that area of the texture will be updated when it is
unlocked. Locking only the region you indend to modify will be faster
than locking the whole bitmap.</p>
<blockquote>
<p><em>Note:</em> Using the ALLEGRO_LOCK_WRITEONLY with a blocked pixel
format (i.e. formats for which <a
href="graphics.html#al_get_pixel_block_width">al_get_pixel_block_width</a>
or <a
href="graphics.html#al_get_pixel_block_height">al_get_pixel_block_height</a>
do not return 1) requires you to have the region be aligned to the block
width for optimal performance. If it is not, then the function will have
to lock the region with the ALLEGRO_LOCK_READWRITE instead in order to
pad this region with valid data.</p>
</blockquote>
<p>See also: <a
href="graphics.html#allegro_locked_region">ALLEGRO_LOCKED_REGION</a>, <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_unlock_bitmap">al_unlock_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lockbitmap.c#L32">ex_lockbitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L114">ex_compressed.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_threads2.c#L120">ex_threads2.c</a></li>
</ul>
<h2 id="al_unlock_bitmap">al_unlock_bitmap</h2>
<div class="sourceCode" id="cb27"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_unlock_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L135">Source
Code</a></p>
<p>Unlock a previously locked bitmap or bitmap region. If the bitmap is
a video bitmap, the texture will be updated to match the system memory
copy (unless it was locked read only).</p>
<p>See also: <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>,
<a href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a>,
<a
href="graphics.html#al_lock_bitmap_blocked">al_lock_bitmap_blocked</a>,
<a
href="graphics.html#al_lock_bitmap_region_blocked">al_lock_bitmap_region_blocked</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L98">ex_drawpixels.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lockbitmap.c#L79">ex_lockbitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_premulalpha.c#L61">ex_premulalpha.c</a></li>
</ul>
<h2 id="al_lock_bitmap_blocked">al_lock_bitmap_blocked</h2>
<div class="sourceCode" id="cb28"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_LOCKED_REGION <span class="op">*</span>al_lock_bitmap_blocked<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L174">Source
Code</a></p>
<p>Like <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>, but
allows locking bitmaps with a blocked pixel format (i.e. a format for
which <a
href="graphics.html#al_get_pixel_block_width">al_get_pixel_block_width</a>
or <a
href="graphics.html#al_get_pixel_block_height">al_get_pixel_block_height</a>
do not return 1) in that format. To that end, this function also does
not allow format conversion. For bitmap formats with a block size of 1,
this function is identical to calling
<code>al_lock_bitmap(bmp, al_get_bitmap_format(bmp), flags)</code>.</p>
<blockquote>
<p><em>Note:</em> Currently there are no drawing functions that work
when the bitmap is locked with a compressed format. <a
href="graphics.html#al_get_pixel">al_get_pixel</a> will also not
work.</p>
</blockquote>
<p>Since: 5.1.9</p>
<p>See also: <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>,
<a
href="graphics.html#al_lock_bitmap_region_blocked">al_lock_bitmap_region_blocked</a></p>
<h2
id="al_lock_bitmap_region_blocked">al_lock_bitmap_region_blocked</h2>
<div class="sourceCode" id="cb29"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_LOCKED_REGION <span class="op">*</span>al_lock_bitmap_region_blocked<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> x_block<span class="op">,</span> <span class="dt">int</span> y_block<span class="op">,</span> <span class="dt">int</span> width_block<span class="op">,</span> <span class="dt">int</span> height_block<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L189">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_lock_bitmap_blocked">al_lock_bitmap_blocked</a>,
but allows locking a sub-region, for performance. Unlike <a
href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a> the
region specified in terms of blocks and not pixels.</p>
<p>Since: 5.1.9</p>
<p>See also: <a
href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a>, <a
href="graphics.html#al_lock_bitmap_blocked">al_lock_bitmap_blocked</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L114">ex_compressed.c</a></li>
</ul>
<h1 id="bitmap-creation">Bitmap creation</h1>
<h2 id="allegro_bitmap">ALLEGRO_BITMAP</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> ALLEGRO_BITMAP ALLEGRO_BITMAP<span class="op">;</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/bitmap.h#L12">Source
Code</a></p>
<p>Abstract type representing a bitmap (2D image).</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L12">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L11">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_opengl_pixel_shader.c#L18">ex_opengl_pixel_shader.c</a></li>
</ul>
<h2 id="al_create_bitmap">al_create_bitmap</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_create_bitmap<span class="op">(</span><span class="dt">int</span> w<span class="op">,</span> <span class="dt">int</span> h<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L188">Source
Code</a></p>
<p>Creates a new bitmap using the bitmap format and flags for the
current thread. Blitting between bitmaps of differing formats, or
blitting between memory bitmaps and display bitmaps may be slow.</p>
<p>Unless you set the ALLEGRO_MEMORY_BITMAP flag, the bitmap is created
for the current display. Blitting to another display may be slow.</p>
<p>If a display bitmap is created, there may be limitations on the
allowed dimensions. For example a DirectX or OpenGL backend usually has
a maximum allowed texture size - so if bitmap creation fails for very
large dimensions, you may want to re-try with a smaller bitmap. Some
platforms also dictate a minimum texture size, which is relevant if you
plan to use this bitmap with the primitives addon. If you try to create
a bitmap smaller than this, this call will not fail but the returned
bitmap will be a section of a larger bitmap with the minimum size. The
minimum size that will work on all platforms is 32 by 32. There is an
experimental switch to turns this padding off by editing the system
configuration (see <code>min_bitmap_size</code> key in <a
href="system.html#al_get_system_config">al_get_system_config</a>).</p>
<p>Some platforms do not directly support display bitmaps whose
dimensions are not powers of two. Allegro handles this by creating a
larger bitmap that has dimensions that are powers of two and then
returning a section of that bitmap with the dimensions you requested.
This can be relevant if you plan to use this bitmap with the primitives
addon but shouldn’t be an issue otherwise.</p>
<p>If you create a bitmap without ALLEGRO_MEMORY_BITMAP set but there is
no current display, a temporary memory bitmap will be created instead.
You can later convert all such bitmap to video bitmap and assign to a
display by calling <a
href="graphics.html#al_convert_memory_bitmaps">al_convert_memory_bitmaps</a>.</p>
<p>On some platforms the contents of video bitmaps may be lost when your
application loses focus. Allegro has an internal mechanism to restore
the contents of these video bitmaps, but it is not foolproof (sometimes
bitmap contents can get lost permanently) and has performance
implications. If you are using a bitmap as an intermediate buffer this
mechanism may be wasteful. In this case, if you do not want Allegro to
manage the bitmap contents for you, you can disable this mechanism by
creating the bitmap with the ALLEGRO_NO_PRESERVE_TEXTURE flag. The
bitmap contents are lost when you get the ALLEGRO_EVENT_DISPLAY_LOST and
ALLEGRO_EVENT_DISPLAY_HALT_DRAWING and a should be restored when you get
the ALLEGRO_EVENT_DISPLAY_FOUND and when you call <a
href="display.html#al_acknowledge_drawing_resume">al_acknowledge_drawing_resume</a>
(after ALLEGRO_EVENT_DISPLAY_RESUME_DRAWING event). You can use those
events to implement your own bitmap content restoration mechanism if
Allegro’s does not work well enough for you (for example, you can reload
them all from disk).</p>
<p><em>Note</em>: The contents of a newly created bitmap are undefined -
you need to clear the bitmap or make sure all pixels get overwritten
before drawing it.</p>
<p>When you are done with using the bitmap you must call <a
href="graphics.html#al_destroy_bitmap">al_destroy_bitmap</a> on it to
free any resources allocated for it.</p>
<p>See also: <a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a>,
<a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a>,
<a href="graphics.html#al_clone_bitmap">al_clone_bitmap</a>, <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_convert_memory_bitmaps">al_convert_memory_bitmaps</a>,
<a href="graphics.html#al_destroy_bitmap">al_destroy_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L30">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_opengl_pixel_shader.c#L66">ex_opengl_pixel_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_icon2.c#L57">ex_icon2.c</a></li>
</ul>
<h2 id="al_create_sub_bitmap">al_create_sub_bitmap</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_create_sub_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>parent<span class="op">,</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> <span class="dt">int</span> w<span class="op">,</span> <span class="dt">int</span> h<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L559">Source
Code</a></p>
<p>Creates a sub-bitmap of the parent, at the specified coordinates and
of the specified size. A sub-bitmap is a bitmap that shares drawing
memory with a pre-existing (parent) bitmap, but possibly with a
different size and clipping settings.</p>
<p>The sub-bitmap may originate off or extend past the parent
bitmap.</p>
<p>See the discussion in <a
href="display.html#al_get_backbuffer">al_get_backbuffer</a> about using
sub-bitmaps of the backbuffer.</p>
<p>The parent bitmap’s clipping rectangles are ignored.</p>
<p>If a sub-bitmap was not or cannot be created then NULL is
returned.</p>
<p>When you are done with using the sub-bitmap you must call <a
href="graphics.html#al_destroy_bitmap">al_destroy_bitmap</a> on it to
free any resources allocated for it.</p>
<p>Note that destroying parents of sub-bitmaps will not destroy the
sub-bitmaps; instead the sub-bitmaps become invalid and should no longer
be used for drawing - they still must be destroyed with <a
href="graphics.html#al_destroy_bitmap">al_destroy_bitmap</a> however. It
does not matter whether you destroy a sub-bitmap before or after its
parent otherwise.</p>
<p>See also: <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_target.c#L65">ex_blend_target.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_subbitmap.c#L145">ex_subbitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_shader_target.c#L43">ex_shader_target.c</a></li>
</ul>
<h2 id="al_clone_bitmap">al_clone_bitmap</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_clone_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L793">Source
Code</a></p>
<p>Create a new bitmap with <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a>, and copy the
pixel data from the old bitmap across. The newly created bitmap will be
created with the current new bitmap flags, and not the ones that were
used to create the original bitmap. If the new bitmap is a memory
bitmap, its projection bitmap is reset to be orthographic.</p>
<p>See also: <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a>, <a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a>,
<a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a>,
<a href="graphics.html#al_convert_bitmap">al_convert_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_subbitmap.c#L266">ex_subbitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_font.c#L20">ex_font.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_premulalpha.c#L64">ex_premulalpha.c</a></li>
</ul>
<h2 id="al_convert_bitmap">al_convert_bitmap</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_convert_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_type.c#L154">Source
Code</a></p>
<p>Converts the bitmap to the current bitmap flags and format. The
bitmap will be as if it was created anew with <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a> but retain
its contents. All of this bitmap’s sub-bitmaps are also converted. If
the new bitmap type is memory, then the bitmap’s projection bitmap is
reset to be orthographic.</p>
<p>If this bitmap is a sub-bitmap, then it, its parent and all the
sibling sub-bitmaps are also converted.</p>
<p>Since: 5.1.0</p>
<p>See also: <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a>, <a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a>,
<a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a>,
<a href="graphics.html#al_clone_bitmap">al_clone_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_loading_thread.c#L199">ex_loading_thread.c</a></li>
</ul>
<h2 id="al_convert_memory_bitmaps">al_convert_memory_bitmaps</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_convert_memory_bitmaps<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_type.c#L231">Source
Code</a></p>
<p>If you create a bitmap when there is no current display (for example
because you have not called <a
href="display.html#al_create_display">al_create_display</a> in the
current thread) and are using the ALLEGRO_CONVERT_BITMAP bitmap flag
(which is set by default) then the bitmap will be created successfully,
but as a memory bitmap. This function converts all such bitmaps to
proper video bitmaps belonging to the current display.</p>
<p>Note that video bitmaps get automatically converted back to memory
bitmaps when the last display is destroyed.</p>
<p>This operation will preserve all bitmap flags except
ALLEGRO_VIDEO_BITMAP and ALLEGRO_MEMORY_BITMAP.</p>
<p>Since: 5.2.0</p>
<p>See also: <a
href="graphics.html#al_convert_bitmap">al_convert_bitmap</a>, <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a></p>
<h2 id="al_destroy_bitmap">al_destroy_bitmap</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_destroy_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L206">Source
Code</a></p>
<p>Destroys the given bitmap, freeing all resources used by it. This
function does nothing if the bitmap argument is NULL.</p>
<p>As a convenience, if the calling thread is currently targeting the
bitmap then the bitmap will be untargeted first. The new target bitmap
is unspecified. (since: 5.0.10, 5.1.6)</p>
<p>Otherwise, it is an error to destroy a bitmap while it (or a
sub-bitmap) is the target bitmap of any thread.</p>
<p>See also: <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L48">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L64">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L121">ex_blend_bench.c</a></li>
</ul>
<h2 id="al_get_new_bitmap_flags">al_get_new_bitmap_flags</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_new_bitmap_flags<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L687">Source
Code</a></p>
<p>Returns the flags used for newly created bitmaps.</p>
<p>See also: <a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_prim.c#L724">ex_prim.c</a></li>
</ul>
<h2 id="al_get_new_bitmap_format">al_get_new_bitmap_format</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_new_bitmap_format<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L674">Source
Code</a></p>
<p>Returns the format used for newly created bitmaps.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a></p>
<h2 id="al_set_new_bitmap_flags">al_set_new_bitmap_flags</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_new_bitmap_flags<span class="op">(</span><span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L647">Source
Code</a></p>
<p>Sets the flags to use for newly created bitmaps. Valid flags are:</p>
<dl>
<dt>ALLEGRO_MEMORY_BITMAP</dt>
<dd>
<p>Create a bitmap residing in system memory. Operations on, and with,
memory bitmaps will not be hardware accelerated. However, direct pixel
access can be relatively quick compared to video bitmaps, which depend
on the display driver in use.</p>
<p><em>Note</em>: Allegro’s software rendering routines are currently
somewhat unoptimised.</p>
<p><em>Note:</em> Combining ALLEGRO_VIDEO_BITMAP and
ALLEGRO_MEMORY_BITMAP flags is invalid.</p>
</dd>
<dt>ALLEGRO_VIDEO_BITMAP</dt>
<dd>
<p>Creates a bitmap that resides in the video card memory. These types
of bitmaps receive the greatest benefit from hardware acceleration.</p>
<p><em>Note</em>: Creating a video bitmap will fail if there is no
current display or the current display driver cannot create the bitmap.
The latter will happen if for example the format or dimensions are not
supported.</p>
<p><em>Note:</em> Bitmaps created with this flag will be converted to
memory bitmaps when the last display is destroyed. In most cases it is
therefore easier to use the ALLEGRO_CONVERT_BITMAP flag instead.</p>
<p><em>Note:</em> Combining ALLEGRO_VIDEO_BITMAP and
ALLEGRO_MEMORY_BITMAP flags is invalid.</p>
</dd>
<dt>ALLEGRO_CONVERT_BITMAP</dt>
<dd>
<p>This is the default. It will try to create a video bitmap and if that
fails create a memory bitmap. Bitmaps created with this flag when there
is no active display will be converted to video bitmaps next time a
display is created. They also will remain video bitmaps if the last
display is destroyed and then another is created again. Since 5.1.0.</p>
<p><em>Note:</em> You can combine this flag with ALLEGRO_MEMORY_BITMAP
or ALLEGRO_VIDEO_BITMAP to force the initial type (and fail in the
latter case if no video bitmap can be created) - but usually neither of
those combinations is very useful.</p>
<p>You can use the display option ALLEGRO_AUTO_CONVERT_BITMAPS to
control which displays will try to auto-convert bitmaps.</p>
</dd>
<dt>ALLEGRO_FORCE_LOCKING</dt>
<dd>
Does nothing since 5.1.8. Kept for backwards compatibility only.
</dd>
<dt>ALLEGRO_NO_PRESERVE_TEXTURE</dt>
<dd>
Normally, every effort is taken to preserve the contents of bitmaps,
since some platforms may forget them. This can take extra processing
time. If you know it doesn’t matter if a bitmap keeps its pixel data,
for example when it’s a temporary buffer, use this flag to tell Allegro
not to attempt to preserve its contents.
</dd>
<dt>ALLEGRO_ALPHA_TEST</dt>
<dd>
This is a driver hint only. It tells the graphics driver to do alpha
testing instead of alpha blending on bitmaps created with this flag.
Alpha testing is usually faster and preferred if your bitmaps have only
one level of alpha (0). This flag is currently not widely implemented
(i.e., only for memory bitmaps).
</dd>
<dt>ALLEGRO_MIN_LINEAR</dt>
<dd>
When drawing a scaled down version of the bitmap, use linear filtering.
This usually looks better. You can also combine it with the MIPMAP flag
for even better quality.
</dd>
<dt>ALLEGRO_MAG_LINEAR</dt>
<dd>
<p>When drawing a magnified version of a bitmap, use linear filtering.
This will cause the picture to get blurry instead of creating a big
rectangle for each pixel. It depends on how you want things to look like
whether you want to use this or not.</p>
</dd>
<dt>ALLEGRO_MIPMAP</dt>
<dd>
<p>This can only be used for bitmaps whose width and height is a power
of two. In that case, it will generate mipmaps and use them when drawing
scaled down versions. For example if the bitmap is 64x64, then extra
bitmaps of sizes 32x32, 16x16, 8x8, 4x4, 2x2 and 1x1 will be created
always containing a scaled down version of the original.</p>
</dd>
</dl>
<p>See also: <a
href="graphics.html#al_get_new_bitmap_flags">al_get_new_bitmap_flags</a>,
<a href="graphics.html#al_get_bitmap_flags">al_get_bitmap_flags</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L32">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L72">ex_blend_bench.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_icon2.c#L56">ex_icon2.c</a></li>
</ul>
<h2 id="al_add_new_bitmap_flag">al_add_new_bitmap_flag</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_add_new_bitmap_flag<span class="op">(</span><span class="dt">int</span> flag<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L661">Source
Code</a></p>
<p>A convenience function which does the same as</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>al_set_new_bitmap_flags<span class="op">(</span>al_get_new_bitmap_flags<span class="op">()</span> <span class="op">|</span> flag<span class="op">);</span></span></code></pre></div>
<p>See also: <a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a>,
<a
href="graphics.html#al_get_new_bitmap_flags">al_get_new_bitmap_flags</a>,
<a href="graphics.html#al_get_bitmap_flags">al_get_bitmap_flags</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L364">ex_blend2.cpp</a></li>
</ul>
<h2 id="al_set_new_bitmap_format">al_set_new_bitmap_format</h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_new_bitmap_format<span class="op">(</span><span class="dt">int</span> format<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L634">Source
Code</a></p>
<p>Sets the pixel format (<a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>) for
newly created bitmaps. The default format is 0 and means the display
driver will choose the best format.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_get_new_bitmap_format">al_get_new_bitmap_format</a>,
<a
href="graphics.html#al_get_bitmap_format">al_get_bitmap_format</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L31">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_pixelformat.cpp#L156">ex_pixelformat.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L28">ex_blend_test.c</a></li>
</ul>
<h2 id="al_set_new_bitmap_depth">al_set_new_bitmap_depth</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_new_bitmap_depth<span class="op">(</span><span class="dt">int</span> depth<span class="op">)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>SETTER<span class="op">(</span>new_bitmap_depth<span class="op">,</span> depth<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L951">Source
Code</a></p>
<p>Sets the depthbuffer depth used by newly created bitmaps (on the
current thread) if they are used with <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>. 0
means no depth-buffer will be created when drawing into the bitmap,
which is the default.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_target.c#L136">ex_depth_target.c</a></li>
</ul>
<h2 id="al_get_new_bitmap_depth">al_get_new_bitmap_depth</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_new_bitmap_depth<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>GETTER<span class="op">(</span>new_bitmap_depth<span class="op">,</span> <span class="dv">0</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L946">Source
Code</a></p>
<p>Returns the value currently set with <a
href="graphics.html#al_set_new_bitmap_depth">al_set_new_bitmap_depth</a>
on the current thread or 0 if none was set.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<h2 id="al_set_new_bitmap_samples">al_set_new_bitmap_samples</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_new_bitmap_samples<span class="op">(</span><span class="dt">int</span> samples<span class="op">)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>SETTER<span class="op">(</span>new_bitmap_samples<span class="op">,</span> samples<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L961">Source
Code</a></p>
<p>Sets the multi-sampling samples used by newly created bitmaps (on the
current thread) if they are used with <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>. 0
means multi-sampling will not be used when drawing into the bitmap,
which is the default. 1 means multi-sampling will be used but only using
a single sample per pixel (so usually there will be no visual difference
to not using multi-sampling at all).</p>
<blockquote>
<p><em>Note:</em> Some platforms have restrictions on when the
multi-sampling buffer for a bitmap is realized, i.e. down-scaled back to
the actual bitmap dimensions. This may only happen after a call to <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>. So
for example:</p>
</blockquote>
<pre><code>al_set_target_bitmap(multisample);
al_clear_to_color(blue);
al_draw_line(0, 0, 100, 100, red, 1);
al_lock_bitmap(multisample, ...)
// ERROR: the contents of the bitmap will be undefined

al_set_target_bitmap(backbuffer);
al_lock_bitmap(multisample, ...)
// CORRECT: at this point, the bitmap contents are updated and
// there will be an anti-aliased line in it.</code></pre>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multisample_target.c#L59">ex_multisample_target.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_target.c#L137">ex_depth_target.c</a></li>
</ul>
<h2 id="al_get_new_bitmap_samples">al_get_new_bitmap_samples</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_new_bitmap_samples<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>GETTER<span class="op">(</span>new_bitmap_samples<span class="op">,</span> <span class="dv">0</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L956">Source
Code</a></p>
<p>Returns the value currently set with <a
href="graphics.html#al_set_new_bitmap_samples">al_set_new_bitmap_samples</a>
on the current thread or 0 if none was set.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<h2 id="al_set_new_bitmap_wrap">al_set_new_bitmap_wrap</h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_new_bitmap_wrap<span class="op">(</span>ALLEGRO_BITMAP_WRAP u<span class="op">,</span> ALLEGRO_BITMAP_WRAP v<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L981">Source
Code</a></p>
<p>Sets the texture wrapping settings for newly created bitmaps (on the
current thread). Typically you take advantage of this feature either via
the primitives addon (see <a
href="primitives.html#al_draw_prim">al_draw_prim</a> and others) or via
custom shaders (see <a
href="shader.html#allegro_shader">ALLEGRO_SHADER</a>).</p>
<blockquote>
<p><em>Note:</em> In the context of custom shaders, Direct3D and OpenGL
have different granularities for controlling this setting. Direct3D sets
wrapping setting for each sampler separately, while OpenGL sets it
per-texture. This interacts particularly poorly with the primitives
addon which (for backwards compatibility) alters the wrapping setting.
To minimize this issue, use a wrapping setting that’s not
ALLEGRO_BITMAP_WRAP_DEFAULT.</p>
</blockquote>
<p>Since: 5.2.8</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature.</p>
</blockquote>
<p>See also: <a
href="graphics.html#allegro_bitmap_wrap">ALLEGRO_BITMAP_WRAP</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_prim_wrap.c#L152">ex_prim_wrap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_prim.c#L690">ex_prim.c</a></li>
</ul>
<h2 id="al_get_new_bitmap_wrap">al_get_new_bitmap_wrap</h2>
<p><a href="">Source Code</a></p>
<p>Returns the value currently set with <a
href="graphics.html#al_set_new_bitmap_wrap">al_set_new_bitmap_wrap</a>
on the current thread.</p>
<p>Since: 5.2.8</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature.</p>
</blockquote>
<p>See also: <a
href="graphics.html#allegro_bitmap_wrap">ALLEGRO_BITMAP_WRAP</a></p>
<h2 id="allegro_bitmap_wrap">ALLEGRO_BITMAP_WRAP</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_BITMAP_WRAP <span class="op">{</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/bitmap.h#L17">Source
Code</a></p>
<p>Controls the how the pixel color is determined from a texture
querying the texture coordinates are outside the usual bounds.</p>
<ul>
<li><p>ALLEGRO_BITMAP_WRAP_DEFAULT - The default behavior. This
corresponds to ALLEGRO_BITMAP_WRAP_REPEAT when using the primitives
addon and ALLEGRO_BITMAP_WRAP_CLAMP otherwise.</p></li>
<li><p>ALLEGRO_BITMAP_WRAP_REPEAT - The texture coordinates get shifted
to the opposite edge that they go past.</p></li>
<li><p>ALLEGRO_BITMAP_WRAP_CLAMP - The texture coordinates get clamped
to the edges that they go past.</p></li>
<li><p>ALLEGRO_BITMAP_WRAP_MIRROR - The texture coordinates get mirrored
across the edges that they go past.</p></li>
</ul>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_prim_wrap.c#L131">ex_prim_wrap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_prim.c#L690">ex_prim.c</a></li>
</ul>
<h1 id="bitmap-properties">Bitmap properties</h1>
<h2 id="al_get_bitmap_flags">al_get_bitmap_flags</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_flags<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L330">Source
Code</a></p>
<p>Return the flags used to create the bitmap.</p>
<p>See also: <a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_loading_thread.c#L66">ex_loading_thread.c</a></li>
</ul>
<h2 id="al_get_bitmap_format">al_get_bitmap_format</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_format<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L309">Source
Code</a></p>
<p>Returns the pixel format of a bitmap.</p>
<p>See also: <a
href="graphics.html#allegro_pixel_format">ALLEGRO_PIXEL_FORMAT</a>, <a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_pixelformat.cpp#L64">ex_pixelformat.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L109">ex_compressed.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_draw.c#L145">ex_draw.c</a></li>
</ul>
<h2 id="al_get_bitmap_height">al_get_bitmap_height</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_height<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L300">Source
Code</a></p>
<p>Returns the height of a bitmap in pixels.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multiwin.c#L104">ex_multiwin.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_resize.c#L16">ex_resize.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_membmp.c#L52">ex_membmp.c</a></li>
</ul>
<h2 id="al_get_bitmap_width">al_get_bitmap_width</h2>
<div class="sourceCode" id="cb53"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_width<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L291">Source
Code</a></p>
<p>Returns the width of a bitmap in pixels.</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_font_justify.cpp#L74">ex_font_justify.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multiwin.c#L103">ex_multiwin.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_resize.c#L15">ex_resize.c</a></li>
</ul>
<h2 id="al_get_bitmap_depth">al_get_bitmap_depth</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_depth<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L350">Source
Code</a></p>
<p>Return the depthbuffer depth used by this bitmap if it is used with
<a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<h2 id="al_get_bitmap_samples">al_get_bitmap_samples</h2>
<div class="sourceCode" id="cb55"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_samples<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L361">Source
Code</a></p>
<p>Return the multi-sampling samples used by this bitmap if it is used
with <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This is an experimental feature and currently only works
for the OpenGL backend.</p>
</blockquote>
<h2 id="al_get_pixel">al_get_pixel</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_get_pixel<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span> <span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_pixel.c#L27">Source
Code</a></p>
<p>Get a pixel’s color value from the specified bitmap. This operation
is slow on non-memory bitmaps. Consider locking the bitmap if you are
going to use this function multiple times on the same bitmap.</p>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, <a
href="graphics.html#al_put_pixel">al_put_pixel</a>, <a
href="graphics.html#al_lock_bitmap">al_lock_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L54">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_compressed.c#L110">ex_compressed.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_vertex_buffer.c#L65">ex_vertex_buffer.c</a></li>
</ul>
<h2 id="al_is_bitmap_locked">al_is_bitmap_locked</h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_bitmap_locked<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_lock.c#L167">Source
Code</a></p>
<p>Returns whether or not a bitmap is already locked.</p>
<p>See also: <a href="graphics.html#al_lock_bitmap">al_lock_bitmap</a>,
<a href="graphics.html#al_lock_bitmap_region">al_lock_bitmap_region</a>,
<a href="graphics.html#al_unlock_bitmap">al_unlock_bitmap</a></p>
<h2 id="al_is_compatible_bitmap">al_is_compatible_bitmap</h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_compatible_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/display.c#L251">Source
Code</a></p>
<p>D3D and OpenGL allow sharing a texture in a way so it can be used for
multiple windows. Each <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a> created with <a
href="graphics.html#al_create_bitmap">al_create_bitmap</a> however is
usually tied to a single ALLEGRO_DISPLAY. This function can be used to
know if the bitmap is compatible with the given display, even if it is a
different display to the one it was created with. It returns true if the
bitmap is compatible (things like a cached texture version can be used)
and false otherwise (blitting in the current display will be slow).</p>
<p>The only time this function is useful is if you are using multiple
windows and need accelerated blitting of the same bitmaps to both.</p>
<p>Returns true if the bitmap is compatible with the current display,
false otherwise. If there is no current display, false is returned.</p>
<h2 id="al_is_sub_bitmap">al_is_sub_bitmap</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_sub_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L633">Source
Code</a></p>
<p>Returns true if the specified bitmap is a sub-bitmap, false
otherwise.</p>
<p>See also: <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_get_parent_bitmap">al_get_parent_bitmap</a></p>
<h2 id="al_get_parent_bitmap">al_get_parent_bitmap</h2>
<div class="sourceCode" id="cb60"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_get_parent_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L641">Source
Code</a></p>
<p>Returns the bitmap this bitmap is a sub-bitmap of. Returns NULL if
this bitmap is not a sub-bitmap. This function always returns the real
bitmap, and never a sub-bitmap. This might NOT match what was passed to
<a href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>.
Consider this code, for instance:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP<span class="op">*</span> a <span class="op">=</span> al_create_bitmap<span class="op">(</span><span class="dv">512</span><span class="op">,</span> <span class="dv">512</span><span class="op">);</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP<span class="op">*</span> b <span class="op">=</span> al_create_sub_bitmap<span class="op">(</span>a<span class="op">,</span> <span class="dv">128</span><span class="op">,</span> <span class="dv">128</span><span class="op">,</span> <span class="dv">256</span><span class="op">,</span> <span class="dv">256</span><span class="op">);</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP<span class="op">*</span> c <span class="op">=</span> al_create_sub_bitmap<span class="op">(</span>b<span class="op">,</span> <span class="dv">64</span><span class="op">,</span> <span class="dv">64</span><span class="op">,</span> <span class="dv">128</span><span class="op">,</span> <span class="dv">128</span><span class="op">);</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>ASSERT<span class="op">(</span>al_get_parent_bitmap<span class="op">(</span>b<span class="op">)</span> <span class="op">==</span> a <span class="op">&amp;&amp;</span> al_get_parent_bitmap<span class="op">(</span>c<span class="op">)</span> <span class="op">==</span> a<span class="op">);</span></span></code></pre></div>
<p>The assertion will pass because only <code>a</code> is a real bitmap,
and both <code>b</code> and <code>c</code> are its sub-bitmaps.</p>
<p>Since: 5.0.6, 5.1.2</p>
<p>See also: <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_is_sub_bitmap">al_is_sub_bitmap</a></p>
<h2 id="al_get_bitmap_x">al_get_bitmap_x</h2>
<div class="sourceCode" id="cb62"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_x<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L650">Source
Code</a></p>
<p>For a sub-bitmap, return it’s x position within the parent.</p>
<p>See also: <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_get_parent_bitmap">al_get_parent_bitmap</a>, <a
href="graphics.html#al_get_bitmap_y">al_get_bitmap_y</a></p>
<p>Since: 5.1.12</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_reparent.c#L29">ex_reparent.c</a></li>
</ul>
<h2 id="al_get_bitmap_y">al_get_bitmap_y</h2>
<div class="sourceCode" id="cb63"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> al_get_bitmap_y<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L659">Source
Code</a></p>
<p>For a sub-bitmap, return it’s y position within the parent.</p>
<p>See also: <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_get_parent_bitmap">al_get_parent_bitmap</a>, <a
href="graphics.html#al_get_bitmap_x">al_get_bitmap_x</a></p>
<p>Since: 5.1.12</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_reparent.c#L30">ex_reparent.c</a></li>
</ul>
<h2 id="al_reparent_bitmap">al_reparent_bitmap</h2>
<div class="sourceCode" id="cb64"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_reparent_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span> ALLEGRO_BITMAP <span class="op">*</span>parent<span class="op">,</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> <span class="dt">int</span> w<span class="op">,</span> <span class="dt">int</span> h<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L608">Source
Code</a></p>
<p>For a sub-bitmap, changes the parent, position and size. This is the
same as destroying the bitmap and re-creating it with <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a> -
except the bitmap pointer stays the same. This has many uses, for
example an animation player could return a single bitmap which can just
be re-parented to different animation frames without having to re-draw
the contents. Or a sprite atlas could re-arrange its sprites without
having to invalidate all existing bitmaps.</p>
<p>See also: <a
href="graphics.html#al_create_sub_bitmap">al_create_sub_bitmap</a>, <a
href="graphics.html#al_get_parent_bitmap">al_get_parent_bitmap</a></p>
<p>Since: 5.1.12</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_reparent.c#L61">ex_reparent.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multisample_target.c#L134">ex_multisample_target.c</a></li>
</ul>
<h2 id="al_get_bitmap_blender">al_get_bitmap_blender</h2>
<div class="sourceCode" id="cb65"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_get_bitmap_blender<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L389">Source
Code</a></p>
<p>Returns the current blender being used by the target bitmap. You can
pass NULL for values you are not interested in.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a>, <a
href="graphics.html#al_get_separate_bitmap_blender">al_get_separate_bitmap_blender</a></p>
<h2
id="al_get_separate_bitmap_blender">al_get_separate_bitmap_blender</h2>
<div class="sourceCode" id="cb66"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_get_separate_bitmap_blender<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>dst<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>alpha_op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>alpha_src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>alpha_dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L396">Source
Code</a></p>
<p>Returns the current blender being used by the target bitmap. You can
pass NULL for values you are not interested in.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</a>,
<a
href="graphics.html#al_get_bitmap_blender">al_get_bitmap_blender</a></p>
<h2 id="al_get_bitmap_blend_color">al_get_bitmap_blend_color</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_get_bitmap_blend_color<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L371">Source
Code</a></p>
<p>Returns the color currently used for constant color blending on the
target bitmap.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_bitmap_blend_color">al_set_bitmap_blend_color</a></p>
<h2 id="al_set_bitmap_blender">al_set_bitmap_blender</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_bitmap_blender<span class="op">(</span><span class="dt">int</span> op<span class="op">,</span> <span class="dt">int</span> src<span class="op">,</span> <span class="dt">int</span> dest<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L445">Source
Code</a></p>
<p>Sets the function to use for blending when rendering to the target
bitmap. If no blender is set for a given bitmap at draw time, the values
set for <a href="graphics.html#al_set_blender">al_set_blender</a>/<a
href="graphics.html#al_set_separate_blender">al_set_separate_blender</a>
are used instead.</p>
<p>To use separate functions for chroma (RGB) and alpha channels, use <a
href="graphics.html#al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</a>.</p>
<p>See <a href="graphics.html#al_set_blender">al_set_blender</a> for
more information about how blending works.</p>
<p>See also: <a
href="graphics.html#al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</a>,
<a
href="graphics.html#al_reset_bitmap_blender">al_reset_bitmap_blender</a></p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_target.c#L67">ex_blend_target.c</a></li>
</ul>
<h2
id="al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</h2>
<div class="sourceCode" id="cb69"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_separate_bitmap_blender<span class="op">(</span><span class="dt">int</span> op<span class="op">,</span> <span class="dt">int</span> src<span class="op">,</span> <span class="dt">int</span> dst<span class="op">,</span> <span class="dt">int</span> alpha_op<span class="op">,</span> <span class="dt">int</span> alpha_src<span class="op">,</span> <span class="dt">int</span> alpha_dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L456">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a>,
but allows specifying a separate blending operation for the alpha
channel. This is useful if your target bitmap also has an alpha channel
and the two alpha channels need to be combined in a different way than
the color components.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a>, <a
href="graphics.html#al_reset_bitmap_blender">al_reset_bitmap_blender</a></p>
<h2 id="al_set_bitmap_blend_color">al_set_bitmap_blend_color</h2>
<div class="sourceCode" id="cb70"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_bitmap_blend_color<span class="op">(</span>ALLEGRO_COLOR col<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L432">Source
Code</a></p>
<p>Sets the color to use for <code>ALLEGRO_CONST_COLOR</code> or
<code>ALLEGRO_INVERSE_CONST_COLOR</code> blend operations.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a>, <a
href="graphics.html#al_reset_bitmap_blender">al_reset_bitmap_blender</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_target.c#L71">ex_blend_target.c</a></li>
</ul>
<h2 id="al_reset_bitmap_blender">al_reset_bitmap_blender</h2>
<div class="sourceCode" id="cb71"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_reset_bitmap_blender<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L475">Source
Code</a></p>
<p>Resets the blender for this bitmap to the default. After resetting
the bitmap blender, the values set for <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a>/<a
href="graphics.html#al_set_separate_bitmap_blender">al_set_separate_bitmap_blender</a>
will be used instead.</p>
<p>Since: 5.2.5</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> New API.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_set_bitmap_blender">al_set_bitmap_blender</a></p>
<h1 id="drawing-operations">Drawing operations</h1>
<p>All drawing operations draw to the current “target bitmap” of the
current thread. Initially, the target bitmap will be the backbuffer of
the last display created in a thread.</p>
<h2 id="al_clear_to_color">al_clear_to_color</h2>
<div class="sourceCode" id="cb72"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_clear_to_color<span class="op">(</span>ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/drawing.c#L26">Source
Code</a></p>
<p>Clear the complete target bitmap, but confined by the clipping
rectangle.</p>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, <a
href="graphics.html#al_set_clipping_rectangle">al_set_clipping_rectangle</a>,
<a
href="graphics.html#al_clear_depth_buffer">al_clear_depth_buffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_keyboard_focus.c#L18">ex_keyboard_focus.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L41">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_mouse_focus.c#L19">ex_mouse_focus.c</a></li>
</ul>
<h2 id="al_clear_depth_buffer">al_clear_depth_buffer</h2>
<div class="sourceCode" id="cb73"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_clear_depth_buffer<span class="op">(</span><span class="dt">float</span> z<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/drawing.c#L46">Source
Code</a></p>
<p>Clear the depth buffer (confined by the clipping rectangle) to the
given value. A depth buffer is only available if it was requested with
<a
href="display.html#al_set_new_display_option">al_set_new_display_option</a>
and the requirement could be met by the <a
href="display.html#al_create_display">al_create_display</a> call
creating the current display. Operations involving the depth buffer are
also affected by <a
href="graphics.html#al_set_render_state">al_set_render_state</a>.</p>
<p>For example, if <code>ALLEGRO_DEPTH_FUNCTION</code> is set to
<code>ALLEGRO_RENDER_LESS</code> then depth buffer value of 1 represents
infinite distance, and thus is a good value to use when clearing the
depth buffer.</p>
<p>Since: 5.1.2</p>
<p>See also: <a
href="graphics.html#al_clear_to_color">al_clear_to_color</a>, <a
href="graphics.html#al_set_clipping_rectangle">al_set_clipping_rectangle</a>,
<a href="graphics.html#al_set_render_state">al_set_render_state</a>, <a
href="display.html#al_set_new_display_option">al_set_new_display_option</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_mask.c#L40">ex_depth_mask.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_target.c#L34">ex_depth_target.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_projection2.c#L166">ex_projection2.c</a></li>
</ul>
<h2 id="al_draw_bitmap">al_draw_bitmap</h2>
<div class="sourceCode" id="cb74"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L148">Source
Code</a></p>
<p>Draws an unscaled, unrotated bitmap at the given position to the
current target bitmap (see <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>).</p>
<p><code>flags</code> can be a combination of:</p>
<ul>
<li>ALLEGRO_FLIP_HORIZONTAL - flip the bitmap about the y-axis</li>
<li>ALLEGRO_FLIP_VERTICAL - flip the bitmap about the x-axis</li>
</ul>
<blockquote>
<p><em>Note:</em> The current target bitmap must be a different bitmap.
Drawing a bitmap to itself (or to a sub-bitmap of itself) or drawing a
sub-bitmap to its parent (or another sub-bitmap of its parent) are not
currently supported. To copy part of a bitmap into the same bitmap
simply use a temporary bitmap instead.</p>
</blockquote>
<blockquote>
<p><em>Note:</em> The backbuffer (or a sub-bitmap thereof) can not be
transformed, blended or tinted. If you need to draw the backbuffer draw
it to a temporary bitmap first with no active transformation (except
translation). Blending and tinting settings/parameters will be ignored.
This does not apply when drawing into a memory bitmap.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_draw_bitmap_region">al_draw_bitmap_region</a>, <a
href="graphics.html#al_draw_scaled_bitmap">al_draw_scaled_bitmap</a>, <a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a>,
<a
href="graphics.html#al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L42">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_opengl_pixel_shader.c#L116">ex_opengl_pixel_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L42">ex_blend_bench.c</a></li>
</ul>
<h2 id="al_draw_tinted_bitmap">al_draw_tinted_bitmap</h2>
<div class="sourceCode" id="cb75"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span> ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L137">Source
Code</a></p>
<p>Like <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> but
multiplies all colors in the bitmap with the given color. For
example:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_bitmap<span class="op">(</span>bitmap<span class="op">,</span> al_map_rgba_f<span class="op">(</span><span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">),</span> x<span class="op">,</span> y<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>The above will draw the bitmap 50% transparently (r/g/b values need
to be pre-multiplied with the alpha component with the default blend
mode).</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_bitmap<span class="op">(</span>bitmap<span class="op">,</span> al_map_rgba_f<span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">),</span> x<span class="op">,</span> y<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>The above will only draw the red component of the bitmap.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a
href="graphics.html#al_draw_bitmap">al_draw_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L43">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_expose.c#L79">ex_expose.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_bitmap_flip.c#L147">ex_bitmap_flip.c</a></li>
</ul>
<h2 id="al_draw_bitmap_region">al_draw_bitmap_region</h2>
<div class="sourceCode" id="cb78"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_bitmap_region<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> sx<span class="op">,</span> <span class="dt">float</span> sy<span class="op">,</span> <span class="dt">float</span> sw<span class="op">,</span> <span class="dt">float</span> sh<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L156">Source
Code</a></p>
<p>Draws a region of the given bitmap to the target bitmap.</p>
<ul>
<li>sx - source x</li>
<li>sy - source y</li>
<li>sw - source width (width of region to blit)</li>
<li>sh - source height (height of region to blit)</li>
<li>dx - destination x</li>
<li>dy - destination y</li>
<li>flags - same as for <a
href="graphics.html#al_draw_bitmap">al_draw_bitmap</a></li>
</ul>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a>,
<a href="graphics.html#al_draw_scaled_bitmap">al_draw_scaled_bitmap</a>,
<a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a>,
<a
href="graphics.html#al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_font.c#L36">ex_font.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_clip.c#L1">ex_clip.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blit.c#L120">ex_blit.c</a></li>
</ul>
<h2 id="al_draw_tinted_bitmap_region">al_draw_tinted_bitmap_region</h2>
<div class="sourceCode" id="cb79"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_bitmap_region<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> sx<span class="op">,</span> <span class="dt">float</span> sy<span class="op">,</span> <span class="dt">float</span> sw<span class="op">,</span> <span class="dt">float</span> sh<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L125">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_bitmap_region">al_draw_bitmap_region</a> but
multiplies all colors in the bitmap with the given color.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_transform.c#L155">ex_transform.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_ttf.c#L93">ex_ttf.c</a></li>
</ul>
<h2 id="al_draw_pixel">al_draw_pixel</h2>
<div class="sourceCode" id="cb80"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_pixel<span class="op">(</span><span class="dt">float</span> x<span class="op">,</span> <span class="dt">float</span> y<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/drawing.c#L64">Source
Code</a></p>
<p>Draws a single pixel at x, y. This function, unlike <a
href="graphics.html#al_put_pixel">al_put_pixel</a>, does blending and,
unlike <a
href="graphics.html#al_put_blended_pixel">al_put_blended_pixel</a>,
respects the transformations (that is, the pixel’s position is
transformed, but its size is unaffected - it remains a pixel). This
function can be slow if called often; if you need to draw a lot of
pixels consider using <a
href="primitives.html#al_draw_prim">al_draw_prim</a> with
ALLEGRO_PRIM_POINT_LIST from the primitives addon.</p>
<ul>
<li>x - destination x</li>
<li>y - destination y</li>
<li>color - color of the pixel</li>
</ul>
<blockquote>
<p><em>Note:</em> This function may not draw exactly where you expect it
to. See the <a href="primitives.html#pixel-precise-output">pixel-precise
output section</a> on the primitives addon documentation for details on
how to control exactly where the pixel is drawn.</p>
</blockquote>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, <a
href="graphics.html#al_put_pixel">al_put_pixel</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L78">ex_drawpixels.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L47">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_resample_test.c#L119">ex_resample_test.c</a></li>
</ul>
<h2 id="al_draw_rotated_bitmap">al_draw_rotated_bitmap</h2>
<div class="sourceCode" id="cb81"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_rotated_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> angle<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L205">Source
Code</a></p>
<p>Draws a rotated version of the given bitmap to the target bitmap. The
bitmap is rotated by ‘angle’ radians clockwise.</p>
<p>The point at cx/cy relative to the upper left corner of the bitmap
will be drawn at dx/dy and the bitmap is rotated around this point. If
cx,cy is 0,0 the bitmap will rotate around its upper left corner.</p>
<ul>
<li>cx - center x (relative to the bitmap)</li>
<li>cy - center y (relative to the bitmap)</li>
<li>dx - destination x</li>
<li>dy - destination y</li>
<li>angle - angle by which to rotate (radians)</li>
<li>flags - same as for <a
href="graphics.html#al_draw_bitmap">al_draw_bitmap</a></li>
</ul>
<p>Example</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> w <span class="op">=</span> al_get_bitmap_width<span class="op">(</span>bitmap<span class="op">);</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> h <span class="op">=</span> al_get_bitmap_height<span class="op">(</span>bitmap<span class="op">);</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>al_draw_rotated_bitmap<span class="op">(</span>bitmap<span class="op">,</span> w <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> h <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> x<span class="op">,</span> y<span class="op">,</span> ALLEGRO_PI <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>The above code draws the bitmap centered on x/y and rotates it 90°
clockwise.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a>,
<a href="graphics.html#al_draw_bitmap_region">al_draw_bitmap_region</a>,
<a href="graphics.html#al_draw_scaled_bitmap">al_draw_scaled_bitmap</a>,
<a
href="graphics.html#al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L262">ex_blend2.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multisample.c#L103">ex_multisample.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multisample_target.c#L111">ex_multisample_target.c</a></li>
</ul>
<h2
id="al_draw_tinted_rotated_bitmap">al_draw_tinted_rotated_bitmap</h2>
<div class="sourceCode" id="cb83"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_rotated_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> angle<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L194">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a>
but multiplies all colors in the bitmap with the given color.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L258">ex_blend2.cpp</a></li>
</ul>
<h2
id="al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</h2>
<div class="sourceCode" id="cb84"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_scaled_rotated_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> xscale<span class="op">,</span> <span class="dt">float</span> yscale<span class="op">,</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> angle<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L244">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a>,
but can also scale the bitmap.</p>
<p>The point at cx/cy in the bitmap will be drawn at dx/dy and the
bitmap is rotated and scaled around this point.</p>
<ul>
<li>cx - center x</li>
<li>cy - center y</li>
<li>dx - destination x</li>
<li>dy - destination y</li>
<li>xscale - how much to scale on the x-axis (e.g. 2 for twice the
size)</li>
<li>yscale - how much to scale on the y-axis</li>
<li>angle - angle by which to rotate (radians)</li>
<li>flags - same as for <a
href="graphics.html#al_draw_bitmap">al_draw_bitmap</a></li>
</ul>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a>,
<a href="graphics.html#al_draw_bitmap_region">al_draw_bitmap_region</a>,
<a href="graphics.html#al_draw_scaled_bitmap">al_draw_scaled_bitmap</a>,
<a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L48">ex_blend_bench.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_bitmap.c#L151">ex_bitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_bitmap_file.c#L160">ex_bitmap_file.c</a></li>
</ul>
<h2
id="al_draw_tinted_scaled_rotated_bitmap">al_draw_tinted_scaled_rotated_bitmap</h2>
<div class="sourceCode" id="cb85"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_scaled_rotated_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> xscale<span class="op">,</span> <span class="dt">float</span> yscale<span class="op">,</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> angle<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L215">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a>
but multiplies all colors in the bitmap with the given color.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_rotate.c#L145">ex_rotate.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_haiku.c#L534">ex_haiku.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_mixer_pp.c#L76">ex_mixer_pp.c</a></li>
</ul>
<h2
id="al_draw_tinted_scaled_rotated_bitmap_region">al_draw_tinted_scaled_rotated_bitmap_region</h2>
<div class="sourceCode" id="cb86"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_scaled_rotated_bitmap_region<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> sx<span class="op">,</span> <span class="dt">float</span> sy<span class="op">,</span> <span class="dt">float</span> sw<span class="op">,</span> <span class="dt">float</span> sh<span class="op">,</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> cx<span class="op">,</span> <span class="dt">float</span> cy<span class="op">,</span> <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> xscale<span class="op">,</span> <span class="dt">float</span> yscale<span class="op">,</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> angle<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L229">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_tinted_scaled_rotated_bitmap">al_draw_tinted_scaled_rotated_bitmap</a>
but you specify an area within the bitmap to be drawn.</p>
<p>You can get the same effect with a sub bitmap:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_scaled_rotated_bitmap<span class="op">(</span>bitmap<span class="op">,</span> sx<span class="op">,</span> sy<span class="op">,</span> sw<span class="op">,</span> sh<span class="op">,</span> tint<span class="op">,</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    cx<span class="op">,</span> cy<span class="op">,</span> dx<span class="op">,</span> dy<span class="op">,</span> xscale<span class="op">,</span> yscale<span class="op">,</span> angle<span class="op">,</span> flags<span class="op">);</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co">/* This draws the same: */</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>sub_bitmap <span class="op">=</span> al_create_sub_bitmap<span class="op">(</span>bitmap<span class="op">,</span> sx<span class="op">,</span> sy<span class="op">,</span> sw<span class="op">,</span> sh<span class="op">);</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>al_draw_tinted_scaled_rotated_bitmap<span class="op">(</span>sub_bitmap<span class="op">,</span> tint<span class="op">,</span> cx<span class="op">,</span> cy<span class="op">,</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>    dx<span class="op">,</span> dy<span class="op">,</span> xscale<span class="op">,</span> yscale<span class="op">,</span> angle<span class="op">,</span> flags<span class="op">);</span></span></code></pre></div>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>Since: 5.0.6, 5.1.0</p>
<p>See also: <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></p>
<h2 id="al_draw_scaled_bitmap">al_draw_scaled_bitmap</h2>
<div class="sourceCode" id="cb88"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_scaled_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> sx<span class="op">,</span> <span class="dt">float</span> sy<span class="op">,</span> <span class="dt">float</span> sw<span class="op">,</span> <span class="dt">float</span> sh<span class="op">,</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> dw<span class="op">,</span> <span class="dt">float</span> dh<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L180">Source
Code</a></p>
<p>Draws a scaled version of the given bitmap to the target bitmap.</p>
<ul>
<li>sx - source x</li>
<li>sy - source y</li>
<li>sw - source width</li>
<li>sh - source height</li>
<li>dx - destination x</li>
<li>dy - destination y</li>
<li>dw - destination width</li>
<li>dh - destination height</li>
<li>flags - same as for <a
href="graphics.html#al_draw_bitmap">al_draw_bitmap</a></li>
</ul>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a>,
<a href="graphics.html#al_draw_bitmap_region">al_draw_bitmap_region</a>,
<a
href="graphics.html#al_draw_rotated_bitmap">al_draw_rotated_bitmap</a>,
<a
href="graphics.html#al_draw_scaled_rotated_bitmap">al_draw_scaled_rotated_bitmap</a>,</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L45">ex_blend_bench.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_dualies.c#L50">ex_dualies.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_multiwin.c#L107">ex_multiwin.c</a></li>
</ul>
<h2 id="al_draw_tinted_scaled_bitmap">al_draw_tinted_scaled_bitmap</h2>
<div class="sourceCode" id="cb89"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_draw_tinted_scaled_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_COLOR tint<span class="op">,</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> sx<span class="op">,</span> <span class="dt">float</span> sy<span class="op">,</span> <span class="dt">float</span> sw<span class="op">,</span> <span class="dt">float</span> sh<span class="op">,</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">float</span> dx<span class="op">,</span> <span class="dt">float</span> dy<span class="op">,</span> <span class="dt">float</span> dw<span class="op">,</span> <span class="dt">float</span> dh<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_draw.c#L166">Source
Code</a></p>
<p>Like <a
href="graphics.html#al_draw_scaled_bitmap">al_draw_scaled_bitmap</a> but
multiplies all colors in the bitmap with the given color.</p>
<p>See <a href="graphics.html#al_draw_bitmap">al_draw_bitmap</a> for a
note on restrictions on which bitmaps can be drawn where.</p>
<p>See also: <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_scale.c#L151">ex_scale.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L245">ex_blend2.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_transform.c#L154">ex_transform.c</a></li>
</ul>
<h2 id="al_get_target_bitmap">al_get_target_bitmap</h2>
<div class="sourceCode" id="cb90"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_get_target_bitmap<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L513">Source
Code</a></p>
<p>Return the target bitmap of the calling thread.</p>
<p>See also: <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_font_justify.cpp#L73">ex_font_justify.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_resize.c#L15">ex_resize.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_membmp.c#L54">ex_membmp.c</a></li>
</ul>
<h2 id="al_put_pixel">al_put_pixel</h2>
<div class="sourceCode" id="cb91"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_put_pixel<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_pixel.c#L131">Source
Code</a></p>
<p>Draw a single pixel on the target bitmap. This operation is slow on
non-memory bitmaps. Consider locking the bitmap if you are going to use
this function multiple times on the same bitmap. This function is not
affected by the transformations or the color blenders.</p>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, <a
href="graphics.html#al_get_pixel">al_get_pixel</a>, <a
href="graphics.html#al_put_blended_pixel">al_put_blended_pixel</a>, <a
href="graphics.html#al_lock_bitmap">al_lock_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_drawpixels.c#L86">ex_drawpixels.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_icon2.c#L61">ex_icon2.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_icon.c#L45">ex_icon.c</a></li>
</ul>
<h2 id="al_put_blended_pixel">al_put_blended_pixel</h2>
<div class="sourceCode" id="cb92"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_put_blended_pixel<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_pixel.c#L139">Source
Code</a></p>
<p>Like <a href="graphics.html#al_put_pixel">al_put_pixel</a>, but the
pixel color is blended using the current blenders before being
drawn.</p>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a>, <a
href="graphics.html#al_put_pixel">al_put_pixel</a></p>
<h1 id="target-bitmap">Target bitmap</h1>
<h2 id="al_set_target_bitmap">al_set_target_bitmap</h2>
<div class="sourceCode" id="cb93"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_target_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L407">Source
Code</a></p>
<p>This function selects the bitmap to which all subsequent drawing
operations in the calling thread will draw to. To return to drawing to a
display, set the backbuffer of the display as the target bitmap, using
<a href="display.html#al_get_backbuffer">al_get_backbuffer</a>. As a
convenience, you may also use <a
href="graphics.html#al_set_target_backbuffer">al_set_target_backbuffer</a>.</p>
<p>Each allegro bitmap maintains two transformation matrices associated
with it for drawing onto the bitmap. There is a view matrix and a
projection matrix. When you call al_set_target_bitmap, these will be
made current for the bitmap, affecting global OpenGL and DirectX states
depending on the driver in use.</p>
<p>Each video bitmap is tied to a display. When a video bitmap is set to
as the target bitmap, the display that the bitmap belongs to is
automatically made “current” for the calling thread (if it is not
current already). Then drawing other bitmaps which are tied to the same
display can be hardware accelerated.</p>
<p>A single display cannot be current for multiple threads
simultaneously. If you need to release a display, so it is not current
for the calling thread, call
<code>al_set_target_bitmap(NULL);</code></p>
<p>Setting a memory bitmap as the target bitmap will not change which
display is current for the calling thread.</p>
<p>On some platforms, Allegro automatically backs up the contents of
video bitmaps because they may be occasionally lost (see discussion in
<a href="graphics.html#al_create_bitmap">al_create_bitmap</a>’s
documentation). If you’re completely recreating the bitmap contents
often (e.g. every frame) then you will get much better performance by
creating the target bitmap with ALLEGRO_NO_PRESERVE_TEXTURE flag.</p>
<p>OpenGL note:</p>
<p>Framebuffer objects (FBOs) allow OpenGL to directly draw to a bitmap,
which is very fast. When using an OpenGL display, if all of the
following conditions are met an FBO will be created for use with the
bitmap:</p>
<ul>
<li>The GL_EXT_framebuffer_object OpenGL extension is available.</li>
<li>The bitmap is not a memory bitmap.</li>
<li>The bitmap is not currently locked.</li>
</ul>
<p>In Allegro 5.0.0, you had to be careful as an FBO would be kept
around until the bitmap is destroyed or you explicitly called <a
href="opengl.html#al_remove_opengl_fbo">al_remove_opengl_fbo</a> on the
bitmap, wasting resources. In newer versions, FBOs will be freed
automatically when the bitmap is no longer the target bitmap,
<em>unless</em> you have called <a
href="opengl.html#al_get_opengl_fbo">al_get_opengl_fbo</a> to retrieve
the FBO id.</p>
<p>In the following example, no FBO will be created:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>lock <span class="op">=</span> al_lock_bitmap<span class="op">(</span>bitmap<span class="op">);</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>al_set_target_bitmap<span class="op">(</span>bitmap<span class="op">);</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>al_put_pixel<span class="op">(</span>x<span class="op">,</span> y<span class="op">,</span> color<span class="op">);</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>al_unlock_bitmap<span class="op">(</span>bitmap<span class="op">);</span></span></code></pre></div>
<p>The above allows using <a
href="graphics.html#al_put_pixel">al_put_pixel</a> on a locked bitmap
without creating an FBO.</p>
<p>In this example an FBO is created however:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>al_set_target_bitmap<span class="op">(</span>bitmap<span class="op">);</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>al_draw_line<span class="op">(</span>x1<span class="op">,</span> y1<span class="op">,</span> x2<span class="op">,</span> y2<span class="op">,</span> color<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>An OpenGL command will be used to directly draw the line into the
bitmap’s associated texture.</p>
<p>See also: <a
href="graphics.html#al_get_target_bitmap">al_get_target_bitmap</a>, <a
href="graphics.html#al_set_target_backbuffer">al_set_target_backbuffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L35">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_opengl_pixel_shader.c#L105">ex_opengl_pixel_shader.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L86">ex_blend_bench.c</a></li>
</ul>
<h2 id="al_set_target_backbuffer">al_set_target_backbuffer</h2>
<div class="sourceCode" id="cb96"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_target_backbuffer<span class="op">(</span>ALLEGRO_DISPLAY <span class="op">*</span>display<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L504">Source
Code</a></p>
<p>Same as
<code>al_set_target_bitmap(al_get_backbuffer(display));</code></p>
<p>See also: <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a>, <a
href="display.html#al_get_backbuffer">al_get_backbuffer</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_keyboard_focus.c#L17">ex_keyboard_focus.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_mouse_focus.c#L18">ex_mouse_focus.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_opengl_pixel_shader.c#L119">ex_opengl_pixel_shader.c</a></li>
</ul>
<h2 id="al_get_current_display">al_get_current_display</h2>
<div class="sourceCode" id="cb97"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_DISPLAY <span class="op">*</span>al_get_current_display<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L394">Source
Code</a></p>
<p>Return the display that is “current” for the calling thread, or NULL
if there is none.</p>
<p>See also: <a
href="graphics.html#al_set_target_bitmap">al_set_target_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/common.c#L40">common.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_vsync.c#L29">ex_vsync.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_color2.c#L146">ex_color2.c</a></li>
</ul>
<h1 id="blending-modes">Blending modes</h1>
<h2 id="al_get_blender">al_get_blender</h2>
<div class="sourceCode" id="cb98"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_get_blender<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L578">Source
Code</a></p>
<p>Returns the active blender for the current thread. You can pass NULL
for values you are not interested in.</p>
<p>See also: <a href="graphics.html#al_set_blender">al_set_blender</a>,
<a
href="graphics.html#al_get_separate_blender">al_get_separate_blender</a></p>
<h2 id="al_get_separate_blender">al_get_separate_blender</h2>
<div class="sourceCode" id="cb99"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_get_separate_blender<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>dst<span class="op">,</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> <span class="op">*</span>alpha_op<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>alpha_src<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>alpha_dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L600">Source
Code</a></p>
<p>Returns the active blender for the current thread. You can pass NULL
for values you are not interested in.</p>
<p>See also: <a
href="graphics.html#al_set_separate_blender">al_set_separate_blender</a>,
<a href="graphics.html#al_get_blender">al_get_blender</a></p>
<h2 id="al_get_blend_color">al_get_blend_color</h2>
<div class="sourceCode" id="cb100"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_COLOR al_get_blend_color<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L587">Source
Code</a></p>
<p>Returns the color currently used for constant color blending (white
by default).</p>
<p>See also: <a
href="graphics.html#al_set_blend_color">al_set_blend_color</a>, <a
href="graphics.html#al_set_blender">al_set_blender</a></p>
<p>Since: 5.1.12</p>
<h2 id="al_set_blender">al_set_blender</h2>
<div class="sourceCode" id="cb101"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_blender<span class="op">(</span><span class="dt">int</span> op<span class="op">,</span> <span class="dt">int</span> src<span class="op">,</span> <span class="dt">int</span> dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L526">Source
Code</a></p>
<p>Sets the function to use for blending for the current thread.</p>
<p>Blending means, the source and destination colors are combined in
drawing operations.</p>
<p>Assume the source color (e.g. color of a rectangle to draw, or pixel
of a bitmap to draw) is given as its red/green/blue/alpha components (if
the bitmap has no alpha it always is assumed to be fully opaque, so 255
for 8-bit or 1.0 for floating point): <em>s = s.r, s.g, s.b, s.a</em>.
And this color is drawn to a destination, which already has a color:
<em>d = d.r, d.g, d.b, d.a</em>.</p>
<p>The conceptional formula used by Allegro to draw any pixel then
depends on the <code>op</code> parameter:</p>
<ul>
<li><p>ALLEGRO_ADD</p>
<pre><code>   r = d.r * df.r + s.r * sf.r
   g = d.g * df.g + s.g * sf.g
   b = d.b * df.b + s.b * sf.b
   a = d.a * df.a + s.a * sf.a</code></pre></li>
<li><p>ALLEGRO_DEST_MINUS_SRC</p>
<pre><code>   r = d.r * df.r - s.r * sf.r
   g = d.g * df.g - s.g * sf.g
   b = d.b * df.b - s.b * sf.b
   a = d.a * df.a - s.a * sf.a</code></pre></li>
<li><p>ALLEGRO_SRC_MINUS_DEST</p>
<pre><code>   r = s.r * sf.r - d.r * df.r
   g = s.g * sf.g - d.g * df.g
   b = s.b * sf.b - d.b * df.b
   a = s.a * sf.a - d.a * df.a</code></pre></li>
</ul>
<p>Valid values for the factors <code>sf</code> and <code>df</code>
passed to this function are as follows, where <code>s</code> is the
source color, <code>d</code> the destination color and <code>cc</code>
the color set with <a
href="graphics.html#al_set_blend_color">al_set_blend_color</a> (white by
default)</p>
<ul>
<li><p>ALLEGRO_ZERO</p>
<pre><code>   f = 0, 0, 0, 0</code></pre></li>
<li><p>ALLEGRO_ONE</p>
<pre><code>   f = 1, 1, 1, 1</code></pre></li>
<li><p>ALLEGRO_ALPHA</p>
<pre><code>   f = s.a, s.a, s.a, s.a</code></pre></li>
<li><p>ALLEGRO_INVERSE_ALPHA</p>
<pre><code>   f = 1 - s.a, 1 - s.a, 1 - s.a, 1 - s.a</code></pre></li>
<li><p>ALLEGRO_SRC_COLOR (since: 5.0.10, 5.1.0)</p>
<pre><code>   f = s.r, s.g, s.b, s.a</code></pre></li>
<li><p>ALLEGRO_DEST_COLOR (since: 5.0.10, 5.1.8)</p>
<pre><code>   f = d.r, d.g, d.b, d.a</code></pre></li>
<li><p>ALLEGRO_INVERSE_SRC_COLOR (since: 5.0.10, 5.1.0)</p>
<pre><code>   f = 1 - s.r, 1 - s.g, 1 - s.b, 1 - s.a</code></pre></li>
<li><p>ALLEGRO_INVERSE_DEST_COLOR (since: 5.0.10, 5.1.8)</p>
<pre><code>   f = 1 - d.r, 1 - d.g, 1 - d.b, 1 - d.a</code></pre></li>
<li><p>ALLEGRO_CONST_COLOR (since: 5.1.12, not supported on OpenGLES
1.0)</p>
<pre><code>   f = cc.r, cc.g, cc.b, cc.a</code></pre></li>
<li><p>ALLEGRO_INVERSE_CONST_COLOR (since: 5.1.12, not supported on
OpenGLES 1.0)</p>
<pre><code>   f = 1 - cc.r, 1 - cc.g, 1 - cc.b, 1 - cc.a</code></pre></li>
</ul>
<p>Blending examples:</p>
<p>So for example, to restore the default of using premultiplied alpha
blending, you would use:</p>
<div class="sourceCode" id="cb115"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_ONE<span class="op">,</span> ALLEGRO_INVERSE_ALPHA<span class="op">);</span></span></code></pre></div>
<p>As formula:</p>
<pre><code>r = d.r * (1 - s.a) + s.r * 1
g = d.g * (1 - s.a) + s.g * 1
b = d.b * (1 - s.a) + s.b * 1
a = d.a * (1 - s.a) + s.a * 1</code></pre>
<p>If you are using non-pre-multiplied alpha, you could use</p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_ALPHA<span class="op">,</span> ALLEGRO_INVERSE_ALPHA<span class="op">);</span></span></code></pre></div>
<p>Additive blending would be achieved with</p>
<div class="sourceCode" id="cb118"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_ONE<span class="op">,</span> ALLEGRO_ONE<span class="op">);</span></span></code></pre></div>
<p>Copying the source to the destination (including alpha)
unmodified</p>
<div class="sourceCode" id="cb119"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_ONE<span class="op">,</span> ALLEGRO_ZERO<span class="op">);</span></span></code></pre></div>
<p>Multiplying source and destination components</p>
<div class="sourceCode" id="cb120"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_DEST_COLOR<span class="op">,</span> ALLEGRO_ZERO<span class="op">)</span></span></code></pre></div>
<p>Tinting the source (like <a
href="graphics.html#al_draw_tinted_bitmap">al_draw_tinted_bitmap</a>)</p>
<div class="sourceCode" id="cb121"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_CONST_COLOR<span class="op">,</span> ALLEGRO_ONE<span class="op">);</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>al_set_blend_color<span class="op">(</span>al_map_rgb<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">96</span><span class="op">,</span> <span class="dv">255</span><span class="op">));</span> <span class="co">/* nice Chrysler blue */</span></span></code></pre></div>
<p>Averaging source and destination pixels</p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>al_set_blender<span class="op">(</span>ALLEGRO_ADD<span class="op">,</span> ALLEGRO_CONST_COLOR<span class="op">,</span> ALLEGRO_CONST_COLOR<span class="op">);</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>al_set_blend_color<span class="op">(</span>al_map_rgba_f<span class="op">(</span><span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">,</span> <span class="fl">0.5</span><span class="op">));</span></span></code></pre></div>
<p>As formula:</p>
<pre><code>r = d.r * 0 + s.r * d.r
g = d.g * 0 + s.g * d.g
b = d.b * 0 + s.b * d.b
a = d.a * 0 + s.a * d.a</code></pre>
<p>See also: <a
href="graphics.html#al_set_separate_blender">al_set_separate_blender</a>,
<a href="graphics.html#al_set_blend_color">al_set_blend_color</a>, <a
href="graphics.html#al_get_blender">al_get_blender</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_bench.c#L87">ex_blend_bench.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_rotate.c#L126">ex_rotate.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_membmp.c#L43">ex_membmp.c</a></li>
</ul>
<h2 id="al_set_separate_blender">al_set_separate_blender</h2>
<div class="sourceCode" id="cb124"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_separate_blender<span class="op">(</span><span class="dt">int</span> op<span class="op">,</span> <span class="dt">int</span> src<span class="op">,</span> <span class="dt">int</span> dst<span class="op">,</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">int</span> alpha_op<span class="op">,</span> <span class="dt">int</span> alpha_src<span class="op">,</span> <span class="dt">int</span> alpha_dst<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L548">Source
Code</a></p>
<p>Like <a href="graphics.html#al_set_blender">al_set_blender</a>, but
allows specifying a separate blending operation for the alpha channel.
This is useful if your target bitmap also has an alpha channel and the
two alpha channels need to be combined in a different way than the color
components.</p>
<p>See also: <a href="graphics.html#al_set_blender">al_set_blender</a>,
<a href="graphics.html#al_get_blender">al_get_blender</a>, <a
href="graphics.html#al_get_separate_blender">al_get_separate_blender</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend_test.c#L41">ex_blend_test.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L290">ex_blend2.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_logo.c#L97">ex_logo.c</a></li>
</ul>
<h2 id="al_set_blend_color">al_set_blend_color</h2>
<div class="sourceCode" id="cb125"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_blend_color<span class="op">(</span>ALLEGRO_COLOR color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/tls.c#L535">Source
Code</a></p>
<p>Sets the color to use for blending when using the ALLEGRO_CONST_COLOR
or ALLEGRO_INVERSE_CONST_COLOR blend functions. See <a
href="graphics.html#al_set_blender">al_set_blender</a> for more
information.</p>
<p>See also: <a href="graphics.html#al_set_blender">al_set_blender</a>,
<a href="graphics.html#al_get_blend_color">al_get_blend_color</a></p>
<p>Since: 5.1.12</p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_blend2.cpp#L291">ex_blend2.cpp</a></li>
</ul>
<h1 id="clipping">Clipping</h1>
<h2 id="al_get_clipping_rectangle">al_get_clipping_rectangle</h2>
<div class="sourceCode" id="cb126"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_get_clipping_rectangle<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>x<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>y<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>w<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>h<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L543">Source
Code</a></p>
<p>Gets the clipping rectangle of the target bitmap.</p>
<p>See also: <a
href="graphics.html#al_set_clipping_rectangle">al_set_clipping_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/nihgui.cpp#L343">nihgui.cpp</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_clip.c#L112">ex_clip.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_draw.c#L129">ex_draw.c</a></li>
</ul>
<h2 id="al_set_clipping_rectangle">al_set_clipping_rectangle</h2>
<div class="sourceCode" id="cb127"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_clipping_rectangle<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">,</span> <span class="dt">int</span> width<span class="op">,</span> <span class="dt">int</span> height<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L487">Source
Code</a></p>
<p>Set the region of the target bitmap or display that pixels get
clipped to. The default is to clip pixels to the entire bitmap.</p>
<p>See also: <a
href="graphics.html#al_get_clipping_rectangle">al_get_clipping_rectangle</a>,
<a
href="graphics.html#al_reset_clipping_rectangle">al_reset_clipping_rectangle</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_rotate.c#L139">ex_rotate.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_scale.c#L145">ex_scale.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_lines.c#L45">ex_lines.c</a></li>
</ul>
<h2 id="al_reset_clipping_rectangle">al_reset_clipping_rectangle</h2>
<div class="sourceCode" id="cb128"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_reset_clipping_rectangle<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L528">Source
Code</a></p>
<p>Equivalent to calling `al_set_clipping_rectangle(0, 0, w, h)’ where
<em>w</em> and <em>h</em> are the width and height of the target bitmap
respectively.</p>
<p>Does nothing if there is no target bitmap.</p>
<p>See also: <a
href="graphics.html#al_set_clipping_rectangle">al_set_clipping_rectangle</a></p>
<p>Since: 5.0.6, 5.1.0</p>
<h1 id="graphics-utility-functions">Graphics utility functions</h1>
<h2 id="al_convert_mask_to_alpha">al_convert_mask_to_alpha</h2>
<div class="sourceCode" id="cb129"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_convert_mask_to_alpha<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">,</span> ALLEGRO_COLOR mask_color<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L255">Source
Code</a></p>
<p>Convert the given mask color to an alpha channel in the bitmap. Can
be used to convert older 4.2-style bitmaps with magic pink to
alpha-ready bitmaps.</p>
<p>See also: <a href="graphics.html#allegro_color">ALLEGRO_COLOR</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_android.c#L123">ex_android.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_projection.c#L223">ex_projection.c</a></li>
</ul>
<h1 id="deferred-drawing">Deferred drawing</h1>
<h2 id="al_hold_bitmap_drawing">al_hold_bitmap_drawing</h2>
<div class="sourceCode" id="cb130"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_hold_bitmap_drawing<span class="op">(</span><span class="dt">bool</span> hold<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/display.c#L509">Source
Code</a></p>
<p>Enables or disables deferred bitmap drawing. This allows for
efficient drawing of many bitmaps that share a parent bitmap, such as
sub-bitmaps from a tilesheet or simply identical bitmaps. Drawing
bitmaps that do not share a parent is less efficient, so it is advisable
to stagger bitmap drawing calls such that the parent bitmap is the same
for large number of those calls. While deferred bitmap drawing is
enabled, the only functions that can be used are the bitmap drawing
functions and font drawing functions. Changing the state such as the
blending modes will result in undefined behaviour. One exception to this
rule are the non-projection transformations. It is possible to set a new
transformation while the drawing is held.</p>
<p>No drawing is guaranteed to take place until you disable the hold.
Thus, the idiom of this function’s usage is to enable the deferred
bitmap drawing, draw as many bitmaps as possible, taking care to stagger
bitmaps that share parent bitmaps, and then disable deferred drawing. As
mentioned above, this function also works with bitmap and truetype
fonts, so if multiple lines of text need to be drawn, this function can
speed things up.</p>
<p>See also: <a
href="graphics.html#al_is_bitmap_drawing_held">al_is_bitmap_drawing_held</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_mask.c#L56">ex_depth_mask.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_draw_bitmap.c#L217">ex_draw_bitmap.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_ttf.c#L71">ex_ttf.c</a></li>
</ul>
<h2 id="al_is_bitmap_drawing_held">al_is_bitmap_drawing_held</h2>
<div class="sourceCode" id="cb131"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_is_bitmap_drawing_held<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/display.c#L545">Source
Code</a></p>
<p>Returns whether the deferred bitmap drawing mode is turned on or
off.</p>
<p>See also: <a
href="graphics.html#al_hold_bitmap_drawing">al_hold_bitmap_drawing</a></p>
<h1 id="image-io">Image I/O</h1>
<h2 id="al_register_bitmap_loader">al_register_bitmap_loader</h2>
<div class="sourceCode" id="cb132"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_bitmap_loader<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>extension<span class="op">,</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP <span class="op">*(*</span>loader<span class="op">)(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> <span class="dt">int</span> flags<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L128">Source
Code</a></p>
<p>Register a handler for <a
href="graphics.html#al_load_bitmap">al_load_bitmap</a>. The given
function will be used to handle the loading of bitmaps files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="graphics.html#al_register_bitmap_saver">al_register_bitmap_saver</a>,
<a
href="graphics.html#al_register_bitmap_loader_f">al_register_bitmap_loader_f</a></p>
<h2 id="al_register_bitmap_saver">al_register_bitmap_saver</h2>
<div class="sourceCode" id="cb133"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_bitmap_saver<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>extension<span class="op">,</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>saver<span class="op">)(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> ALLEGRO_BITMAP <span class="op">*</span>bmp<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L137">Source
Code</a></p>
<p>Register a handler for <a
href="graphics.html#al_save_bitmap">al_save_bitmap</a>. The given
function will be used to handle the saving of bitmaps files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>saver</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="graphics.html#al_register_bitmap_loader">al_register_bitmap_loader</a>,
<a
href="graphics.html#al_register_bitmap_saver_f">al_register_bitmap_saver_f</a></p>
<h2 id="al_register_bitmap_loader_f">al_register_bitmap_loader_f</h2>
<div class="sourceCode" id="cb134"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_bitmap_loader_f<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>extension<span class="op">,</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP <span class="op">*(*</span>fs_loader<span class="op">)(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> <span class="dt">int</span> flags<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L146">Source
Code</a></p>
<p>Register a handler for <a
href="graphics.html#al_load_bitmap_f">al_load_bitmap_f</a>. The given
function will be used to handle the loading of bitmaps files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>fs_loader</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="graphics.html#al_register_bitmap_loader">al_register_bitmap_loader</a></p>
<h2 id="al_register_bitmap_saver_f">al_register_bitmap_saver_f</h2>
<div class="sourceCode" id="cb135"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_bitmap_saver_f<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>extension<span class="op">,</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>fs_saver<span class="op">)(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> ALLEGRO_BITMAP <span class="op">*</span>bmp<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L155">Source
Code</a></p>
<p>Register a handler for <a
href="graphics.html#al_save_bitmap_f">al_save_bitmap_f</a>. The given
function will be used to handle the saving of bitmaps files with the
given extension.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>saver_f</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>See also: <a
href="graphics.html#al_register_bitmap_saver">al_register_bitmap_saver</a></p>
<h2 id="al_load_bitmap">al_load_bitmap</h2>
<div class="sourceCode" id="cb136"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_load_bitmap<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L173">Source
Code</a></p>
<p>Loads an image file into a new <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a>. The file type is
determined by <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a>, using
the extension as a fallback in case identification is not possible.</p>
<p>Returns NULL on error.</p>
<p>This is the same as calling <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a> with
a flags parameter of 0.</p>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a>, <a
href="graphics.html#al_load_bitmap_f">al_load_bitmap_f</a>, <a
href="graphics.html#al_register_bitmap_loader">al_register_bitmap_loader</a>,
<a
href="graphics.html#al_set_new_bitmap_format">al_set_new_bitmap_format</a>,
<a
href="graphics.html#al_set_new_bitmap_flags">al_set_new_bitmap_flags</a>,
<a href="image.html#al_init_image_addon">al_init_image_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L34">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L25">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_file_slice.c#L65">ex_file_slice.c</a></li>
</ul>
<h2 id="al_load_bitmap_flags">al_load_bitmap_flags</h2>
<div class="sourceCode" id="cb137"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_load_bitmap_flags<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L190">Source
Code</a></p>
<p>Loads an image file into a new <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a>. The file type is
determined by <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a>, using
the extension as a fallback in case identification is not possible.</p>
<p>Returns NULL on error.</p>
<p>The flags parameter may be a combination of the following
constants:</p>
<dl>
<dt>ALLEGRO_NO_PREMULTIPLIED_ALPHA</dt>
<dd>
<p>By default, Allegro pre-multiplies the alpha channel of an image with
the images color data when it loads it. Typically that would look
something like this:</p>
<div class="sourceCode" id="cb138"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> r <span class="op">*</span> a<span class="op">;</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> g <span class="op">*</span> a<span class="op">;</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> b <span class="op">*</span> a<span class="op">;</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>set_image_pixel<span class="op">(</span>x<span class="op">,</span> y<span class="op">,</span> r<span class="op">,</span> g<span class="op">,</span> b<span class="op">,</span> a<span class="op">);</span></span></code></pre></div>
<p>The reason for this can be seen in the Allegro example
ex_premulalpha, ie, using pre-multiplied alpha gives more accurate color
results in some cases. To use alpha blending with images loaded with
pre-multiplied alpha, you would use the default blending mode, which is
set with al_set_blender(ALLEGRO_ADD, ALLEGRO_ONE,
ALLEGRO_INVERSE_ALPHA).</p>
<p>The ALLEGRO_NO_PREMULTIPLIED_ALPHA flag being set will ensure that
images are not loaded with alpha pre-multiplied, but are loaded with
color values direct from the image. That looks like this:</p>
<div class="sourceCode" id="cb139"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> get_float_byte<span class="op">();</span></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>set_image_pixel<span class="op">(</span>x<span class="op">,</span> y<span class="op">,</span> r<span class="op">,</span> g<span class="op">,</span> b<span class="op">,</span> a<span class="op">);</span></span></code></pre></div>
<p>To draw such an image using regular alpha blending, you would use
al_set_blender(ALLEGRO_ADD, ALLEGRO_ALPHA, ALLEGRO_INVERSE_ALPHA) to set
the correct blender. This has some caveats. First, as mentioned above,
drawing such an image can result in less accurate color blending (when
drawing an image with linear filtering on, the edges will be darker than
they should be). Second, the behaviour is somewhat confusing, which is
explained in the example below.</p>
<div class="sourceCode" id="cb140"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Load and create bitmaps with an alpha channel</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>al_set_new_bitmap_format<span class="op">(</span>ALLEGRO_PIXEL_FORMAT_ANY_32_WITH_ALPHA<span class="op">);</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Load some bitmap with alpha in it</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>bmp <span class="op">=</span> al_load_bitmap<span class="op">(</span><span class="st">&quot;some_alpha_bitmap.png&quot;</span><span class="op">);</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="co">// We will draw to this buffer and then draw this buffer to the screen</span></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>tmp_buffer <span class="op">=</span> al_create_bitmap<span class="op">(</span>SCREEN_W<span class="op">,</span> SCREEN_H<span class="op">);</span></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Set the buffer as the target and clear it</span></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>al_set_target_bitmap<span class="op">(</span>tmp_buffer<span class="op">);</span></span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>al_clear_to_color<span class="op">(</span>al_map_rgba_f<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">));</span></span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Draw the bitmap to the temporary buffer</span></span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>al_draw_bitmap<span class="op">(</span>bmp<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a><span class="co">// Finally, draw the buffer to the screen</span></span>
<span id="cb140-13"><a href="#cb140-13" aria-hidden="true" tabindex="-1"></a><span class="co">// The output will look incorrect (may take close inspection</span></span>
<span id="cb140-14"><a href="#cb140-14" aria-hidden="true" tabindex="-1"></a><span class="co">// depending on the bitmap -- it may also be very obvious)</span></span>
<span id="cb140-15"><a href="#cb140-15" aria-hidden="true" tabindex="-1"></a>al_set_target_bitmap<span class="op">(</span>al_get_backbuffer<span class="op">(</span>display<span class="op">));</span></span>
<span id="cb140-16"><a href="#cb140-16" aria-hidden="true" tabindex="-1"></a>al_draw_bitmap<span class="op">(</span>tmp_buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>To explain further, if you have a pixel with 0.5 alpha, and you’re
using (ALLEGRO_ADD, ALLEGRO_ALPHA, ALLEGRO_INVERSE_ALPHA) for blending,
the formula is:</p>
<pre><code>a = da * dst + sa * src</code></pre>
<p>Expands to:</p>
<pre><code>result_a = dst_a * (1-0.5) + 0.5 * 0.5</code></pre>
<p>So if you draw the image to the temporary buffer, it is blended once
resulting in 0.75 alpha, then drawn again to the screen, blended in the
same way, resulting in a pixel has 0.1875 as an alpha value.</p>
</dd>
<dt>ALLEGRO_KEEP_INDEX</dt>
<dd>
Load the palette indices of 8-bit .bmp and .pcx files instead of the rgb
colors. Since 5.1.0.
</dd>
<dt>ALLEGRO_KEEP_BITMAP_FORMAT</dt>
<dd>
<p>Force the resulting <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a> to use the same
format as the file.</p>
<p><em>This is not yet honoured.</em></p>
</dd>
</dl>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>Since: 5.1.0</p>
<p>See also: <a
href="graphics.html#al_load_bitmap">al_load_bitmap</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L34">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_palette.c#L57">ex_palette.c</a></li>
</ul>
<h2 id="al_load_bitmap_f">al_load_bitmap_f</h2>
<div class="sourceCode" id="cb143"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_load_bitmap_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L246">Source
Code</a></p>
<p>Loads an image from an <a
href="file.html#allegro_file">ALLEGRO_FILE</a> stream into a new <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a>. The file type is
determined by <a
href="graphics.html#al_identify_bitmap_f">al_identify_bitmap_f</a>. If
identification is not possible, the passed ‘ident’ parameter, which is a
file name extension including the leading dot, is used as a fallback, if
it is not NULL.</p>
<p>This is the same as calling <a
href="graphics.html#al_load_bitmap_flags_f">al_load_bitmap_flags_f</a>
with 0 for the flags parameter.</p>
<p>Returns NULL on error. The file remains open afterwards.</p>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_load_bitmap_flags_f">al_load_bitmap_flags_f</a>,
<a href="graphics.html#al_load_bitmap">al_load_bitmap</a>, <a
href="graphics.html#al_register_bitmap_loader_f">al_register_bitmap_loader_f</a>,
<a href="image.html#al_init_image_addon">al_init_image_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L34">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_file_slice.c#L65">ex_file_slice.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_bitmap_file.c#L83">ex_bitmap_file.c</a></li>
</ul>
<h2 id="al_load_bitmap_flags_f">al_load_bitmap_flags_f</h2>
<div class="sourceCode" id="cb144"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>ALLEGRO_BITMAP <span class="op">*</span>al_load_bitmap_flags_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">,</span> <span class="dt">int</span> flags<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L263">Source
Code</a></p>
<p>Loads an image from an <a
href="file.html#allegro_file">ALLEGRO_FILE</a> stream into a new <a
href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a>. The file type is
determined by <a
href="graphics.html#al_identify_bitmap_f">al_identify_bitmap_f</a>. If
identification is not possible, the passed ‘ident’ parameter, which is a
file name extension including the leading dot, is used as a fallback, if
it is not NULL.</p>
<p>The flags parameter is the same as for <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a>.</p>
<p>Returns NULL on error. The file remains open afterwards.</p>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>Since: 5.1.0</p>
<p>See also: <a
href="graphics.html#al_load_bitmap_f">al_load_bitmap_f</a>, <a
href="graphics.html#al_load_bitmap_flags">al_load_bitmap_flags</a></p>
<h2 id="al_save_bitmap">al_save_bitmap</h2>
<div class="sourceCode" id="cb145"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_save_bitmap<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>filename<span class="op">,</span> ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L223">Source
Code</a></p>
<p>Saves an <a href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a> to
an image file. The file type is determined by the extension.</p>
<p>Returns true on success, false on error.</p>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_save_bitmap_f">al_save_bitmap_f</a>, <a
href="graphics.html#al_register_bitmap_saver">al_register_bitmap_saver</a>,
<a href="image.html#al_init_image_addon">al_init_image_addon</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_convert.c#L41">ex_convert.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_nodisplay.c#L50">ex_nodisplay.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_logo.c#L269">ex_logo.c</a></li>
</ul>
<h2 id="al_save_bitmap_f">al_save_bitmap_f</h2>
<div class="sourceCode" id="cb146"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_save_bitmap_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>ident<span class="op">,</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>   ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L280">Source
Code</a></p>
<p>Saves an <a href="graphics.html#allegro_bitmap">ALLEGRO_BITMAP</a> to
an <a href="file.html#allegro_file">ALLEGRO_FILE</a> stream. The file
type is determined by the passed ‘ident’ parameter, which is a file name
extension including the leading dot.</p>
<p>Returns true on success, false on error. The file remains open
afterwards.</p>
<blockquote>
<p><em>Note:</em> the core Allegro library does not support any image
file formats by default. You must use the allegro_image addon, or
register your own format handler.</p>
</blockquote>
<p>See also: <a href="graphics.html#al_save_bitmap">al_save_bitmap</a>,
<a
href="graphics.html#al_register_bitmap_saver_f">al_register_bitmap_saver_f</a>,
<a href="image.html#al_init_image_addon">al_init_image_addon</a></p>
<h2
id="al_register_bitmap_identifier">al_register_bitmap_identifier</h2>
<div class="sourceCode" id="cb147"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> al_register_bitmap_identifier<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>extension<span class="op">,</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">bool</span> <span class="op">(*</span>identifier<span class="op">)(</span>ALLEGRO_FILE <span class="op">*</span>f<span class="op">))</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L164">Source
Code</a></p>
<p>Register an identify handler for <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a>. The
given function will be used to detect files for the given extension. It
will be called with a single argument of type <a
href="file.html#allegro_file">ALLEGRO_FILE</a> which is a file handle
opened for reading and located at the first byte of the file. The
handler should try to read as few bytes as possible to safely determine
if the given file contents correspond to the type with the extension and
return true in that case, false otherwise. The file handle must not be
closed but there is no need to reset it to the beginning.</p>
<p>The extension should include the leading dot (‘.’) character. It will
be matched case-insensitively.</p>
<p>The <code>identifier</code> argument may be NULL to unregister an
entry.</p>
<p>Returns true on success, false on error. Returns false if
unregistering an entry that doesn’t exist.</p>
<p>Since: 5.1.12</p>
<p>See also: <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a></p>
<h2 id="al_identify_bitmap">al_identify_bitmap</h2>
<div class="sourceCode" id="cb148"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>al_identify_bitmap<span class="op">(</span><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>filename<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L306">Source
Code</a></p>
<p>This works exactly as <a
href="graphics.html#al_identify_bitmap_f">al_identify_bitmap_f</a> but
you specify the filename of the file for which to detect the type and
not a file handle. The extension, if any, of the passed filename is not
taken into account - only the file contents.</p>
<p>Since: 5.1.12</p>
<p>See also: <a
href="image.html#al_init_image_addon">al_init_image_addon</a>, <a
href="graphics.html#al_identify_bitmap_f">al_identify_bitmap_f</a>, <a
href="graphics.html#al_register_bitmap_identifier">al_register_bitmap_identifier</a></p>
<h2 id="al_identify_bitmap_f">al_identify_bitmap_f</h2>
<div class="sourceCode" id="cb149"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> <span class="dt">const</span> <span class="op">*</span>al_identify_bitmap_f<span class="op">(</span>ALLEGRO_FILE <span class="op">*</span>fp<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap_io.c#L295">Source
Code</a></p>
<p>Tries to guess the bitmap file type of the open ALLEGRO_FILE by
reading the first few bytes. By default Allegro cannot recognize any
file types, but calling <a
href="image.html#al_init_image_addon">al_init_image_addon</a> will add
detection of (some of) the types it can read. You can also use <a
href="graphics.html#al_register_bitmap_identifier">al_register_bitmap_identifier</a>
to add identification for custom file types.</p>
<p>Returns a pointer to a static string with a file extension for the
type, including the leading dot. For example “.png” or “.jpg”. Returns
NULL if the bitmap type cannot be determined.</p>
<p>Since: 5.1.12</p>
<p>See also: <a
href="image.html#al_init_image_addon">al_init_image_addon</a>, <a
href="graphics.html#al_identify_bitmap">al_identify_bitmap</a>, <a
href="graphics.html#al_register_bitmap_identifier">al_register_bitmap_identifier</a></p>
<h1 id="render-state">Render State</h1>
<h2 id="allegro_render_state">ALLEGRO_RENDER_STATE</h2>
<div class="sourceCode" id="cb150"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_RENDER_STATE <span class="op">{</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/render_state.h#L12">Source
Code</a></p>
<p>Possible render states which can be set with <a
href="graphics.html#al_set_render_state">al_set_render_state</a>:</p>
<dl>
<dt>ALLEGRO_ALPHA_TEST</dt>
<dd>
If this is set to 1, the values of ALLEGRO_ALPHA_FUNCTION and
ALLEGRO_ALPHA_TEST_VALUE define a comparison function which is performed
on the alpha component of each pixel. Only if it evaluates to true the
pixel is written. Otherwise no subsequent processing (like depth test or
blending) is performed. This can be very useful, for example if a depth
buffer is used but you do not want fully transparent pixels to modify
it.
</dd>
<dt>ALLEGRO_ALPHA_FUNCTION</dt>
<dd>
One of <a
href="graphics.html#allegro_render_function">ALLEGRO_RENDER_FUNCTION</a>,
only used when ALLEGRO_ALPHA_TEST is 1.
</dd>
<dt>ALLEGRO_ALPHA_TEST_VALUE</dt>
<dd>
Only used when ALLEGRO_ALPHA_TEST is 1. Should be a value of 0 - 255.
</dd>
<dt>ALLEGRO_WRITE_MASK</dt>
<dd>
This determines how the framebuffer and depthbuffer are updated whenever
a pixel is written (in case alpha and/or depth testing is enabled: after
all such enabled tests succeed). Depth values are only written if
ALLEGRO_DEPTH_TEST is 1, in addition to the write mask flag being set.
</dd>
<dt>ALLEGRO_DEPTH_TEST</dt>
<dd>
If this is set to 1, compare the depth value of any newly written pixels
with the depth value already in the buffer, according to
ALLEGRO_DEPTH_FUNCTION. Allegro primitives with no explicit z coordinate
will write a value of 0 into the depth buffer.
</dd>
<dt>ALLEGRO_DEPTH_FUNCTION</dt>
<dd>
One of <a
href="graphics.html#allegro_render_function">ALLEGRO_RENDER_FUNCTION</a>,
only used when ALLEGRO_DEPTH_TEST is 1.
</dd>
</dl>
<p>Since: 5.1.2</p>
<p>See also: <a
href="graphics.html#al_set_render_state">al_set_render_state</a>, <a
href="graphics.html#allegro_render_function">ALLEGRO_RENDER_FUNCTION</a>,
<a
href="graphics.html#allegro_write_mask_flags">ALLEGRO_WRITE_MASK_FLAGS</a></p>
<h2 id="allegro_render_function">ALLEGRO_RENDER_FUNCTION</h2>
<div class="sourceCode" id="cb151"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_RENDER_FUNCTION <span class="op">{</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/render_state.h#L26">Source
Code</a></p>
<p>Possible functions are:</p>
<ul>
<li>ALLEGRO_RENDER_NEVER</li>
<li>ALLEGRO_RENDER_ALWAYS</li>
<li>ALLEGRO_RENDER_LESS</li>
<li>ALLEGRO_RENDER_EQUAL</li>
<li>ALLEGRO_RENDER_LESS_EQUAL<br />
</li>
<li>ALLEGRO_RENDER_GREATER<br />
</li>
<li>ALLEGRO_RENDER_NOT_EQUAL</li>
<li>ALLEGRO_RENDER_GREATER_EQUAL</li>
</ul>
<p>Since: 5.1.2</p>
<p>See also: <a
href="graphics.html#al_set_render_state">al_set_render_state</a></p>
<h2 id="allegro_write_mask_flags">ALLEGRO_WRITE_MASK_FLAGS</h2>
<div class="sourceCode" id="cb152"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> ALLEGRO_WRITE_MASK_FLAGS <span class="op">{</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/include/allegro5/render_state.h#L39">Source
Code</a></p>
<p>Each enabled bit means the corresponding value is written, a disabled
bit means it is not.</p>
<ul>
<li>ALLEGRO_MASK_RED</li>
<li>ALLEGRO_MASK_GREEN</li>
<li>ALLEGRO_MASK_BLUE</li>
<li>ALLEGRO_MASK_ALPHA</li>
<li>ALLEGRO_MASK_DEPTH</li>
<li>ALLEGRO_MASK_RGB - Same as RED | GREEN | BLUE.</li>
<li>ALLEGRO_MASK_RGBA - Same as RGB | ALPHA.</li>
</ul>
<p>Since: 5.1.2</p>
<p>See also: <a
href="graphics.html#al_set_render_state">al_set_render_state</a></p>
<h2 id="al_set_render_state">al_set_render_state</h2>
<div class="sourceCode" id="cb153"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_set_render_state<span class="op">(</span>ALLEGRO_RENDER_STATE state<span class="op">,</span> <span class="dt">int</span> value<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/display.c#L607">Source
Code</a></p>
<p>Set one of several render attributes; see <a
href="graphics.html#allegro_render_state">ALLEGRO_RENDER_STATE</a> for
details.</p>
<p>This function does nothing if the target bitmap is a memory
bitmap.</p>
<p>Since: 5.1.2</p>
<p>See also: <a
href="graphics.html#allegro_render_state">ALLEGRO_RENDER_STATE</a>, <a
href="graphics.html#allegro_render_function">ALLEGRO_RENDER_FUNCTION</a>,
<a
href="graphics.html#allegro_write_mask_flags">ALLEGRO_WRITE_MASK_FLAGS</a></p>
<p>Examples:</p>
<ul>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_mask.c#L32">ex_depth_mask.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_depth_target.c#L44">ex_depth_target.c</a></li>
<li><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/examples/ex_draw_bitmap.c#L208">ex_draw_bitmap.c</a></li>
</ul>
<h2 id="al_backup_dirty_bitmap">al_backup_dirty_bitmap</h2>
<div class="sourceCode" id="cb154"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_backup_dirty_bitmap<span class="op">(</span>ALLEGRO_BITMAP <span class="op">*</span>bitmap<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/bitmap.c#L811">Source
Code</a></p>
<p>On some platforms, notably Windows Direct3D and Android, textures may
be lost at any time for events such as display resize or switching out
of the app. On those platforms, bitmaps created without the
ALLEGRO_NO_PRESERVE_TEXTURE flag automatically get backed up to system
memory every time al_flip_display is called.</p>
<p>This function gives you more control over when your bitmaps get
backed up. By calling this function after modifying a bitmap, you can
make sure the bitmap is backed up right away instead of during the next
flip.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This API is new and subject to refinement.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_backup_dirty_bitmaps">al_backup_dirty_bitmaps</a>,
<a href="graphics.html#al_create_bitmap">al_create_bitmap</a></p>
<h2 id="al_backup_dirty_bitmaps">al_backup_dirty_bitmaps</h2>
<div class="sourceCode" id="cb155"><pre
class="sourceCode c"><code class="sourceCode c"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> al_backup_dirty_bitmaps<span class="op">(</span>ALLEGRO_DISPLAY <span class="op">*</span>display<span class="op">)</span></span></code></pre></div>
<p><a
href="https://github.com/liballeg/allegro5/blob/edcc50e85036e95474a31a7c75089b6b7653a4e5/src/display.c#L645">Source
Code</a></p>
<p>Backs up all of a display’s bitmaps to system memory.</p>
<p>Since: 5.2.1</p>
<blockquote>
<p><em><a href="getting_started.html#unstable-api">Unstable
API</a>:</em> This API is new and subject to refinement.</p>
</blockquote>
<p>See also: <a
href="graphics.html#al_backup_dirty_bitmap">al_backup_dirty_bitmap</a></p>
<p class="timestamp">
Allegro version 5.2.10 (20231119)
 - Last updated: 2024-02-15 04:08:14 UTC
</p>
</div>
</body>
</html>
